var $G=Object.defineProperty;var fk=t=>{throw TypeError(t)};var LG=(t,e,n)=>e in t?$G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gu=(t,e,n)=>LG(t,typeof e!="symbol"?e+"":e,n),S_=(t,e,n)=>e.has(t)||fk("Cannot "+n);var J=(t,e,n)=>(S_(t,e,"read from private field"),n?n.call(t):e.get(t)),Ge=(t,e,n)=>e.has(t)?fk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Oe=(t,e,n,r)=>(S_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),zn=(t,e,n)=>(S_(t,e,"access private method"),n);var Kg=(t,e,n,r)=>({set _(i){Oe(t,e,i,n)},get _(){return J(t,e,r)}});function FG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u4={exports:{}},Db={},d4={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),VG=Symbol.for("react.portal"),BG=Symbol.for("react.fragment"),UG=Symbol.for("react.strict_mode"),zG=Symbol.for("react.profiler"),WG=Symbol.for("react.provider"),HG=Symbol.for("react.context"),qG=Symbol.for("react.forward_ref"),KG=Symbol.for("react.suspense"),GG=Symbol.for("react.memo"),YG=Symbol.for("react.lazy"),hk=Symbol.iterator;function XG(t){return t===null||typeof t!="object"?null:(t=hk&&t[hk]||t["@@iterator"],typeof t=="function"?t:null)}var f4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h4=Object.assign,p4={};function hf(t,e,n){this.props=t,this.context=e,this.refs=p4,this.updater=n||f4}hf.prototype.isReactComponent={};hf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m4(){}m4.prototype=hf.prototype;function UA(t,e,n){this.props=t,this.context=e,this.refs=p4,this.updater=n||f4}var zA=UA.prototype=new m4;zA.constructor=UA;h4(zA,hf.prototype);zA.isPureReactComponent=!0;var pk=Array.isArray,g4=Object.prototype.hasOwnProperty,WA={current:null},y4={key:!0,ref:!0,__self:!0,__source:!0};function v4(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)g4.call(e,r)&&!y4.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ym,type:t,key:o,ref:a,props:i,_owner:WA.current}}function QG(t,e){return{$$typeof:Ym,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function HA(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ym}function JG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mk=/\/+/g;function E_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JG(""+t.key):e.toString(36)}function Xy(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ym:case VG:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+E_(a,0):r,pk(i)?(n="",t!=null&&(n=t.replace(mk,"$&/")+"/"),Xy(i,e,n,"",function(u){return u})):i!=null&&(HA(i)&&(i=QG(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mk,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",pk(t))for(var s=0;s<t.length;s++){o=t[s];var c=r+E_(o,s);a+=Xy(o,e,n,c,i)}else if(c=XG(t),typeof c=="function")for(t=c.call(t),s=0;!(o=t.next()).done;)o=o.value,c=r+E_(o,s++),a+=Xy(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yg(t,e,n){if(t==null)return t;var r=[],i=0;return Xy(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ZG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},Qy={transition:null},eY={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Qy,ReactCurrentOwner:WA};function x4(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Yg,forEach:function(t,e,n){Yg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yg(t,function(){e++}),e},toArray:function(t){return Yg(t,function(e){return e})||[]},only:function(t){if(!HA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=hf;He.Fragment=BG;He.Profiler=zG;He.PureComponent=UA;He.StrictMode=UG;He.Suspense=KG;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eY;He.act=x4;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h4({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=WA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)g4.call(e,c)&&!y4.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ym,type:t.type,key:i,ref:o,props:r,_owner:a}};He.createContext=function(t){return t={$$typeof:HG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WG,_context:t},t.Consumer=t};He.createElement=v4;He.createFactory=function(t){var e=v4.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:qG,render:t}};He.isValidElement=HA;He.lazy=function(t){return{$$typeof:YG,_payload:{_status:-1,_result:t},_init:ZG}};He.memo=function(t,e){return{$$typeof:GG,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Qy.transition;Qy.transition={};try{t()}finally{Qy.transition=e}};He.unstable_act=x4;He.useCallback=function(t,e){return gr.current.useCallback(t,e)};He.useContext=function(t){return gr.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};He.useEffect=function(t,e){return gr.current.useEffect(t,e)};He.useId=function(){return gr.current.useId()};He.useImperativeHandle=function(t,e,n){return gr.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return gr.current.useMemo(t,e)};He.useReducer=function(t,e,n){return gr.current.useReducer(t,e,n)};He.useRef=function(t){return gr.current.useRef(t)};He.useState=function(t){return gr.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return gr.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return gr.current.useTransition()};He.version="18.3.1";d4.exports=He;var b=d4.exports;const D=gt(b),qA=FG({__proto__:null,default:D},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tY=b,nY=Symbol.for("react.element"),rY=Symbol.for("react.fragment"),iY=Object.prototype.hasOwnProperty,oY=tY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aY={key:!0,ref:!0,__self:!0,__source:!0};function b4(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)iY.call(e,r)&&!aY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nY,type:t,key:o,ref:a,props:i,_owner:oY.current}}Db.Fragment=rY;Db.jsx=b4;Db.jsxs=b4;u4.exports=Db;var l=u4.exports,w4={exports:{}},ei={},_4={exports:{}},S4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,L){var H=F.length;F.push(L);e:for(;0<H;){var z=H-1>>>1,W=F[z];if(0<i(W,L))F[z]=L,F[H]=W,H=z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],H=F.pop();if(H!==L){F[0]=H;e:for(var z=0,W=F.length,K=W>>>1;z<K;){var re=2*(z+1)-1,de=F[re],be=re+1,oe=F[be];if(0>i(de,H))be<W&&0>i(oe,de)?(F[z]=oe,F[be]=H,z=be):(F[z]=de,F[re]=H,z=re);else if(be<W&&0>i(oe,H))F[z]=oe,F[be]=H,z=be;else break e}}return L}function i(F,L){var H=F.sortIndex-L.sortIndex;return H!==0?H:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=F)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function T(F){if(g=!1,_(F),!y)if(n(c)!==null)y=!0,B(E);else{var L=n(u);L!==null&&V(T,L.startTime-F)}}function E(F,L){y=!1,g&&(g=!1,x(A),A=-1),p=!0;var H=h;try{for(_(L),f=n(c);f!==null&&(!(f.expirationTime>L)||F&&!N());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var W=z(f.expirationTime<=L);L=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),_(L)}else r(c);f=n(c)}if(f!==null)var K=!0;else{var re=n(u);re!==null&&V(T,re.startTime-L),K=!1}return K}finally{f=null,h=H,p=!1}}var P=!1,S=null,A=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function k(){if(S!==null){var F=t.unstable_now();I=F;var L=!0;try{L=S(!0,F)}finally{L?R():(P=!1,S=null)}}else P=!1}var R;if(typeof w=="function")R=function(){w(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=k,R=function(){U.postMessage(null)}}else R=function(){v(k,0)};function B(F){S=F,P||(P=!0,R())}function V(F,L){A=v(function(){F(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,B(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return F()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return L()}finally{h=H}},t.unstable_scheduleCallback=function(F,L,H){var z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,F={id:d++,callback:L,priorityLevel:F,startTime:H,expirationTime:W,sortIndex:-1},H>z?(F.sortIndex=H,e(u,F),n(c)===null&&F===n(u)&&(g?(x(A),A=-1):g=!0,V(T,H-z))):(F.sortIndex=W,e(c,F),y||p||(y=!0,B(E))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var L=h;return function(){var H=h;h=L;try{return F.apply(this,arguments)}finally{h=H}}}})(S4);_4.exports=S4;var sY=_4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lY=b,Zr=sY;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E4=new Set,_p={};function Hc(t,e){vd(t,e),vd(t+"Capture",e)}function vd(t,e){for(_p[t]=e,t=0;t<e.length;t++)E4.add(e[t])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cS=Object.prototype.hasOwnProperty,cY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gk={},yk={};function uY(t){return cS.call(yk,t)?!0:cS.call(gk,t)?!1:cY.test(t)?yk[t]=!0:(gk[t]=!0,!1)}function dY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fY(t,e,n,r){if(e===null||typeof e>"u"||dY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mn[t]=new yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mn[e]=new yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mn[t]=new yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mn[t]=new yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mn[t]=new yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mn[t]=new yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mn[t]=new yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mn[t]=new yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mn[t]=new yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var KA=/[\-:]([a-z])/g;function GA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KA,GA);Mn[e]=new yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KA,GA);Mn[e]=new yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KA,GA);Mn[e]=new yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mn[t]=new yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mn[t]=new yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function YA(t,e,n,r){var i=Mn.hasOwnProperty(e)?Mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fY(e,n,i,r)&&(n=null),r||i===null?uY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $a=lY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xg=Symbol.for("react.element"),Iu=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),XA=Symbol.for("react.strict_mode"),uS=Symbol.for("react.profiler"),T4=Symbol.for("react.provider"),A4=Symbol.for("react.context"),QA=Symbol.for("react.forward_ref"),dS=Symbol.for("react.suspense"),fS=Symbol.for("react.suspense_list"),JA=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),P4=Symbol.for("react.offscreen"),vk=Symbol.iterator;function oh(t){return t===null||typeof t!="object"?null:(t=vk&&t[vk]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,T_;function Oh(t){if(T_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T_=e&&e[1]||""}return`
`+T_+t}var A_=!1;function P_(t,e){if(!t||A_)return"";A_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=s);break}}}finally{A_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oh(t):""}function hY(t){switch(t.tag){case 5:return Oh(t.type);case 16:return Oh("Lazy");case 13:return Oh("Suspense");case 19:return Oh("SuspenseList");case 0:case 2:case 15:return t=P_(t.type,!1),t;case 11:return t=P_(t.type.render,!1),t;case 1:return t=P_(t.type,!0),t;default:return""}}function hS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ku:return"Fragment";case Iu:return"Portal";case uS:return"Profiler";case XA:return"StrictMode";case dS:return"Suspense";case fS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A4:return(t.displayName||"Context")+".Consumer";case T4:return(t._context.displayName||"Context")+".Provider";case QA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JA:return e=t.displayName||null,e!==null?e:hS(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return hS(t(e))}catch{}}return null}function pY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hS(e);case 8:return e===XA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mY(t){var e=j4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qg(t){t._valueTracker||(t._valueTracker=mY(t))}function C4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Av(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pS(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N4(t,e){e=e.checked,e!=null&&YA(t,"checked",e,!1)}function mS(t,e){N4(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gS(t,e.type,n):e.hasOwnProperty("defaultValue")&&gS(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gS(t,e,n){(e!=="number"||Av(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rh=Array.isArray;function Ku(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Rh(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function I4(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _k(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jg,O4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jg=Jg||document.createElement("div"),Jg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gY=["Webkit","ms","Moz","O"];Object.keys(qh).forEach(function(t){gY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qh[e]=qh[t]})});function R4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qh.hasOwnProperty(t)&&qh[t]?(""+e).trim():e+"px"}function M4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=R4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yY=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xS(t,e){if(e){if(yY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function bS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wS=null;function ZA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _S=null,Gu=null,Yu=null;function Sk(t){if(t=Jm(t)){if(typeof _S!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Bb(e),_S(t.stateNode,t.type,e))}}function D4(t){Gu?Yu?Yu.push(t):Yu=[t]:Gu=t}function $4(){if(Gu){var t=Gu,e=Yu;if(Yu=Gu=null,Sk(t),e)for(t=0;t<e.length;t++)Sk(e[t])}}function L4(t,e){return t(e)}function F4(){}var j_=!1;function V4(t,e,n){if(j_)return t(e,n);j_=!0;try{return L4(t,e,n)}finally{j_=!1,(Gu!==null||Yu!==null)&&(F4(),$4())}}function Ep(t,e){var n=t.stateNode;if(n===null)return null;var r=Bb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var SS=!1;if(_a)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){SS=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{SS=!1}function vY(t,e,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Kh=!1,Pv=null,jv=!1,ES=null,xY={onError:function(t){Kh=!0,Pv=t}};function bY(t,e,n,r,i,o,a,s,c){Kh=!1,Pv=null,vY.apply(xY,arguments)}function wY(t,e,n,r,i,o,a,s,c){if(bY.apply(this,arguments),Kh){if(Kh){var u=Pv;Kh=!1,Pv=null}else throw Error(le(198));jv||(jv=!0,ES=u)}}function qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ek(t){if(qc(t)!==t)throw Error(le(188))}function _Y(t){var e=t.alternate;if(!e){if(e=qc(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ek(i),t;if(o===r)return Ek(i),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function U4(t){return t=_Y(t),t!==null?z4(t):null}function z4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z4(t);if(e!==null)return e;t=t.sibling}return null}var W4=Zr.unstable_scheduleCallback,Tk=Zr.unstable_cancelCallback,SY=Zr.unstable_shouldYield,EY=Zr.unstable_requestPaint,Qt=Zr.unstable_now,TY=Zr.unstable_getCurrentPriorityLevel,eP=Zr.unstable_ImmediatePriority,H4=Zr.unstable_UserBlockingPriority,Cv=Zr.unstable_NormalPriority,AY=Zr.unstable_LowPriority,q4=Zr.unstable_IdlePriority,$b=null,So=null;function PY(t){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot($b,t,void 0,(t.current.flags&128)===128)}catch{}}var qi=Math.clz32?Math.clz32:NY,jY=Math.log,CY=Math.LN2;function NY(t){return t>>>=0,t===0?32:31-(jY(t)/CY|0)|0}var Zg=64,ey=4194304;function Mh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Mh(s):(o&=a,o!==0&&(r=Mh(o)))}else a=n&~i,a!==0?r=Mh(a):o!==0&&(r=Mh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qi(e),i=1<<n,r|=t[n],e&=~i;return r}function IY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-qi(o),s=1<<a,c=i[a];c===-1?(!(s&n)||s&r)&&(i[a]=IY(s,e)):c<=e&&(t.expiredLanes|=s),o&=~s}}function TS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K4(){var t=Zg;return Zg<<=1,!(Zg&4194240)&&(Zg=64),t}function C_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qi(e),t[e]=n}function OY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function tP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ht=0;function G4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y4,nP,X4,Q4,J4,AS=!1,ty=[],Ms=null,Ds=null,$s=null,Tp=new Map,Ap=new Map,ps=[],RY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ak(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(e.pointerId)}}function sh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Jm(e),e!==null&&nP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MY(t,e,n,r,i){switch(e){case"focusin":return Ms=sh(Ms,t,e,n,r,i),!0;case"dragenter":return Ds=sh(Ds,t,e,n,r,i),!0;case"mouseover":return $s=sh($s,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tp.set(o,sh(Tp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ap.set(o,sh(Ap.get(o)||null,t,e,n,r,i)),!0}return!1}function Z4(t){var e=Xl(t.target);if(e!==null){var n=qc(e);if(n!==null){if(e=n.tag,e===13){if(e=B4(n),e!==null){t.blockedOn=e,J4(t.priority,function(){X4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=PS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wS=r,n.target.dispatchEvent(r),wS=null}else return e=Jm(n),e!==null&&nP(e),t.blockedOn=n,!1;e.shift()}return!0}function Pk(t,e,n){Jy(t)&&n.delete(e)}function DY(){AS=!1,Ms!==null&&Jy(Ms)&&(Ms=null),Ds!==null&&Jy(Ds)&&(Ds=null),$s!==null&&Jy($s)&&($s=null),Tp.forEach(Pk),Ap.forEach(Pk)}function lh(t,e){t.blockedOn===e&&(t.blockedOn=null,AS||(AS=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,DY)))}function Pp(t){function e(i){return lh(i,t)}if(0<ty.length){lh(ty[0],t);for(var n=1;n<ty.length;n++){var r=ty[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&lh(Ms,t),Ds!==null&&lh(Ds,t),$s!==null&&lh($s,t),Tp.forEach(e),Ap.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)Z4(n),n.blockedOn===null&&ps.shift()}var Xu=$a.ReactCurrentBatchConfig,Iv=!0;function $Y(t,e,n,r){var i=ht,o=Xu.transition;Xu.transition=null;try{ht=1,rP(t,e,n,r)}finally{ht=i,Xu.transition=o}}function LY(t,e,n,r){var i=ht,o=Xu.transition;Xu.transition=null;try{ht=4,rP(t,e,n,r)}finally{ht=i,Xu.transition=o}}function rP(t,e,n,r){if(Iv){var i=PS(t,e,n,r);if(i===null)F_(t,e,r,kv,n),Ak(t,r);else if(MY(i,t,e,n,r))r.stopPropagation();else if(Ak(t,r),e&4&&-1<RY.indexOf(t)){for(;i!==null;){var o=Jm(i);if(o!==null&&Y4(o),o=PS(t,e,n,r),o===null&&F_(t,e,r,kv,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else F_(t,e,r,null,n)}}var kv=null;function PS(t,e,n,r){if(kv=null,t=ZA(r),t=Xl(t),t!==null)if(e=qc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kv=t,null}function e3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TY()){case eP:return 1;case H4:return 4;case Cv:case AY:return 16;case q4:return 536870912;default:return 16}default:return 16}}var Ps=null,iP=null,Zy=null;function t3(){if(Zy)return Zy;var t,e=iP,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Zy=i.slice(t,1<r?1-r:void 0)}function ev(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ny(){return!0}function jk(){return!1}function ti(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ny:jk,this.isPropagationStopped=jk,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ny)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ny)},persist:function(){},isPersistent:ny}),e}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oP=ti(pf),Qm=Vt({},pf,{view:0,detail:0}),FY=ti(Qm),N_,I_,ch,Lb=Vt({},Qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ch&&(ch&&t.type==="mousemove"?(N_=t.screenX-ch.screenX,I_=t.screenY-ch.screenY):I_=N_=0,ch=t),N_)},movementY:function(t){return"movementY"in t?t.movementY:I_}}),Ck=ti(Lb),VY=Vt({},Lb,{dataTransfer:0}),BY=ti(VY),UY=Vt({},Qm,{relatedTarget:0}),k_=ti(UY),zY=Vt({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),WY=ti(zY),HY=Vt({},pf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qY=ti(HY),KY=Vt({},pf,{data:0}),Nk=ti(KY),GY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XY[t])?!!e[t]:!1}function aP(){return QY}var JY=Vt({},Qm,{key:function(t){if(t.key){var e=GY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ev(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aP,charCode:function(t){return t.type==="keypress"?ev(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ev(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZY=ti(JY),eX=Vt({},Lb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ik=ti(eX),tX=Vt({},Qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aP}),nX=ti(tX),rX=Vt({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),iX=ti(rX),oX=Vt({},Lb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aX=ti(oX),sX=[9,13,27,32],sP=_a&&"CompositionEvent"in window,Gh=null;_a&&"documentMode"in document&&(Gh=document.documentMode);var lX=_a&&"TextEvent"in window&&!Gh,n3=_a&&(!sP||Gh&&8<Gh&&11>=Gh),kk=" ",Ok=!1;function r3(t,e){switch(t){case"keyup":return sX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function cX(t,e){switch(t){case"compositionend":return i3(e);case"keypress":return e.which!==32?null:(Ok=!0,kk);case"textInput":return t=e.data,t===kk&&Ok?null:t;default:return null}}function uX(t,e){if(Ou)return t==="compositionend"||!sP&&r3(t,e)?(t=t3(),Zy=iP=Ps=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n3&&e.locale!=="ko"?null:e.data;default:return null}}var dX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dX[t.type]:e==="textarea"}function o3(t,e,n,r){D4(r),e=Ov(e,"onChange"),0<e.length&&(n=new oP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yh=null,jp=null;function fX(t){g3(t,0)}function Fb(t){var e=Du(t);if(C4(e))return t}function hX(t,e){if(t==="change")return e}var a3=!1;if(_a){var O_;if(_a){var R_="oninput"in document;if(!R_){var Mk=document.createElement("div");Mk.setAttribute("oninput","return;"),R_=typeof Mk.oninput=="function"}O_=R_}else O_=!1;a3=O_&&(!document.documentMode||9<document.documentMode)}function Dk(){Yh&&(Yh.detachEvent("onpropertychange",s3),jp=Yh=null)}function s3(t){if(t.propertyName==="value"&&Fb(jp)){var e=[];o3(e,jp,t,ZA(t)),V4(fX,e)}}function pX(t,e,n){t==="focusin"?(Dk(),Yh=e,jp=n,Yh.attachEvent("onpropertychange",s3)):t==="focusout"&&Dk()}function mX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fb(jp)}function gX(t,e){if(t==="click")return Fb(e)}function yX(t,e){if(t==="input"||t==="change")return Fb(e)}function vX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:vX;function Cp(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cS.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function $k(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lk(t,e){var n=$k(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$k(n)}}function l3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?l3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c3(){for(var t=window,e=Av();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Av(t.document)}return e}function lP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xX(t){var e=c3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&l3(n.ownerDocument.documentElement,n)){if(r!==null&&lP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Lk(n,o);var a=Lk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bX=_a&&"documentMode"in document&&11>=document.documentMode,Ru=null,jS=null,Xh=null,CS=!1;function Fk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;CS||Ru==null||Ru!==Av(r)||(r=Ru,"selectionStart"in r&&lP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xh&&Cp(Xh,r)||(Xh=r,r=Ov(jS,"onSelect"),0<r.length&&(e=new oP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ru)))}function ry(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mu={animationend:ry("Animation","AnimationEnd"),animationiteration:ry("Animation","AnimationIteration"),animationstart:ry("Animation","AnimationStart"),transitionend:ry("Transition","TransitionEnd")},M_={},u3={};_a&&(u3=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function Vb(t){if(M_[t])return M_[t];if(!Mu[t])return t;var e=Mu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in u3)return M_[t]=e[n];return t}var d3=Vb("animationend"),f3=Vb("animationiteration"),h3=Vb("animationstart"),p3=Vb("transitionend"),m3=new Map,Vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){m3.set(t,e),Hc(e,[t])}for(var D_=0;D_<Vk.length;D_++){var $_=Vk[D_],wX=$_.toLowerCase(),_X=$_[0].toUpperCase()+$_.slice(1);pl(wX,"on"+_X)}pl(d3,"onAnimationEnd");pl(f3,"onAnimationIteration");pl(h3,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(p3,"onTransitionEnd");vd("onMouseEnter",["mouseout","mouseover"]);vd("onMouseLeave",["mouseout","mouseover"]);vd("onPointerEnter",["pointerout","pointerover"]);vd("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dh));function Bk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wY(r,e,void 0,t),t.currentTarget=null}function g3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Bk(i,s,u),o=c}else for(a=0;a<r.length;a++){if(s=r[a],c=s.instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Bk(i,s,u),o=c}}}if(jv)throw t=ES,jv=!1,ES=null,t}function Tt(t,e){var n=e[RS];n===void 0&&(n=e[RS]=new Set);var r=t+"__bubble";n.has(r)||(y3(e,t,2,!1),n.add(r))}function L_(t,e,n){var r=0;e&&(r|=4),y3(n,t,r,e)}var iy="_reactListening"+Math.random().toString(36).slice(2);function Np(t){if(!t[iy]){t[iy]=!0,E4.forEach(function(n){n!=="selectionchange"&&(SX.has(n)||L_(n,!1,t),L_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[iy]||(e[iy]=!0,L_("selectionchange",!1,e))}}function y3(t,e,n,r){switch(e3(e)){case 1:var i=$Y;break;case 4:i=LY;break;default:i=rP}n=i.bind(null,e,n,t),i=void 0,!SS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function F_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Xl(s),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}s=s.parentNode}}r=r.return}V4(function(){var u=o,d=ZA(n),f=[];e:{var h=m3.get(t);if(h!==void 0){var p=oP,y=t;switch(t){case"keypress":if(ev(n)===0)break e;case"keydown":case"keyup":p=ZY;break;case"focusin":y="focus",p=k_;break;case"focusout":y="blur",p=k_;break;case"beforeblur":case"afterblur":p=k_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ck;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nX;break;case d3:case f3:case h3:p=WY;break;case p3:p=iX;break;case"scroll":p=FY;break;case"wheel":p=aX;break;case"copy":case"cut":case"paste":p=qY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ik}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,_;w!==null;){_=w;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,x!==null&&(T=Ep(w,x),T!=null&&g.push(Ip(w,T,_)))),v)break;w=w.return}0<g.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==wS&&(y=n.relatedTarget||n.fromElement)&&(Xl(y)||y[Sa]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Xl(y):null,y!==null&&(v=qc(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=Ck,T="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=Ik,T="onPointerLeave",x="onPointerEnter",w="pointer"),v=p==null?h:Du(p),_=y==null?h:Du(y),h=new g(T,w+"leave",p,n,d),h.target=v,h.relatedTarget=_,T=null,Xl(d)===u&&(g=new g(x,w+"enter",y,n,d),g.target=_,g.relatedTarget=v,T=g),v=T,p&&y)t:{for(g=p,x=y,w=0,_=g;_;_=yu(_))w++;for(_=0,T=x;T;T=yu(T))_++;for(;0<w-_;)g=yu(g),w--;for(;0<_-w;)x=yu(x),_--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=yu(g),x=yu(x)}g=null}else g=null;p!==null&&Uk(f,h,p,g,!1),y!==null&&v!==null&&Uk(f,v,y,g,!0)}}e:{if(h=u?Du(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=hX;else if(Rk(h))if(a3)E=yX;else{E=mX;var P=pX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=gX);if(E&&(E=E(t,u))){o3(f,E,n,d);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&gS(h,"number",h.value)}switch(P=u?Du(u):window,t){case"focusin":(Rk(P)||P.contentEditable==="true")&&(Ru=P,jS=u,Xh=null);break;case"focusout":Xh=jS=Ru=null;break;case"mousedown":CS=!0;break;case"contextmenu":case"mouseup":case"dragend":CS=!1,Fk(f,n,d);break;case"selectionchange":if(bX)break;case"keydown":case"keyup":Fk(f,n,d)}var S;if(sP)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ou?r3(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(n3&&n.locale!=="ko"&&(Ou||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ou&&(S=t3()):(Ps=d,iP="value"in Ps?Ps.value:Ps.textContent,Ou=!0)),P=Ov(u,A),0<P.length&&(A=new Nk(A,t,null,n,d),f.push({event:A,listeners:P}),S?A.data=S:(S=i3(n),S!==null&&(A.data=S)))),(S=lX?cX(t,n):uX(t,n))&&(u=Ov(u,"onBeforeInput"),0<u.length&&(d=new Nk("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}g3(f,e)})}function Ip(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ov(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ep(t,n),o!=null&&r.unshift(Ip(t,o,i)),o=Ep(t,e),o!=null&&r.push(Ip(t,o,i))),t=t.return}return r}function yu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uk(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=Ep(n,o),c!=null&&a.unshift(Ip(n,c,s))):i||(c=Ep(n,o),c!=null&&a.push(Ip(n,c,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var EX=/\r\n?/g,TX=/\u0000|\uFFFD/g;function zk(t){return(typeof t=="string"?t:""+t).replace(EX,`
`).replace(TX,"")}function oy(t,e,n){if(e=zk(e),zk(t)!==e&&n)throw Error(le(425))}function Rv(){}var NS=null,IS=null;function kS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OS=typeof setTimeout=="function"?setTimeout:void 0,AX=typeof clearTimeout=="function"?clearTimeout:void 0,Wk=typeof Promise=="function"?Promise:void 0,PX=typeof queueMicrotask=="function"?queueMicrotask:typeof Wk<"u"?function(t){return Wk.resolve(null).then(t).catch(jX)}:OS;function jX(t){setTimeout(function(){throw t})}function V_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pp(e)}function Ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mf=Math.random().toString(36).slice(2),go="__reactFiber$"+mf,kp="__reactProps$"+mf,Sa="__reactContainer$"+mf,RS="__reactEvents$"+mf,CX="__reactListeners$"+mf,NX="__reactHandles$"+mf;function Xl(t){var e=t[go];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sa]||n[go]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hk(t);t!==null;){if(n=t[go])return n;t=Hk(t)}return e}t=n,n=t.parentNode}return null}function Jm(t){return t=t[go]||t[Sa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Du(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Bb(t){return t[kp]||null}var MS=[],$u=-1;function ml(t){return{current:t}}function Ct(t){0>$u||(t.current=MS[$u],MS[$u]=null,$u--)}function _t(t,e){$u++,MS[$u]=t.current,t.current=e}var Qs={},er=ml(Qs),Nr=ml(!1),Sc=Qs;function xd(t,e){var n=t.type.contextTypes;if(!n)return Qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(t){return t=t.childContextTypes,t!=null}function Mv(){Ct(Nr),Ct(er)}function qk(t,e,n){if(er.current!==Qs)throw Error(le(168));_t(er,e),_t(Nr,n)}function v3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,pY(t)||"Unknown",i));return Vt({},n,r)}function Dv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Sc=er.current,_t(er,t),_t(Nr,Nr.current),!0}function Kk(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=v3(t,e,Sc),r.__reactInternalMemoizedMergedChildContext=t,Ct(Nr),Ct(er),_t(er,t)):Ct(Nr),_t(Nr,n)}var Jo=null,Ub=!1,B_=!1;function x3(t){Jo===null?Jo=[t]:Jo.push(t)}function IX(t){Ub=!0,x3(t)}function gl(){if(!B_&&Jo!==null){B_=!0;var t=0,e=ht;try{var n=Jo;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jo=null,Ub=!1}catch(i){throw Jo!==null&&(Jo=Jo.slice(t+1)),W4(eP,gl),i}finally{ht=e,B_=!1}}return null}var Lu=[],Fu=0,$v=null,Lv=0,di=[],fi=0,Ec=null,sa=1,la="";function Ul(t,e){Lu[Fu++]=Lv,Lu[Fu++]=$v,$v=t,Lv=e}function b3(t,e,n){di[fi++]=sa,di[fi++]=la,di[fi++]=Ec,Ec=t;var r=sa;t=la;var i=32-qi(r)-1;r&=~(1<<i),n+=1;var o=32-qi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,sa=1<<32-qi(e)+i|n<<i|r,la=o+t}else sa=1<<o|n<<i|r,la=t}function cP(t){t.return!==null&&(Ul(t,1),b3(t,1,0))}function uP(t){for(;t===$v;)$v=Lu[--Fu],Lu[Fu]=null,Lv=Lu[--Fu],Lu[Fu]=null;for(;t===Ec;)Ec=di[--fi],di[fi]=null,la=di[--fi],di[fi]=null,sa=di[--fi],di[fi]=null}var Yr=null,qr=null,Mt=!1,Ui=null;function w3(t,e){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yr=t,qr=Ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ec!==null?{id:sa,overflow:la}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yr=t,qr=null,!0):!1;default:return!1}}function DS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $S(t){if(Mt){var e=qr;if(e){var n=e;if(!Gk(t,e)){if(DS(t))throw Error(le(418));e=Ls(n.nextSibling);var r=Yr;e&&Gk(t,e)?w3(r,n):(t.flags=t.flags&-4097|2,Mt=!1,Yr=t)}}else{if(DS(t))throw Error(le(418));t.flags=t.flags&-4097|2,Mt=!1,Yr=t}}}function Yk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yr=t}function ay(t){if(t!==Yr)return!1;if(!Mt)return Yk(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kS(t.type,t.memoizedProps)),e&&(e=qr)){if(DS(t))throw _3(),Error(le(418));for(;e;)w3(t,e),e=Ls(e.nextSibling)}if(Yk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qr=Ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Yr?Ls(t.stateNode.nextSibling):null;return!0}function _3(){for(var t=qr;t;)t=Ls(t.nextSibling)}function bd(){qr=Yr=null,Mt=!1}function dP(t){Ui===null?Ui=[t]:Ui.push(t)}var kX=$a.ReactCurrentBatchConfig;function uh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function sy(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xk(t){var e=t._init;return e(t._payload)}function S3(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Us(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,T){return w===null||w.tag!==6?(w=G_(_,x.mode,T),w.return=x,w):(w=i(w,_),w.return=x,w)}function c(x,w,_,T){var E=_.type;return E===ku?d(x,w,_.props.children,T,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ds&&Xk(E)===w.type)?(T=i(w,_.props),T.ref=uh(x,w,_),T.return=x,T):(T=sv(_.type,_.key,_.props,null,x.mode,T),T.ref=uh(x,w,_),T.return=x,T)}function u(x,w,_,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Y_(_,x.mode,T),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function d(x,w,_,T,E){return w===null||w.tag!==7?(w=pc(_,x.mode,T,E),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=G_(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xg:return _=sv(w.type,w.key,w.props,null,x.mode,_),_.ref=uh(x,null,w),_.return=x,_;case Iu:return w=Y_(w,x.mode,_),w.return=x,w;case ds:var T=w._init;return f(x,T(w._payload),_)}if(Rh(w)||oh(w))return w=pc(w,x.mode,_,null),w.return=x,w;sy(x,w)}return null}function h(x,w,_,T){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(x,w,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xg:return _.key===E?c(x,w,_,T):null;case Iu:return _.key===E?u(x,w,_,T):null;case ds:return E=_._init,h(x,w,E(_._payload),T)}if(Rh(_)||oh(_))return E!==null?null:d(x,w,_,T,null);sy(x,_)}return null}function p(x,w,_,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(_)||null,s(w,x,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xg:return x=x.get(T.key===null?_:T.key)||null,c(w,x,T,E);case Iu:return x=x.get(T.key===null?_:T.key)||null,u(w,x,T,E);case ds:var P=T._init;return p(x,w,_,P(T._payload),E)}if(Rh(T)||oh(T))return x=x.get(_)||null,d(w,x,T,E,null);sy(w,T)}return null}function y(x,w,_,T){for(var E=null,P=null,S=w,A=w=0,C=null;S!==null&&A<_.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var I=h(x,S,_[A],T);if(I===null){S===null&&(S=C);break}t&&S&&I.alternate===null&&e(x,S),w=o(I,w,A),P===null?E=I:P.sibling=I,P=I,S=C}if(A===_.length)return n(x,S),Mt&&Ul(x,A),E;if(S===null){for(;A<_.length;A++)S=f(x,_[A],T),S!==null&&(w=o(S,w,A),P===null?E=S:P.sibling=S,P=S);return Mt&&Ul(x,A),E}for(S=r(x,S);A<_.length;A++)C=p(S,x,A,_[A],T),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?A:C.key),w=o(C,w,A),P===null?E=C:P.sibling=C,P=C);return t&&S.forEach(function(N){return e(x,N)}),Mt&&Ul(x,A),E}function g(x,w,_,T){var E=oh(_);if(typeof E!="function")throw Error(le(150));if(_=E.call(_),_==null)throw Error(le(151));for(var P=E=null,S=w,A=w=0,C=null,I=_.next();S!==null&&!I.done;A++,I=_.next()){S.index>A?(C=S,S=null):C=S.sibling;var N=h(x,S,I.value,T);if(N===null){S===null&&(S=C);break}t&&S&&N.alternate===null&&e(x,S),w=o(N,w,A),P===null?E=N:P.sibling=N,P=N,S=C}if(I.done)return n(x,S),Mt&&Ul(x,A),E;if(S===null){for(;!I.done;A++,I=_.next())I=f(x,I.value,T),I!==null&&(w=o(I,w,A),P===null?E=I:P.sibling=I,P=I);return Mt&&Ul(x,A),E}for(S=r(x,S);!I.done;A++,I=_.next())I=p(S,x,A,I.value,T),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?A:I.key),w=o(I,w,A),P===null?E=I:P.sibling=I,P=I);return t&&S.forEach(function(k){return e(x,k)}),Mt&&Ul(x,A),E}function v(x,w,_,T){if(typeof _=="object"&&_!==null&&_.type===ku&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xg:e:{for(var E=_.key,P=w;P!==null;){if(P.key===E){if(E=_.type,E===ku){if(P.tag===7){n(x,P.sibling),w=i(P,_.props.children),w.return=x,x=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ds&&Xk(E)===P.type){n(x,P.sibling),w=i(P,_.props),w.ref=uh(x,P,_),w.return=x,x=w;break e}n(x,P);break}else e(x,P);P=P.sibling}_.type===ku?(w=pc(_.props.children,x.mode,T,_.key),w.return=x,x=w):(T=sv(_.type,_.key,_.props,null,x.mode,T),T.ref=uh(x,w,_),T.return=x,x=T)}return a(x);case Iu:e:{for(P=_.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Y_(_,x.mode,T),w.return=x,x=w}return a(x);case ds:return P=_._init,v(x,w,P(_._payload),T)}if(Rh(_))return y(x,w,_,T);if(oh(_))return g(x,w,_,T);sy(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=G_(_,x.mode,T),w.return=x,x=w),a(x)):n(x,w)}return v}var wd=S3(!0),E3=S3(!1),Fv=ml(null),Vv=null,Vu=null,fP=null;function hP(){fP=Vu=Vv=null}function pP(t){var e=Fv.current;Ct(Fv),t._currentValue=e}function LS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qu(t,e){Vv=t,fP=Vu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function bi(t){var e=t._currentValue;if(fP!==t)if(t={context:t,memoizedValue:e,next:null},Vu===null){if(Vv===null)throw Error(le(308));Vu=t,Vv.dependencies={lanes:0,firstContext:t}}else Vu=Vu.next=t;return e}var Ql=null;function mP(t){Ql===null?Ql=[t]:Ql.push(t)}function T3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ea(t,r)}function Ea(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fs=!1;function gP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ea(t,n)}return i=r.interleaved,i===null?(e.next=e,mP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ea(t,n)}function tv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tP(t,n)}}function Qk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bv(t,e,n,r){var i=t.updateQueue;fs=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;a=0,d=u=c=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,g=s;switch(h=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=Vt({},f,h);break e;case 2:fs=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ac|=a,t.lanes=a,t.memoizedState=f}}function Jk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Zm={},Eo=ml(Zm),Op=ml(Zm),Rp=ml(Zm);function Jl(t){if(t===Zm)throw Error(le(174));return t}function yP(t,e){switch(_t(Rp,e),_t(Op,t),_t(Eo,Zm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vS(e,t)}Ct(Eo),_t(Eo,e)}function _d(){Ct(Eo),Ct(Op),Ct(Rp)}function P3(t){Jl(Rp.current);var e=Jl(Eo.current),n=vS(e,t.type);e!==n&&(_t(Op,t),_t(Eo,n))}function vP(t){Op.current===t&&(Ct(Eo),Ct(Op))}var $t=ml(0);function Uv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var U_=[];function xP(){for(var t=0;t<U_.length;t++)U_[t]._workInProgressVersionPrimary=null;U_.length=0}var nv=$a.ReactCurrentDispatcher,z_=$a.ReactCurrentBatchConfig,Tc=0,Lt=null,fn=null,_n=null,zv=!1,Qh=!1,Mp=0,OX=0;function Wn(){throw Error(le(321))}function bP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}function wP(t,e,n,r,i,o){if(Tc=o,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nv.current=t===null||t.memoizedState===null?$X:LX,t=n(r,i),Qh){o=0;do{if(Qh=!1,Mp=0,25<=o)throw Error(le(301));o+=1,_n=fn=null,e.updateQueue=null,nv.current=FX,t=n(r,i)}while(Qh)}if(nv.current=Wv,e=fn!==null&&fn.next!==null,Tc=0,_n=fn=Lt=null,zv=!1,e)throw Error(le(300));return t}function _P(){var t=Mp!==0;return Mp=0,t}function co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Lt.memoizedState=_n=t:_n=_n.next=t,_n}function wi(){if(fn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=fn.next;var e=_n===null?Lt.memoizedState:_n.next;if(e!==null)_n=e,fn=t;else{if(t===null)throw Error(le(310));fn=t,t={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},_n===null?Lt.memoizedState=_n=t:_n=_n.next=t}return _n}function Dp(t,e){return typeof e=="function"?e(t):e}function W_(t){var e=wi(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=fn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,c=null,u=o;do{var d=u.lane;if((Tc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,a=r):c=c.next=f,Lt.lanes|=d,Ac|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=s,Xi(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Lt.lanes|=o,Ac|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function H_(t){var e=wi(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Xi(o,e.memoizedState)||(Tr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function j3(){}function C3(t,e){var n=Lt,r=wi(),i=e(),o=!Xi(r.memoizedState,i);if(o&&(r.memoizedState=i,Tr=!0),r=r.queue,SP(k3.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,$p(9,I3.bind(null,n,r,i,e),void 0,null),Sn===null)throw Error(le(349));Tc&30||N3(n,e,i)}return i}function N3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I3(t,e,n,r){e.value=n,e.getSnapshot=r,O3(e)&&R3(t)}function k3(t,e,n){return n(function(){O3(e)&&R3(t)})}function O3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xi(t,n)}catch{return!0}}function R3(t){var e=Ea(t,1);e!==null&&Ki(e,t,1,-1)}function Zk(t){var e=co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:t},e.queue=t,t=t.dispatch=DX.bind(null,Lt,t),[e.memoizedState,t]}function $p(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function M3(){return wi().memoizedState}function rv(t,e,n,r){var i=co();Lt.flags|=t,i.memoizedState=$p(1|e,n,void 0,r===void 0?null:r)}function zb(t,e,n,r){var i=wi();r=r===void 0?null:r;var o=void 0;if(fn!==null){var a=fn.memoizedState;if(o=a.destroy,r!==null&&bP(r,a.deps)){i.memoizedState=$p(e,n,o,r);return}}Lt.flags|=t,i.memoizedState=$p(1|e,n,o,r)}function eO(t,e){return rv(8390656,8,t,e)}function SP(t,e){return zb(2048,8,t,e)}function D3(t,e){return zb(4,2,t,e)}function $3(t,e){return zb(4,4,t,e)}function L3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function F3(t,e,n){return n=n!=null?n.concat([t]):null,zb(4,4,L3.bind(null,e,t),n)}function EP(){}function V3(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function B3(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function U3(t,e,n){return Tc&21?(Xi(n,e)||(n=K4(),Lt.lanes|=n,Ac|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function RX(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=z_.transition;z_.transition={};try{t(!1),e()}finally{ht=n,z_.transition=r}}function z3(){return wi().memoizedState}function MX(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W3(t))H3(e,n);else if(n=T3(t,e,n,r),n!==null){var i=fr();Ki(n,t,r,i),q3(n,e,r)}}function DX(t,e,n){var r=Bs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W3(t))H3(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Xi(s,a)){var c=e.interleaved;c===null?(i.next=i,mP(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=T3(t,e,i,r),n!==null&&(i=fr(),Ki(n,t,r,i),q3(n,e,r))}}function W3(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function H3(t,e){Qh=zv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tP(t,n)}}var Wv={readContext:bi,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},$X={readContext:bi,useCallback:function(t,e){return co().memoizedState=[t,e===void 0?null:e],t},useContext:bi,useEffect:eO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rv(4194308,4,L3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rv(4194308,4,t,e)},useInsertionEffect:function(t,e){return rv(4,2,t,e)},useMemo:function(t,e){var n=co();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=co();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MX.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=co();return t={current:t},e.memoizedState=t},useState:Zk,useDebugValue:EP,useDeferredValue:function(t){return co().memoizedState=t},useTransition:function(){var t=Zk(!1),e=t[0];return t=RX.bind(null,t[1]),co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Lt,i=co();if(Mt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Sn===null)throw Error(le(349));Tc&30||N3(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,eO(k3.bind(null,r,o,t),[t]),r.flags|=2048,$p(9,I3.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=co(),e=Sn.identifierPrefix;if(Mt){var n=la,r=sa;n=(r&~(1<<32-qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LX={readContext:bi,useCallback:V3,useContext:bi,useEffect:SP,useImperativeHandle:F3,useInsertionEffect:D3,useLayoutEffect:$3,useMemo:B3,useReducer:W_,useRef:M3,useState:function(){return W_(Dp)},useDebugValue:EP,useDeferredValue:function(t){var e=wi();return U3(e,fn.memoizedState,t)},useTransition:function(){var t=W_(Dp)[0],e=wi().memoizedState;return[t,e]},useMutableSource:j3,useSyncExternalStore:C3,useId:z3,unstable_isNewReconciler:!1},FX={readContext:bi,useCallback:V3,useContext:bi,useEffect:SP,useImperativeHandle:F3,useInsertionEffect:D3,useLayoutEffect:$3,useMemo:B3,useReducer:H_,useRef:M3,useState:function(){return H_(Dp)},useDebugValue:EP,useDeferredValue:function(t){var e=wi();return fn===null?e.memoizedState=t:U3(e,fn.memoizedState,t)},useTransition:function(){var t=H_(Dp)[0],e=wi().memoizedState;return[t,e]},useMutableSource:j3,useSyncExternalStore:C3,useId:z3,unstable_isNewReconciler:!1};function Mi(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function FS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wb={isMounted:function(t){return(t=t._reactInternals)?qc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fr(),i=Bs(t),o=pa(r,i);o.payload=e,n!=null&&(o.callback=n),e=Fs(t,o,i),e!==null&&(Ki(e,t,i,r),tv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fr(),i=Bs(t),o=pa(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fs(t,o,i),e!==null&&(Ki(e,t,i,r),tv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fr(),r=Bs(t),i=pa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fs(t,i,r),e!==null&&(Ki(e,t,r,n),tv(e,t,r))}};function tO(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Cp(n,r)||!Cp(i,o):!0}function K3(t,e,n){var r=!1,i=Qs,o=e.contextType;return typeof o=="object"&&o!==null?o=bi(o):(i=Ir(e)?Sc:er.current,r=e.contextTypes,o=(r=r!=null)?xd(t,i):Qs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function nO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wb.enqueueReplaceState(e,e.state,null)}function VS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bi(o):(o=Ir(e)?Sc:er.current,i.context=xd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(FS(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wb.enqueueReplaceState(i,i.state,null),Bv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sd(t,e){try{var n="",r=e;do n+=hY(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function q_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function BS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VX=typeof WeakMap=="function"?WeakMap:Map;function G3(t,e,n){n=pa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qv||(qv=!0,QS=r),BS(t,e)},n}function Y3(t,e,n){n=pa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){BS(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){BS(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function rO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eQ.bind(null,t,e,n),e.then(t,t))}function iO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pa(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var BX=$a.ReactCurrentOwner,Tr=!1;function lr(t,e,n,r){e.child=t===null?E3(e,null,n,r):wd(e,t.child,n,r)}function aO(t,e,n,r,i){n=n.render;var o=e.ref;return Qu(e,i),r=wP(t,e,n,r,o,i),n=_P(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ta(t,e,i)):(Mt&&n&&cP(e),e.flags|=1,lr(t,e,r,i),e.child)}function sO(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!kP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,X3(t,e,o,r,i)):(t=sv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cp,n(a,r)&&t.ref===e.ref)return Ta(t,e,i)}return e.flags|=1,t=Us(o,r),t.ref=e.ref,t.return=e,e.child=t}function X3(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Cp(o,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Ta(t,e,i)}return US(t,e,n,r,i)}function Q3(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Uu,Br),Br|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_t(Uu,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_t(Uu,Br),Br|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_t(Uu,Br),Br|=r;return lr(t,e,i,n),e.child}function J3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function US(t,e,n,r,i){var o=Ir(n)?Sc:er.current;return o=xd(e,o),Qu(e,i),n=wP(t,e,n,r,o,i),r=_P(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ta(t,e,i)):(Mt&&r&&cP(e),e.flags|=1,lr(t,e,n,i),e.child)}function lO(t,e,n,r,i){if(Ir(n)){var o=!0;Dv(e)}else o=!1;if(Qu(e,i),e.stateNode===null)iv(t,e),K3(e,n,r),VS(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=bi(u):(u=Ir(n)?Sc:er.current,u=xd(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||c!==u)&&nO(e,a,r,u),fs=!1;var h=e.memoizedState;a.state=h,Bv(e,r,a,i),c=e.memoizedState,s!==r||h!==c||Nr.current||fs?(typeof d=="function"&&(FS(e,n,d,r),c=e.memoizedState),(s=fs||tO(e,n,s,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,A3(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Mi(e.type,s),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=bi(c):(c=Ir(n)?Sc:er.current,c=xd(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==c)&&nO(e,a,r,c),fs=!1,h=e.memoizedState,a.state=h,Bv(e,r,a,i);var y=e.memoizedState;s!==f||h!==y||Nr.current||fs?(typeof p=="function"&&(FS(e,n,p,r),y=e.memoizedState),(u=fs||tO(e,n,u,r,h,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return zS(t,e,n,r,o,i)}function zS(t,e,n,r,i,o){J3(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Kk(e,n,!1),Ta(t,e,o);r=e.stateNode,BX.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=wd(e,t.child,null,o),e.child=wd(e,null,s,o)):lr(t,e,s,o),e.memoizedState=r.state,i&&Kk(e,n,!0),e.child}function Z3(t){var e=t.stateNode;e.pendingContext?qk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qk(t,e.context,!1),yP(t,e.containerInfo)}function cO(t,e,n,r,i){return bd(),dP(i),e.flags|=256,lr(t,e,n,r),e.child}var WS={dehydrated:null,treeContext:null,retryLane:0};function HS(t){return{baseLanes:t,cachePool:null,transitions:null}}function eV(t,e,n){var r=e.pendingProps,i=$t.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_t($t,i&1),t===null)return $S(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Kb(a,r,0,null),t=pc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=HS(n),e.memoizedState=WS,t):TP(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return UX(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Us(s,o):(o=pc(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?HS(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=WS,r}return o=t.child,t=o.sibling,r=Us(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TP(t,e){return e=Kb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ly(t,e,n,r){return r!==null&&dP(r),wd(e,t.child,null,n),t=TP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UX(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=q_(Error(le(422))),ly(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Kb({mode:"visible",children:r.children},i,0,null),o=pc(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wd(e,t.child,null,a),e.child.memoizedState=HS(a),e.memoizedState=WS,o);if(!(e.mode&1))return ly(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(le(419)),r=q_(o,r,void 0),ly(t,e,a,r)}if(s=(a&t.childLanes)!==0,Tr||s){if(r=Sn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ea(t,i),Ki(r,t,i,-1))}return IP(),r=q_(Error(le(421))),ly(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tQ.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qr=Ls(i.nextSibling),Yr=e,Mt=!0,Ui=null,t!==null&&(di[fi++]=sa,di[fi++]=la,di[fi++]=Ec,sa=t.id,la=t.overflow,Ec=e),e=TP(e,r.children),e.flags|=4096,e)}function uO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),LS(t.return,e,n)}function K_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function tV(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(lr(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uO(t,n,e);else if(t.tag===19)uO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_t($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),K_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}K_(e,!0,n,null,o);break;case"together":K_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ta(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ac|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zX(t,e,n){switch(e.tag){case 3:Z3(e),bd();break;case 5:P3(e);break;case 1:Ir(e.type)&&Dv(e);break;case 4:yP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_t(Fv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_t($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?eV(t,e,n):(_t($t,$t.current&1),t=Ta(t,e,n),t!==null?t.sibling:null);_t($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tV(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_t($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,Q3(t,e,n)}return Ta(t,e,n)}var nV,qS,rV,iV;nV=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qS=function(){};rV=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jl(Eo.current);var o=null;switch(n){case"input":i=pS(t,i),r=pS(t,r),o=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),o=[];break;case"textarea":i=yS(t,i),r=yS(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rv)}xS(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_p.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_p.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Tt("scroll",t),o||s===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};iV=function(t,e,n,r){n!==r&&(e.flags|=4)};function dh(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WX(t,e,n){var r=e.pendingProps;switch(uP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return Ir(e.type)&&Mv(),Hn(e),null;case 3:return r=e.stateNode,_d(),Ct(Nr),Ct(er),xP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ay(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ui!==null&&(eE(Ui),Ui=null))),qS(t,e),Hn(e),null;case 5:vP(e);var i=Jl(Rp.current);if(n=e.type,t!==null&&e.stateNode!=null)rV(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Hn(e),null}if(t=Jl(Eo.current),ay(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[go]=e,r[kp]=o,t=(e.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<Dh.length;i++)Tt(Dh[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":xk(r,o),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",r);break;case"textarea":wk(r,o),Tt("invalid",r)}xS(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&oy(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&oy(r.textContent,s,t),i=["children",""+s]):_p.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Tt("scroll",r)}switch(n){case"input":Qg(r),bk(r,o,!0);break;case"textarea":Qg(r),_k(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[go]=e,t[kp]=r,nV(t,e,!1,!1),e.stateNode=t;e:{switch(a=bS(n,r),n){case"dialog":Tt("cancel",t),Tt("close",t),i=r;break;case"iframe":case"object":case"embed":Tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dh.length;i++)Tt(Dh[i],t);i=r;break;case"source":Tt("error",t),i=r;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=r;break;case"details":Tt("toggle",t),i=r;break;case"input":xk(t,r),i=pS(t,r),Tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),Tt("invalid",t);break;case"textarea":wk(t,r),i=yS(t,r),Tt("invalid",t);break;default:i=r}xS(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?M4(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&O4(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sp(t,c):typeof c=="number"&&Sp(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_p.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Tt("scroll",t):c!=null&&YA(t,o,c,a))}switch(n){case"input":Qg(t),bk(t,r,!1);break;case"textarea":Qg(t),_k(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ku(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ku(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)iV(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Jl(Rp.current),Jl(Eo.current),ay(e)){if(r=e.stateNode,n=e.memoizedProps,r[go]=e,(o=r.nodeValue!==n)&&(t=Yr,t!==null))switch(t.tag){case 3:oy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oy(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[go]=e,e.stateNode=r}return Hn(e),null;case 13:if(Ct($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&qr!==null&&e.mode&1&&!(e.flags&128))_3(),bd(),e.flags|=98560,o=!1;else if(o=ay(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[go]=e}else bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),o=!1}else Ui!==null&&(eE(Ui),Ui=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?hn===0&&(hn=3):IP())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return _d(),qS(t,e),t===null&&Np(e.stateNode.containerInfo),Hn(e),null;case 10:return pP(e.type._context),Hn(e),null;case 17:return Ir(e.type)&&Mv(),Hn(e),null;case 19:if(Ct($t),o=e.memoizedState,o===null)return Hn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)dh(o,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Uv(t),a!==null){for(e.flags|=128,dh(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _t($t,$t.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qt()>Ed&&(e.flags|=128,r=!0,dh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Uv(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Mt)return Hn(e),null}else 2*Qt()-o.renderingStartTime>Ed&&n!==1073741824&&(e.flags|=128,r=!0,dh(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qt(),e.sibling=null,n=$t.current,_t($t,r?n&1|2:n&1),e):(Hn(e),null);case 22:case 23:return NP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function HX(t,e){switch(uP(e),e.tag){case 1:return Ir(e.type)&&Mv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _d(),Ct(Nr),Ct(er),xP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vP(e),null;case 13:if(Ct($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));bd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct($t),null;case 4:return _d(),null;case 10:return pP(e.type._context),null;case 22:case 23:return NP(),null;case 24:return null;default:return null}}var cy=!1,Xn=!1,qX=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Bu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function KS(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var dO=!1;function KX(t,e){if(NS=Iv,t=c3(),lP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(IS={focusedElem:t,selectionRange:n},Iv=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Mi(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(T){Ht(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return y=dO,dO=!1,y}function Jh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&KS(e,n,o)}i=i.next}while(i!==r)}}function Hb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function GS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oV(t){var e=t.alternate;e!==null&&(t.alternate=null,oV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[go],delete e[kp],delete e[RS],delete e[CX],delete e[NX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aV(t){return t.tag===5||t.tag===3||t.tag===4}function fO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function YS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rv));else if(r!==4&&(t=t.child,t!==null))for(YS(t,e,n),t=t.sibling;t!==null;)YS(t,e,n),t=t.sibling}function XS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(XS(t,e,n),t=t.sibling;t!==null;)XS(t,e,n),t=t.sibling}var Cn=null,Fi=!1;function ns(t,e,n){for(n=n.child;n!==null;)sV(t,e,n),n=n.sibling}function sV(t,e,n){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount($b,n)}catch{}switch(n.tag){case 5:Xn||Bu(n,e);case 6:var r=Cn,i=Fi;Cn=null,ns(t,e,n),Cn=r,Fi=i,Cn!==null&&(Fi?(t=Cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(Fi?(t=Cn,n=n.stateNode,t.nodeType===8?V_(t.parentNode,n):t.nodeType===1&&V_(t,n),Pp(t)):V_(Cn,n.stateNode));break;case 4:r=Cn,i=Fi,Cn=n.stateNode.containerInfo,Fi=!0,ns(t,e,n),Cn=r,Fi=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&KS(n,e,a),i=i.next}while(i!==r)}ns(t,e,n);break;case 1:if(!Xn&&(Bu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ht(n,e,s)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,ns(t,e,n),Xn=r):ns(t,e,n);break;default:ns(t,e,n)}}function hO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qX),e.forEach(function(r){var i=nQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Cn=s.stateNode,Fi=!1;break e;case 3:Cn=s.stateNode.containerInfo,Fi=!0;break e;case 4:Cn=s.stateNode.containerInfo,Fi=!0;break e}s=s.return}if(Cn===null)throw Error(le(160));sV(o,a,i),Cn=null,Fi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lV(e,t),e=e.sibling}function lV(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ni(e,t),so(t),r&4){try{Jh(3,t,t.return),Hb(3,t)}catch(g){Ht(t,t.return,g)}try{Jh(5,t,t.return)}catch(g){Ht(t,t.return,g)}}break;case 1:Ni(e,t),so(t),r&512&&n!==null&&Bu(n,n.return);break;case 5:if(Ni(e,t),so(t),r&512&&n!==null&&Bu(n,n.return),t.flags&32){var i=t.stateNode;try{Sp(i,"")}catch(g){Ht(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&N4(i,o),bS(s,a);var u=bS(s,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?M4(i,f):d==="dangerouslySetInnerHTML"?O4(i,f):d==="children"?Sp(i,f):YA(i,d,f,u)}switch(s){case"input":mS(i,o);break;case"textarea":I4(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ku(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ku(i,!!o.multiple,o.defaultValue,!0):Ku(i,!!o.multiple,o.multiple?[]:"",!1))}i[kp]=o}catch(g){Ht(t,t.return,g)}}break;case 6:if(Ni(e,t),so(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Ht(t,t.return,g)}}break;case 3:if(Ni(e,t),so(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pp(e.containerInfo)}catch(g){Ht(t,t.return,g)}break;case 4:Ni(e,t),so(t);break;case 13:Ni(e,t),so(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(jP=Qt())),r&4&&hO(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(u=Xn)||d,Ni(e,t),Xn=u):Ni(e,t),so(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,p=h.child,h.tag){case 0:case 11:case 14:case 15:Jh(4,h,h.return);break;case 1:Bu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Ht(r,n,g)}}break;case 5:Bu(h,h.return);break;case 22:if(h.memoizedState!==null){mO(f);continue}}p!==null?(p.return=h,ve=p):mO(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=R4("display",a))}catch(g){Ht(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ht(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ni(e,t),so(t),r&4&&hO(t);break;case 21:break;default:Ni(e,t),so(t)}}function so(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aV(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sp(i,""),r.flags&=-33);var o=fO(t);XS(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=fO(t);YS(t,s,a);break;default:throw Error(le(161))}}catch(c){Ht(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GX(t,e,n){ve=t,cV(t)}function cV(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||cy;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Xn;s=cy;var u=Xn;if(cy=a,(Xn=c)&&!u)for(ve=i;ve!==null;)a=ve,c=a.child,a.tag===22&&a.memoizedState!==null?gO(i):c!==null?(c.return=a,ve=c):gO(i);for(;o!==null;)ve=o,cV(o),o=o.sibling;ve=i,cy=s,Xn=u}pO(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ve=o):pO(t)}}function pO(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||Hb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Jk(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jk(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Xn||e.flags&512&&GS(e)}catch(h){Ht(e,e.return,h)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function mO(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function gO(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hb(4,e)}catch(c){Ht(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ht(e,i,c)}}var o=e.return;try{GS(e)}catch(c){Ht(e,o,c)}break;case 5:var a=e.return;try{GS(e)}catch(c){Ht(e,a,c)}}}catch(c){Ht(e,e.return,c)}if(e===t){ve=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ve=s;break}ve=e.return}}var YX=Math.ceil,Hv=$a.ReactCurrentDispatcher,AP=$a.ReactCurrentOwner,gi=$a.ReactCurrentBatchConfig,tt=0,Sn=null,nn=null,On=0,Br=0,Uu=ml(0),hn=0,Lp=null,Ac=0,qb=0,PP=0,Zh=null,Sr=null,jP=0,Ed=1/0,Qo=null,qv=!1,QS=null,Vs=null,uy=!1,js=null,Kv=0,ep=0,JS=null,ov=-1,av=0;function fr(){return tt&6?Qt():ov!==-1?ov:ov=Qt()}function Bs(t){return t.mode&1?tt&2&&On!==0?On&-On:kX.transition!==null?(av===0&&(av=K4()),av):(t=ht,t!==0||(t=window.event,t=t===void 0?16:e3(t.type)),t):1}function Ki(t,e,n,r){if(50<ep)throw ep=0,JS=null,Error(le(185));Xm(t,n,r),(!(tt&2)||t!==Sn)&&(t===Sn&&(!(tt&2)&&(qb|=n),hn===4&&ms(t,On)),kr(t,r),n===1&&tt===0&&!(e.mode&1)&&(Ed=Qt()+500,Ub&&gl()))}function kr(t,e){var n=t.callbackNode;kY(t,e);var r=Nv(t,t===Sn?On:0);if(r===0)n!==null&&Tk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tk(n),e===1)t.tag===0?IX(yO.bind(null,t)):x3(yO.bind(null,t)),PX(function(){!(tt&6)&&gl()}),n=null;else{switch(G4(r)){case 1:n=eP;break;case 4:n=H4;break;case 16:n=Cv;break;case 536870912:n=q4;break;default:n=Cv}n=yV(n,uV.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uV(t,e){if(ov=-1,av=0,tt&6)throw Error(le(327));var n=t.callbackNode;if(Ju()&&t.callbackNode!==n)return null;var r=Nv(t,t===Sn?On:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gv(t,r);else{e=r;var i=tt;tt|=2;var o=fV();(Sn!==t||On!==e)&&(Qo=null,Ed=Qt()+500,hc(t,e));do try{JX();break}catch(s){dV(t,s)}while(!0);hP(),Hv.current=o,tt=i,nn!==null?e=0:(Sn=null,On=0,e=hn)}if(e!==0){if(e===2&&(i=TS(t),i!==0&&(r=i,e=ZS(t,i))),e===1)throw n=Lp,hc(t,0),ms(t,r),kr(t,Qt()),n;if(e===6)ms(t,r);else{if(i=t.current.alternate,!(r&30)&&!XX(i)&&(e=Gv(t,r),e===2&&(o=TS(t),o!==0&&(r=o,e=ZS(t,o))),e===1))throw n=Lp,hc(t,0),ms(t,r),kr(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:zl(t,Sr,Qo);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=jP+500-Qt(),10<e)){if(Nv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=OS(zl.bind(null,t,Sr,Qo),e);break}zl(t,Sr,Qo);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-qi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YX(r/1960))-r,10<r){t.timeoutHandle=OS(zl.bind(null,t,Sr,Qo),r);break}zl(t,Sr,Qo);break;case 5:zl(t,Sr,Qo);break;default:throw Error(le(329))}}}return kr(t,Qt()),t.callbackNode===n?uV.bind(null,t):null}function ZS(t,e){var n=Zh;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),t=Gv(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&eE(e)),t}function eE(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function XX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Xi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~PP,e&=~qb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qi(e),r=1<<n;t[n]=-1,e&=~r}}function yO(t){if(tt&6)throw Error(le(327));Ju();var e=Nv(t,0);if(!(e&1))return kr(t,Qt()),null;var n=Gv(t,e);if(t.tag!==0&&n===2){var r=TS(t);r!==0&&(e=r,n=ZS(t,r))}if(n===1)throw n=Lp,hc(t,0),ms(t,e),kr(t,Qt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zl(t,Sr,Qo),kr(t,Qt()),null}function CP(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(Ed=Qt()+500,Ub&&gl())}}function Pc(t){js!==null&&js.tag===0&&!(tt&6)&&Ju();var e=tt;tt|=1;var n=gi.transition,r=ht;try{if(gi.transition=null,ht=1,t)return t()}finally{ht=r,gi.transition=n,tt=e,!(tt&6)&&gl()}}function NP(){Br=Uu.current,Ct(Uu)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AX(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(uP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mv();break;case 3:_d(),Ct(Nr),Ct(er),xP();break;case 5:vP(r);break;case 4:_d();break;case 13:Ct($t);break;case 19:Ct($t);break;case 10:pP(r.type._context);break;case 22:case 23:NP()}n=n.return}if(Sn=t,nn=t=Us(t.current,null),On=Br=e,hn=0,Lp=null,PP=qb=Ac=0,Sr=Zh=null,Ql!==null){for(e=0;e<Ql.length;e++)if(n=Ql[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ql=null}return t}function dV(t,e){do{var n=nn;try{if(hP(),nv.current=Wv,zv){for(var r=Lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zv=!1}if(Tc=0,_n=fn=Lt=null,Qh=!1,Mp=0,AP.current=null,n===null||n.return===null){hn=1,Lp=e,nn=null;break}e:{var o=t,a=n.return,s=n,c=e;if(e=On,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=iO(a);if(p!==null){p.flags&=-257,oO(p,a,s,o,e),p.mode&1&&rO(o,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){rO(o,u,e),IP();break e}c=Error(le(426))}}else if(Mt&&s.mode&1){var v=iO(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),oO(v,a,s,o,e),dP(Sd(c,s));break e}}o=c=Sd(c,s),hn!==4&&(hn=2),Zh===null?Zh=[o]:Zh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=G3(o,c,e);Qk(o,x);break e;case 1:s=c;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Vs===null||!Vs.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=Y3(o,s,e);Qk(o,T);break e}}o=o.return}while(o!==null)}pV(n)}catch(E){e=E,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function fV(){var t=Hv.current;return Hv.current=Wv,t===null?Wv:t}function IP(){(hn===0||hn===3||hn===2)&&(hn=4),Sn===null||!(Ac&268435455)&&!(qb&268435455)||ms(Sn,On)}function Gv(t,e){var n=tt;tt|=2;var r=fV();(Sn!==t||On!==e)&&(Qo=null,hc(t,e));do try{QX();break}catch(i){dV(t,i)}while(!0);if(hP(),tt=n,Hv.current=r,nn!==null)throw Error(le(261));return Sn=null,On=0,hn}function QX(){for(;nn!==null;)hV(nn)}function JX(){for(;nn!==null&&!SY();)hV(nn)}function hV(t){var e=gV(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?pV(t):nn=e,AP.current=null}function pV(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HX(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,nn=null;return}}else if(n=WX(n,e,Br),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);hn===0&&(hn=5)}function zl(t,e,n){var r=ht,i=gi.transition;try{gi.transition=null,ht=1,ZX(t,e,n,r)}finally{gi.transition=i,ht=r}return null}function ZX(t,e,n,r){do Ju();while(js!==null);if(tt&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OY(t,o),t===Sn&&(nn=Sn=null,On=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uy||(uy=!0,yV(Cv,function(){return Ju(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=gi.transition,gi.transition=null;var a=ht;ht=1;var s=tt;tt|=4,AP.current=null,KX(t,n),lV(n,t),xX(IS),Iv=!!NS,IS=NS=null,t.current=n,GX(n),EY(),tt=s,ht=a,gi.transition=o}else t.current=n;if(uy&&(uy=!1,js=t,Kv=i),o=t.pendingLanes,o===0&&(Vs=null),PY(n.stateNode),kr(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qv)throw qv=!1,t=QS,QS=null,t;return Kv&1&&t.tag!==0&&Ju(),o=t.pendingLanes,o&1?t===JS?ep++:(ep=0,JS=t):ep=0,gl(),null}function Ju(){if(js!==null){var t=G4(Kv),e=gi.transition,n=ht;try{if(gi.transition=null,ht=16>t?16:t,js===null)var r=!1;else{if(t=js,js=null,Kv=0,tt&6)throw Error(le(331));var i=tt;for(tt|=4,ve=t.current;ve!==null;){var o=ve,a=o.child;if(ve.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Jh(8,d,o)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,p=d.return;if(oV(d),d===u){ve=null;break}if(h!==null){h.return=p,ve=h;break}ve=p}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ve=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ve=a;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jh(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ve=x;break e}ve=o.return}}var w=t.current;for(ve=w;ve!==null;){a=ve;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ve=_;else e:for(a=w;ve!==null;){if(s=ve,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Hb(9,s)}}catch(E){Ht(s,s.return,E)}if(s===a){ve=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,ve=T;break e}ve=s.return}}if(tt=i,gl(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot($b,t)}catch{}r=!0}return r}finally{ht=n,gi.transition=e}}return!1}function vO(t,e,n){e=Sd(n,e),e=G3(t,e,1),t=Fs(t,e,1),e=fr(),t!==null&&(Xm(t,1,e),kr(t,e))}function Ht(t,e,n){if(t.tag===3)vO(t,t,n);else for(;e!==null;){if(e.tag===3){vO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=Sd(n,t),t=Y3(e,t,1),e=Fs(e,t,1),t=fr(),e!==null&&(Xm(e,1,t),kr(e,t));break}}e=e.return}}function eQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fr(),t.pingedLanes|=t.suspendedLanes&n,Sn===t&&(On&n)===n&&(hn===4||hn===3&&(On&130023424)===On&&500>Qt()-jP?hc(t,0):PP|=n),kr(t,e)}function mV(t,e){e===0&&(t.mode&1?(e=ey,ey<<=1,!(ey&130023424)&&(ey=4194304)):e=1);var n=fr();t=Ea(t,e),t!==null&&(Xm(t,e,n),kr(t,n))}function tQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mV(t,n)}function nQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),mV(t,n)}var gV;gV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,zX(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,Mt&&e.flags&1048576&&b3(e,Lv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;iv(t,e),t=e.pendingProps;var i=xd(e,er.current);Qu(e,n),i=wP(null,e,r,t,i,n);var o=_P();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(r)?(o=!0,Dv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gP(e),i.updater=Wb,e.stateNode=i,i._reactInternals=e,VS(e,r,t,n),e=zS(null,e,r,!0,o,n)):(e.tag=0,Mt&&o&&cP(e),lr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(iv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iQ(r),t=Mi(r,t),i){case 0:e=US(null,e,r,t,n);break e;case 1:e=lO(null,e,r,t,n);break e;case 11:e=aO(null,e,r,t,n);break e;case 14:e=sO(null,e,r,Mi(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),US(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),lO(t,e,r,i,n);case 3:e:{if(Z3(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,i=o.element,A3(t,e),Bv(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Sd(Error(le(423)),e),e=cO(t,e,r,n,i);break e}else if(r!==i){i=Sd(Error(le(424)),e),e=cO(t,e,r,n,i);break e}else for(qr=Ls(e.stateNode.containerInfo.firstChild),Yr=e,Mt=!0,Ui=null,n=E3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bd(),r===i){e=Ta(t,e,n);break e}lr(t,e,r,n)}e=e.child}return e;case 5:return P3(e),t===null&&$S(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,kS(r,i)?a=null:o!==null&&kS(r,o)&&(e.flags|=32),J3(t,e),lr(t,e,a,n),e.child;case 6:return t===null&&$S(e),null;case 13:return eV(t,e,n);case 4:return yP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wd(e,null,r,n):lr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),aO(t,e,r,i,n);case 7:return lr(t,e,e.pendingProps,n),e.child;case 8:return lr(t,e,e.pendingProps.children,n),e.child;case 12:return lr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,_t(Fv,r._currentValue),r._currentValue=a,o!==null)if(Xi(o.value,a)){if(o.children===i.children&&!Nr.current){e=Ta(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=pa(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),LS(o.return,n,e),s.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(le(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),LS(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}lr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qu(e,n),i=bi(i),r=r(i),e.flags|=1,lr(t,e,r,n),e.child;case 14:return r=e.type,i=Mi(r,e.pendingProps),i=Mi(r.type,i),sO(t,e,r,i,n);case 15:return X3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mi(r,i),iv(t,e),e.tag=1,Ir(r)?(t=!0,Dv(e)):t=!1,Qu(e,n),K3(e,r,i),VS(e,r,i,n),zS(null,e,r,!0,t,n);case 19:return tV(t,e,n);case 22:return Q3(t,e,n)}throw Error(le(156,e.tag))};function yV(t,e){return W4(t,e)}function rQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,e,n,r){return new rQ(t,e,n,r)}function kP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iQ(t){if(typeof t=="function")return kP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QA)return 11;if(t===JA)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sv(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")kP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ku:return pc(n.children,i,o,e);case XA:a=8,i|=8;break;case uS:return t=pi(12,n,e,i|2),t.elementType=uS,t.lanes=o,t;case dS:return t=pi(13,n,e,i),t.elementType=dS,t.lanes=o,t;case fS:return t=pi(19,n,e,i),t.elementType=fS,t.lanes=o,t;case P4:return Kb(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T4:a=10;break e;case A4:a=9;break e;case QA:a=11;break e;case JA:a=14;break e;case ds:a=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=pi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function pc(t,e,n,r){return t=pi(7,t,r,e),t.lanes=n,t}function Kb(t,e,n,r){return t=pi(22,t,r,e),t.elementType=P4,t.lanes=n,t.stateNode={isHidden:!1},t}function G_(t,e,n){return t=pi(6,t,null,e),t.lanes=n,t}function Y_(t,e,n){return e=pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oQ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C_(0),this.expirationTimes=C_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OP(t,e,n,r,i,o,a,s,c){return t=new oQ(t,e,n,s,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=pi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gP(o),t}function aQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Iu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vV(t){if(!t)return Qs;t=t._reactInternals;e:{if(qc(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Ir(n))return v3(t,n,e)}return e}function xV(t,e,n,r,i,o,a,s,c){return t=OP(n,r,!0,t,i,o,a,s,c),t.context=vV(null),n=t.current,r=fr(),i=Bs(n),o=pa(r,i),o.callback=e??null,Fs(n,o,i),t.current.lanes=i,Xm(t,i,r),kr(t,r),t}function Gb(t,e,n,r){var i=e.current,o=fr(),a=Bs(i);return n=vV(n),e.context===null?e.context=n:e.pendingContext=n,e=pa(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(i,e,a),t!==null&&(Ki(t,i,a,o),tv(t,i,a)),a}function Yv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function RP(t,e){xO(t,e),(t=t.alternate)&&xO(t,e)}function sQ(){return null}var bV=typeof reportError=="function"?reportError:function(t){console.error(t)};function MP(t){this._internalRoot=t}Yb.prototype.render=MP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Gb(t,e,null,null)};Yb.prototype.unmount=MP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pc(function(){Gb(null,t,null,null)}),e[Sa]=null}};function Yb(t){this._internalRoot=t}Yb.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&Z4(t)}};function DP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bO(){}function lQ(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Yv(a);o.call(u)}}var a=xV(e,r,t,0,null,!1,!1,"",bO);return t._reactRootContainer=a,t[Sa]=a.current,Np(t.nodeType===8?t.parentNode:t),Pc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Yv(c);s.call(u)}}var c=OP(t,0,!1,null,null,!1,!1,"",bO);return t._reactRootContainer=c,t[Sa]=c.current,Np(t.nodeType===8?t.parentNode:t),Pc(function(){Gb(e,c,n,r)}),c}function Qb(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=Yv(a);s.call(c)}}Gb(e,a,t,i)}else a=lQ(n,e,t,i,r);return Yv(a)}Y4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mh(e.pendingLanes);n!==0&&(tP(e,n|1),kr(e,Qt()),!(tt&6)&&(Ed=Qt()+500,gl()))}break;case 13:Pc(function(){var r=Ea(t,1);if(r!==null){var i=fr();Ki(r,t,1,i)}}),RP(t,1)}};nP=function(t){if(t.tag===13){var e=Ea(t,134217728);if(e!==null){var n=fr();Ki(e,t,134217728,n)}RP(t,134217728)}};X4=function(t){if(t.tag===13){var e=Bs(t),n=Ea(t,e);if(n!==null){var r=fr();Ki(n,t,e,r)}RP(t,e)}};Q4=function(){return ht};J4=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};_S=function(t,e,n){switch(e){case"input":if(mS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bb(r);if(!i)throw Error(le(90));C4(r),mS(r,i)}}}break;case"textarea":I4(t,n);break;case"select":e=n.value,e!=null&&Ku(t,!!n.multiple,e,!1)}};L4=CP;F4=Pc;var cQ={usingClientEntryPoint:!1,Events:[Jm,Du,Bb,D4,$4,CP]},fh={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uQ={bundleType:fh.bundleType,version:fh.version,rendererPackageName:fh.rendererPackageName,rendererConfig:fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$a.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U4(t),t===null?null:t.stateNode},findFiberByHostInstance:fh.findFiberByHostInstance||sQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{$b=dy.inject(uQ),So=dy}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cQ;ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DP(e))throw Error(le(200));return aQ(t,e,null,n)};ei.createRoot=function(t,e){if(!DP(t))throw Error(le(299));var n=!1,r="",i=bV;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=OP(t,1,!1,null,null,n,!1,r,i),t[Sa]=e.current,Np(t.nodeType===8?t.parentNode:t),new MP(e)};ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=U4(e),t=t===null?null:t.stateNode,t};ei.flushSync=function(t){return Pc(t)};ei.hydrate=function(t,e,n){if(!Xb(e))throw Error(le(200));return Qb(null,t,e,!0,n)};ei.hydrateRoot=function(t,e,n){if(!DP(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=bV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xV(e,null,t,1,n??null,i,!1,o,a),t[Sa]=e.current,Np(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yb(e)};ei.render=function(t,e,n){if(!Xb(e))throw Error(le(200));return Qb(null,t,e,!1,n)};ei.unmountComponentAtNode=function(t){if(!Xb(t))throw Error(le(40));return t._reactRootContainer?(Pc(function(){Qb(null,null,t,!1,function(){t._reactRootContainer=null,t[Sa]=null})}),!0):!1};ei.unstable_batchedUpdates=CP;ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xb(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Qb(t,e,n,!1,r)};ei.version="18.3.1-next-f1338f8080-20240426";function wV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wV)}catch(t){console.error(t)}}wV(),w4.exports=ei;var Kc=w4.exports;const _V=gt(Kc);var SV,wO=Kc;SV=wO.createRoot,wO.hydrateRoot;const dQ="modulepreload",fQ=function(t){return"/"+t},_O={},Jb=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=fQ(c),c in _O)return;_O[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":dQ,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})},hQ=1,pQ=1e6;let X_=0;function mQ(){return X_=(X_+1)%Number.MAX_SAFE_INTEGER,X_.toString()}const Q_=new Map,SO=t=>{if(Q_.has(t))return;const e=setTimeout(()=>{Q_.delete(t),tp({type:"REMOVE_TOAST",toastId:t})},pQ);Q_.set(t,e)},gQ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?SO(n):t.toasts.forEach(r=>{SO(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lv=[];let cv={toasts:[]};function tp(t){cv=gQ(cv,t),lv.forEach(e=>{e(cv)})}function se({...t}){const e=mQ(),n=i=>tp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>tp({type:"DISMISS_TOAST",toastId:e});return tp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function $P(){const[t,e]=b.useState(cv);return b.useEffect(()=>(lv.push(e),()=>{const n=lv.indexOf(e);n>-1&&lv.splice(n,1)}),[t]),{...t,toast:se,dismiss:n=>tp({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function EO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zb(...t){return e=>{let n=!1;const r=t.map(i=>{const o=EO(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():EO(t[i],null)}}}}function Qe(...t){return b.useCallback(Zb(...t),t)}function yQ(t,e){const n=b.createContext(e),r=o=>{const{children:a,...s}=o,c=b.useMemo(()=>s,Object.values(s));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(o){const a=b.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Dr(t,e=[]){let n=[];function r(o,a){const s=b.createContext(a),c=n.length;n=[...n,a];const u=f=>{var x;const{scope:h,children:p,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[c])||s,v=b.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:v,children:p})};u.displayName=o+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[c])||s,y=b.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const i=()=>{const o=n.map(a=>b.createContext(a));return function(s){const c=(s==null?void 0:s[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return i.scopeName=t,[r,vQ(i,...e)]}function vQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function jc(t){const e=bQ(t),n=b.forwardRef((r,i)=>{const{children:o,...a}=r,s=b.Children.toArray(o),c=s.find(_Q);if(c){const u=c.props.children,d=s.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var xQ=jc("Slot");function bQ(t){const e=b.forwardRef((n,r)=>{const{children:i,...o}=n;if(b.isValidElement(i)){const a=EQ(i),s=SQ(o,i.props);return i.type!==b.Fragment&&(s.ref=r?Zb(r,a):a),b.cloneElement(i,s)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EV=Symbol("radix.slottable");function wQ(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=EV,e}function _Q(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EV}function SQ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const c=o(...s);return i(...s),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function EQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ew(t){const e=t+"CollectionProvider",[n,r]=Dr(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:x}=g,w=D.useRef(null),_=D.useRef(new Map).current;return l.jsx(i,{scope:v,itemMap:_,collectionRef:w,children:x})};a.displayName=e;const s=t+"CollectionSlot",c=jc(s),u=D.forwardRef((g,v)=>{const{scope:x,children:w}=g,_=o(s,x),T=Qe(v,_.collectionRef);return l.jsx(c,{ref:T,children:w})});u.displayName=s;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=jc(d),p=D.forwardRef((g,v)=>{const{scope:x,children:w,..._}=g,T=D.useRef(null),E=Qe(v,T),P=o(d,x);return D.useEffect(()=>(P.itemMap.set(T,{ref:T,..._}),()=>void P.itemMap.delete(T))),l.jsx(h,{[f]:"",ref:E,children:w})});p.displayName=d;function y(g){const v=o(t+"CollectionConsumer",g);return D.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,S)=>_.indexOf(P.ref.current)-_.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},y,r]}var TQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=TQ.reduce((t,e)=>{const n=jc(`Primitive.${e}`),r=b.forwardRef((i,o)=>{const{asChild:a,...s}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function LP(t,e){t&&Kc.flushSync(()=>t.dispatchEvent(e))}function pr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function AQ(t,e=globalThis==null?void 0:globalThis.document){const n=pr(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PQ="DismissableLayer",tE="dismissableLayer.update",jQ="dismissableLayer.pointerDownOutside",CQ="dismissableLayer.focusOutside",TO,TV=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gf=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...c}=t,u=b.useContext(TV),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),y=Qe(e,S=>f(S)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,T=w>=x,E=IQ(S=>{const A=S.target,C=[...u.branches].some(I=>I.contains(A));!T||C||(i==null||i(S),a==null||a(S),S.defaultPrevented||s==null||s())},h),P=kQ(S=>{const A=S.target;[...u.branches].some(I=>I.contains(A))||(o==null||o(S),a==null||a(S),S.defaultPrevented||s==null||s())},h);return AQ(S=>{w===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&s&&(S.preventDefault(),s()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(TO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),AO(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=TO)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),AO())},[d,u]),b.useEffect(()=>{const S=()=>p({});return document.addEventListener(tE,S),()=>document.removeEventListener(tE,S)},[]),l.jsx(_e.div,{...c,ref:y,style:{pointerEvents:_?T?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,P.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,E.onPointerDownCapture)})});gf.displayName=PQ;var NQ="DismissableLayerBranch",AV=b.forwardRef((t,e)=>{const n=b.useContext(TV),r=b.useRef(null),i=Qe(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(_e.div,{...t,ref:i})});AV.displayName=NQ;function IQ(t,e=globalThis==null?void 0:globalThis.document){const n=pr(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let c=function(){PV(jQ,n,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function kQ(t,e=globalThis==null?void 0:globalThis.document){const n=pr(t),r=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!r.current&&PV(CQ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AO(){const t=new CustomEvent(tE);document.dispatchEvent(t)}function PV(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?LP(i,o):i.dispatchEvent(o)}var OQ=gf,RQ=AV,sn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},MQ="Portal",eg=b.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=b.useState(!1);sn(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?_V.createPortal(l.jsx(_e.div,{...r,ref:e}),a):null});eg.displayName=MQ;function DQ(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Ei=t=>{const{present:e,children:n}=t,r=$Q(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=Qe(r.ref,LQ(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:o}):null};Ei.displayName="Presence";function $Q(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),o=b.useRef("none"),a=t?"mounted":"unmounted",[s,c]=DQ(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=fy(r.current);o.current=s==="mounted"?u:"none"},[s]),sn(()=>{const u=r.current,d=i.current;if(d!==t){const h=o.current,p=fy(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),sn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const g=fy(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(o.current=fy(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function fy(t){return(t==null?void 0:t.animationName)||"none"}function LQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FQ=qA[" useInsertionEffect ".trim().toString()]||sn;function Aa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=VQ({defaultProp:e,onChange:n}),s=t!==void 0,c=s?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,r])}const u=b.useCallback(d=>{var f;if(s){const h=BQ(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else o(d)},[s,t,o,a]);return[c,u]}function VQ({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),o=b.useRef(e);return FQ(()=>{o.current=e},[e]),b.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function BQ(t){return typeof t=="function"}var jV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UQ="VisuallyHidden",tw=b.forwardRef((t,e)=>l.jsx(_e.span,{...t,ref:e,style:{...jV,...t.style}}));tw.displayName=UQ;var zQ=tw,FP="ToastProvider",[VP,WQ,HQ]=ew("Toast"),[CV]=Dr("Toast",[HQ]),[qQ,nw]=CV(FP),NV=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${FP}\`. Expected non-empty \`string\`.`),l.jsx(VP.Provider,{scope:e,children:l.jsx(qQ,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:s,onViewportChange:c,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};NV.displayName=FP;var IV="ToastViewport",KQ=["F8"],nE="toast.viewportPause",rE="toast.viewportResume",kV=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=KQ,label:i="Notifications ({hotkey})",...o}=t,a=nw(IV,n),s=WQ(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=Qe(e,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;b.useEffect(()=>{const v=x=>{var _;r.length!==0&&r.every(T=>x[T]||x.code===T)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=c.current,x=f.current;if(y&&v&&x){const w=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(nE);x.dispatchEvent(P),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(rE);x.dispatchEvent(P),a.isClosePausedRef.current=!1}},T=P=>{!v.contains(P.relatedTarget)&&_()},E=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",w),v.addEventListener("focusout",T),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",T),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[y,a.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const w=s().map(_=>{const T=_.ref.current,E=[T,...aJ(T)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[s]);return b.useEffect(()=>{const v=f.current;if(v){const x=w=>{var E,P,S;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const A=document.activeElement,C=w.shiftKey;if(w.target===v&&C){(E=u.current)==null||E.focus();return}const k=g({tabbingDirection:C?"backwards":"forwards"}),R=k.findIndex($=>$===A);J_(k.slice(R+1))?w.preventDefault():C?(P=u.current)==null||P.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[s,g]),l.jsxs(RQ,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(iE,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});J_(v)}}),l.jsx(VP.Slot,{scope:n,children:l.jsx(_e.ol,{tabIndex:-1,...o,ref:h})}),y&&l.jsx(iE,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});J_(v)}})]})});kV.displayName=IV;var OV="ToastFocusProxy",iE=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=nw(OV,n);return l.jsx(tw,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const s=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(s))&&r()}})});iE.displayName=OV;var tg="Toast",GQ="toast.swipeStart",YQ="toast.swipeMove",XQ="toast.swipeCancel",QQ="toast.swipeEnd",RV=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s,c]=Aa({prop:r,defaultProp:i??!0,onChange:o,caller:tg});return l.jsx(Ei,{present:n||s,children:l.jsx(eJ,{open:s,...a,ref:e,onClose:()=>c(!1),onPause:pr(t.onPause),onResume:pr(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});RV.displayName=tg;var[JQ,ZQ]=CV(tg,{onClose(){}}),eJ=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=t,g=nw(tg,n),[v,x]=b.useState(null),w=Qe(e,$=>x($)),_=b.useRef(null),T=b.useRef(null),E=i||g.duration,P=b.useRef(0),S=b.useRef(E),A=b.useRef(0),{onToastAdd:C,onToastRemove:I}=g,N=pr(()=>{var U;(v==null?void 0:v.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),a()}),k=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(N,$))},[N]);b.useEffect(()=>{const $=g.viewport;if($){const U=()=>{k(S.current),u==null||u()},B=()=>{const V=new Date().getTime()-P.current;S.current=S.current-V,window.clearTimeout(A.current),c==null||c()};return $.addEventListener(nE,B),$.addEventListener(rE,U),()=>{$.removeEventListener(nE,B),$.removeEventListener(rE,U)}}},[g.viewport,E,c,u,k]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&k(E)},[o,E,g.isClosePausedRef,k]),b.useEffect(()=>(C(),()=>I()),[C,I]);const R=b.useMemo(()=>v?BV(v):null,[v]);return g.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(tJ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),l.jsx(JQ,{scope:n,onClose:N,children:Kc.createPortal(l.jsx(VP.ItemSlot,{scope:n,children:l.jsx(OQ,{asChild:!0,onEscapeKeyDown:pe(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(_e.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,$=>{$.key==="Escape"&&(s==null||s($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:pe(t.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:pe(t.onPointerMove,$=>{if(!_.current)return;const U=$.clientX-_.current.x,B=$.clientY-_.current.y,V=!!T.current,F=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=F?L(0,U):0,z=F?0:L(0,B),W=$.pointerType==="touch"?10:2,K={x:H,y:z},re={originalEvent:$,delta:K};V?(T.current=K,hy(YQ,f,re,{discrete:!1})):PO(K,g.swipeDirection,W)?(T.current=K,hy(GQ,d,re,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(U)>W||Math.abs(B)>W)&&(_.current=null)}),onPointerUp:pe(t.onPointerUp,$=>{const U=T.current,B=$.target;if(B.hasPointerCapture($.pointerId)&&B.releasePointerCapture($.pointerId),T.current=null,_.current=null,U){const V=$.currentTarget,F={originalEvent:$,delta:U};PO(U,g.swipeDirection,g.swipeThreshold)?hy(QQ,p,F,{discrete:!0}):hy(XQ,h,F,{discrete:!0}),V.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tJ=t=>{const{__scopeToast:e,children:n,...r}=t,i=nw(tg,e),[o,a]=b.useState(!1),[s,c]=b.useState(!1);return iJ(()=>a(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:l.jsx(eg,{asChild:!0,children:l.jsx(tw,{...r,children:o&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},nJ="ToastTitle",MV=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(_e.div,{...r,ref:e})});MV.displayName=nJ;var rJ="ToastDescription",DV=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(_e.div,{...r,ref:e})});DV.displayName=rJ;var $V="ToastAction",LV=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(VV,{altText:n,asChild:!0,children:l.jsx(BP,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$V}\`. Expected non-empty \`string\`.`),null)});LV.displayName=$V;var FV="ToastClose",BP=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=ZQ(FV,n);return l.jsx(VV,{asChild:!0,children:l.jsx(_e.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});BP.displayName=FV;var VV=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function BV(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oJ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...BV(r))}}),e}function hy(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?LP(i,o):i.dispatchEvent(o)}var PO=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function iJ(t=()=>{}){const e=pr(t);sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oJ(t){return t.nodeType===t.ELEMENT_NODE}function aJ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function J_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var sJ=NV,UV=kV,zV=RV,WV=MV,HV=DV,qV=LV,KV=BP;function GV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function We(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GV(t))&&(r&&(r+=" "),r+=e);return r}const jO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,CO=We,yf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return CO(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=jO(d)||jO(f);return i[u][h]}),s=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...s}[g]):{...o,...s}[g]===v})?[...u,f,h]:u},[]);return CO(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YV=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},c)=>b.createElement("svg",{ref:c,...cJ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:YV("lucide",i),...s},[...a.map(([u,d])=>b.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(uJ,{ref:o,iconNode:e,className:YV(`lucide-${lJ(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=Te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Te("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=Te("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=Te("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Te("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=Te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Te("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Te("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Te("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=Te("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=Te("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=Te("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=Te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Te("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=Te("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=Te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=Te("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=Te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=Te("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Te("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=Te("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Te("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Te("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),HP="-",qJ=t=>{const e=GJ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(HP);return s[0]===""&&s.length!==1&&s.shift(),rB(s,e)||KJ(a)},getConflictingClassGroupIds:(a,s)=>{const c=n[a]||[];return s&&r[a]?[...c,...r[a]]:c}}},rB=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?rB(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(HP);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},NO=/^\[(.+)\]$/,KJ=t=>{if(NO.test(t)){const e=NO.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},GJ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return XJ(Object.entries(t.classGroups),n).forEach(([o,a])=>{lE(a,r,o,e)}),r},lE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:IO(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(YJ(i)){lE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{lE(a,IO(e,o),n,r)})})},IO=(t,e)=>{let n=t;return e.split(HP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},YJ=t=>t.isThemeGetter,XJ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,QJ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},iB="!",JJ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const c=[];let u=0,d=0,f;for(let v=0;v<s.length;v++){let x=s[v];if(u===0){if(x===i&&(r||s.slice(v,v+o)===e)){c.push(s.slice(d,v)),d=v+o;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?s:s.substring(d),p=h.startsWith(iB),y=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},ZJ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},eZ=t=>({cache:QJ(t.cacheSize),parseClassName:JJ(t),...qJ(t)}),tZ=/\s+/,nZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(tZ);let s="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){s=u+(s.length>0?" "+s:s);continue}if(g=r(h),!g){s=u+(s.length>0?" "+s:s);continue}y=!1}const v=ZJ(d).join(":"),x=f?v+iB:v,w=x+g;if(o.includes(w))continue;o.push(w);const _=i(g,y);for(let T=0;T<_.length;++T){const E=_[T];o.push(x+E)}s=u+(s.length>0?" "+s:s)}return s};function rZ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oB(e))&&(r&&(r+=" "),r+=n);return r}const oB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oB(t[r]))&&(n&&(n+=" "),n+=e);return n};function iZ(t,...e){let n,r,i,o=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=eZ(u),r=n.cache.get,i=n.cache.set,o=s,s(c)}function s(c){const u=r(c);if(u)return u;const d=nZ(c,n);return i(c,d),d}return function(){return o(rZ.apply(null,arguments))}}const Et=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aB=/^\[(?:([a-z-]+):)?(.+)\]$/i,oZ=/^\d+\/\d+$/,aZ=new Set(["px","full","screen"]),sZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=t=>Zu(t)||aZ.has(t)||oZ.test(t),rs=t=>vf(t,"length",xZ),Zu=t=>!!t&&!Number.isNaN(Number(t)),Z_=t=>vf(t,"number",Zu),hh=t=>!!t&&Number.isInteger(Number(t)),fZ=t=>t.endsWith("%")&&Zu(t.slice(0,-1)),Ve=t=>aB.test(t),is=t=>sZ.test(t),hZ=new Set(["length","size","percentage"]),pZ=t=>vf(t,hZ,sB),mZ=t=>vf(t,"position",sB),gZ=new Set(["image","url"]),yZ=t=>vf(t,gZ,wZ),vZ=t=>vf(t,"",bZ),ph=()=>!0,vf=(t,e,n)=>{const r=aB.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},xZ=t=>lZ.test(t)&&!cZ.test(t),sB=()=>!1,bZ=t=>uZ.test(t),wZ=t=>dZ.test(t),_Z=()=>{const t=Et("colors"),e=Et("spacing"),n=Et("blur"),r=Et("brightness"),i=Et("borderColor"),o=Et("borderRadius"),a=Et("borderSpacing"),s=Et("borderWidth"),c=Et("contrast"),u=Et("grayscale"),d=Et("hueRotate"),f=Et("invert"),h=Et("gap"),p=Et("gradientColorStops"),y=Et("gradientColorStopPositions"),g=Et("inset"),v=Et("margin"),x=Et("opacity"),w=Et("padding"),_=Et("saturate"),T=Et("scale"),E=Et("sepia"),P=Et("skew"),S=Et("space"),A=Et("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ve,e],k=()=>[Ve,e],R=()=>["",Go,rs],$=()=>["auto",Zu,Ve],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ve],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Zu,Ve];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[Go,rs],blur:["none","",is,Ve],brightness:z(),borderColor:[t],borderRadius:["none","","full",is,Ve],borderSpacing:k(),borderWidth:R(),contrast:z(),grayscale:L(),hueRotate:z(),invert:L(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[fZ,rs],inset:N(),margin:N(),opacity:z(),padding:k(),saturate:z(),scale:z(),sepia:L(),skew:z(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ve]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hh,Ve]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",hh,Ve]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",hh,Ve]},Ve]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[hh,Ve]},Ve]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Z_]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Zu,Z_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Go,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Go,rs]}],"underline-offset":[{"underline-offset":["auto",Go,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),mZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Go,Ve]}],"outline-w":[{outline:[Go,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Go,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,vZ]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",is,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[hh,Ve]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Go,rs,Z_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SZ=iZ(_Z);function we(...t){return SZ(We(t))}function lB(t){const e=t.lastIndexOf("."),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"",i=n.replace(/[\\/\0-\x1F]/g,"").replace(/[^A-Za-z0-9._-]/g,"_").slice(0,100),o=r.replace(/[^A-Za-z0-9]/g,"");return o?`${i}.${o}`:i}const EZ=sJ,cB=b.forwardRef(({className:t,...e},n)=>l.jsx(UV,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cB.displayName=UV.displayName;const TZ=yf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uB=b.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(zV,{ref:r,className:we(TZ({variant:e}),t),...n}));uB.displayName=zV.displayName;const AZ=b.forwardRef(({className:t,...e},n)=>l.jsx(qV,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));AZ.displayName=qV.displayName;const dB=b.forwardRef(({className:t,...e},n)=>l.jsx(KV,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(rg,{className:"h-4 w-4"})}));dB.displayName=KV.displayName;const fB=b.forwardRef(({className:t,...e},n)=>l.jsx(WV,{ref:n,className:we("text-sm font-semibold",t),...e}));fB.displayName=WV.displayName;const hB=b.forwardRef(({className:t,...e},n)=>l.jsx(HV,{ref:n,className:we("text-sm opacity-90",t),...e}));hB.displayName=HV.displayName;function PZ(){const{toasts:t}=$P();return l.jsxs(EZ,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return l.jsxs(uB,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(fB,{children:n}),r&&l.jsx(hB,{children:r})]}),i,l.jsx(dB,{})]},e)}),l.jsx(cB,{})]})}var kO=["light","dark"],jZ="(prefers-color-scheme: dark)",CZ=b.createContext(void 0),NZ={setTheme:t=>{},themes:[]},IZ=()=>{var t;return(t=b.useContext(CZ))!=null?t:NZ};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:s,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?kO.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,v=!0)=>{let x=a?a[y]:y,w=g?y+"|| ''":`'${x}'`,_="";return i&&v&&!g&&kO.includes(y)&&(_+=`d.style.colorScheme = '${y}';`),n==="class"?g||x?_+=`c.add(${w})`:_+="null":x&&(_+=`d[s](n,${w})`),_},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${jZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var kZ=t=>{switch(t){case"success":return MZ;case"info":return $Z;case"warning":return DZ;case"error":return LZ;default:return null}},OZ=Array(12).fill(0),RZ=({visible:t,className:e})=>D.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},D.createElement("div",{className:"sonner-spinner"},OZ.map((n,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),MZ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DZ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$Z=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LZ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FZ=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VZ=()=>{let[t,e]=D.useState(document.hidden);return D.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},cE=1,BZ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:cE++,a=this.toasts.find(c=>c.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:s,title:r}):c):this.addToast({title:r,...i,dismissible:s,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),o=r!==void 0,a,s=i.then(async u=>{if(a=["resolve",u],D.isValidElement(u))o=!1,this.create({id:r,type:"default",message:u});else if(zZ(u)&&!u.ok){o=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){o=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){o=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;o&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>s.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||cE++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wr=new BZ,UZ=(t,e)=>{let n=(e==null?void 0:e.id)||cE++;return wr.addToast({title:t,...e,id:n}),n},zZ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WZ=UZ,HZ=()=>wr.toasts,qZ=()=>wr.getActiveToasts();Object.assign(WZ,{success:wr.success,info:wr.info,warning:wr.warning,error:wr.error,custom:wr.custom,message:wr.message,promise:wr.promise,dismiss:wr.dismiss,loading:wr.loading},{getHistory:HZ,getToasts:qZ});function KZ(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}KZ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function py(t){return t.label!==void 0}var GZ=3,YZ="32px",XZ="16px",OO=4e3,QZ=356,JZ=14,ZZ=20,eee=200;function Ii(...t){return t.filter(Boolean).join(" ")}function tee(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var nee=t=>{var e,n,r,i,o,a,s,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:x,heights:w,index:_,toasts:T,expanded:E,removeToast:P,defaultRichColors:S,closeButton:A,style:C,cancelButtonStyle:I,actionButtonStyle:N,className:k="",descriptionClassName:R="",duration:$,position:U,gap:B,loadingIcon:V,expandByDefault:F,classNames:L,icons:H,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:W}=t,[K,re]=D.useState(null),[de,be]=D.useState(null),[oe,Pe]=D.useState(!1),[ie,ae]=D.useState(!1),[ue,G]=D.useState(!1),[je,Ae]=D.useState(!1),[ot,at]=D.useState(!1),[kt,Ln]=D.useState(0),[Fn,ji]=D.useState(0),Vn=D.useRef(p.duration||$||OO),ri=D.useRef(null),rr=D.useRef(null),Xa=_===0,Ol=_+1<=x,dt=p.type,Ut=p.dismissible!==!1,cu=p.className||"",kg=p.descriptionClassName||"",Rl=D.useMemo(()=>w.findIndex(ke=>ke.toastId===p.id)||0,[w,p.id]),c_=D.useMemo(()=>{var ke;return(ke=p.closeButton)!=null?ke:A},[p.closeButton,A]),Qa=D.useMemo(()=>p.duration||$||OO,[p.duration,$]),uu=D.useRef(0),Wo=D.useRef(0),du=D.useRef(0),Ja=D.useRef(null),[u_,Gf]=U.split("-"),Yf=D.useMemo(()=>w.reduce((ke,et,yt)=>yt>=Rl?ke:ke+et.height,0),[w,Rl]),Xf=VZ(),Ml=p.invert||h,Dl=dt==="loading";Wo.current=D.useMemo(()=>Rl*B+Yf,[Rl,Yf]),D.useEffect(()=>{Vn.current=Qa},[Qa]),D.useEffect(()=>{Pe(!0)},[]),D.useEffect(()=>{let ke=rr.current;if(ke){let et=ke.getBoundingClientRect().height;return ji(et),v(yt=>[{toastId:p.id,height:et,position:p.position},...yt]),()=>v(yt=>yt.filter(Tn=>Tn.toastId!==p.id))}},[v,p.id]),D.useLayoutEffect(()=>{if(!oe)return;let ke=rr.current,et=ke.style.height;ke.style.height="auto";let yt=ke.getBoundingClientRect().height;ke.style.height=et,ji(yt),v(Tn=>Tn.find(xr=>xr.toastId===p.id)?Tn.map(xr=>xr.toastId===p.id?{...xr,height:yt}:xr):[{toastId:p.id,height:yt,position:p.position},...Tn])},[oe,p.title,p.description,v,p.id]);let ii=D.useCallback(()=>{ae(!0),Ln(Wo.current),v(ke=>ke.filter(et=>et.toastId!==p.id)),setTimeout(()=>{P(p)},eee)},[p,P,v,Wo]);D.useEffect(()=>{if(p.promise&&dt==="loading"||p.duration===1/0||p.type==="loading")return;let ke;return E||g||W&&Xf?(()=>{if(du.current<uu.current){let et=new Date().getTime()-uu.current;Vn.current=Vn.current-et}du.current=new Date().getTime()})():Vn.current!==1/0&&(uu.current=new Date().getTime(),ke=setTimeout(()=>{var et;(et=p.onAutoClose)==null||et.call(p,p),ii()},Vn.current)),()=>clearTimeout(ke)},[E,g,p,dt,W,Xf,ii]),D.useEffect(()=>{p.delete&&ii()},[ii,p.delete]);function Ho(){var ke,et,yt;return H!=null&&H.loading?D.createElement("div",{className:Ii(L==null?void 0:L.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":dt==="loading"},H.loading):V?D.createElement("div",{className:Ii(L==null?void 0:L.loader,(et=p==null?void 0:p.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":dt==="loading"},V):D.createElement(RZ,{className:Ii(L==null?void 0:L.loader,(yt=p==null?void 0:p.classNames)==null?void 0:yt.loader),visible:dt==="loading"})}return D.createElement("li",{tabIndex:0,ref:rr,className:Ii(k,cu,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[dt],(n=p==null?void 0:p.classNames)==null?void 0:n[dt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:S,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":oe,"data-promise":!!p.promise,"data-swiped":ot,"data-removed":ie,"data-visible":Ol,"data-y-position":u_,"data-x-position":Gf,"data-index":_,"data-front":Xa,"data-swiping":ue,"data-dismissible":Ut,"data-type":dt,"data-invert":Ml,"data-swipe-out":je,"data-swipe-direction":de,"data-expanded":!!(E||F&&oe),style:{"--index":_,"--toasts-before":_,"--z-index":T.length-_,"--offset":`${ie?kt:Wo.current}px`,"--initial-height":F?"auto":`${Fn}px`,...C,...p.style},onDragEnd:()=>{G(!1),re(null),Ja.current=null},onPointerDown:ke=>{Dl||!Ut||(ri.current=new Date,Ln(Wo.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(G(!0),Ja.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,et,yt,Tn;if(je||!Ut)return;Ja.current=null;let xr=Number(((ke=rr.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ot=Number(((et=rr.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ao=new Date().getTime()-((yt=ri.current)==null?void 0:yt.getTime()),An=K==="x"?xr:Ot,br=Math.abs(An)/ao;if(Math.abs(An)>=ZZ||br>.11){Ln(Wo.current),(Tn=p.onDismiss)==null||Tn.call(p,p),be(K==="x"?xr>0?"right":"left":Ot>0?"down":"up"),ii(),Ae(!0),at(!1);return}G(!1),re(null)},onPointerMove:ke=>{var et,yt,Tn,xr;if(!Ja.current||!Ut||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;let Ot=ke.clientY-Ja.current.y,ao=ke.clientX-Ja.current.x,An=(yt=t.swipeDirections)!=null?yt:tee(U);!K&&(Math.abs(ao)>1||Math.abs(Ot)>1)&&re(Math.abs(ao)>Math.abs(Ot)?"x":"y");let br={x:0,y:0};K==="y"?(An.includes("top")||An.includes("bottom"))&&(An.includes("top")&&Ot<0||An.includes("bottom")&&Ot>0)&&(br.y=Ot):K==="x"&&(An.includes("left")||An.includes("right"))&&(An.includes("left")&&ao<0||An.includes("right")&&ao>0)&&(br.x=ao),(Math.abs(br.x)>0||Math.abs(br.y)>0)&&at(!0),(Tn=rr.current)==null||Tn.style.setProperty("--swipe-amount-x",`${br.x}px`),(xr=rr.current)==null||xr.style.setProperty("--swipe-amount-y",`${br.y}px`)}},c_&&!p.jsx?D.createElement("button",{"aria-label":z,"data-disabled":Dl,"data-close-button":!0,onClick:Dl||!Ut?()=>{}:()=>{var ke;ii(),(ke=p.onDismiss)==null||ke.call(p,p)},className:Ii(L==null?void 0:L.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(o=H==null?void 0:H.close)!=null?o:FZ):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:D.createElement(D.Fragment,null,dt||p.icon||p.promise?D.createElement("div",{"data-icon":"",className:Ii(L==null?void 0:L.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ho():null,p.type!=="loading"?p.icon||(H==null?void 0:H[dt])||kZ(dt):null):null,D.createElement("div",{"data-content":"",className:Ii(L==null?void 0:L.content,(s=p==null?void 0:p.classNames)==null?void 0:s.content)},D.createElement("div",{"data-title":"",className:Ii(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?D.createElement("div",{"data-description":"",className:Ii(R,kg,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&py(p.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:ke=>{var et,yt;py(p.cancel)&&Ut&&((yt=(et=p.cancel).onClick)==null||yt.call(et,ke),ii())},className:Ii(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&py(p.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:ke=>{var et,yt;py(p.action)&&((yt=(et=p.action).onClick)==null||yt.call(et,ke),!ke.defaultPrevented&&ii())},className:Ii(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function RO(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ree(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,a=o?"--mobile-offset":"--offset",s=o?XZ:YZ;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=s:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(s)}),n}var iee=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:s,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=GZ,toastOptions:g,dir:v=RO(),gap:x=JZ,loadingIcon:w,icons:_,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:E}=t,[P,S]=D.useState([]),A=D.useMemo(()=>Array.from(new Set([r].concat(P.filter(W=>W.position).map(W=>W.position)))),[P,r]),[C,I]=D.useState([]),[N,k]=D.useState(!1),[R,$]=D.useState(!1),[U,B]=D.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=D.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=D.useRef(null),H=D.useRef(!1),z=D.useCallback(W=>{S(K=>{var re;return(re=K.find(de=>de.id===W.id))!=null&&re.delete||wr.dismiss(W.id),K.filter(({id:de})=>de!==W.id)})},[]);return D.useEffect(()=>wr.subscribe(W=>{if(W.dismiss){S(K=>K.map(re=>re.id===W.id?{...re,delete:!0}:re));return}setTimeout(()=>{_V.flushSync(()=>{S(K=>{let re=K.findIndex(de=>de.id===W.id);return re!==-1?[...K.slice(0,re),{...K[re],...W},...K.slice(re+1)]:[W,...K]})})})}),[]),D.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:K})=>{B(K?"dark":"light")})}catch{W.addListener(({matches:re})=>{try{B(re?"dark":"light")}catch(de){console.error(de)}})}},[d]),D.useEffect(()=>{P.length<=1&&k(!1)},[P]),D.useEffect(()=>{let W=K=>{var re,de;i.every(be=>K[be]||K.code===be)&&(k(!0),(re=V.current)==null||re.focus()),K.code==="Escape"&&(document.activeElement===V.current||(de=V.current)!=null&&de.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i]),D.useEffect(()=>{if(V.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[V.current]),D.createElement("section",{ref:e,"aria-label":`${T} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((W,K)=>{var re;let[de,be]=W.split("-");return P.length?D.createElement("ol",{key:W,dir:v==="auto"?RO():v,tabIndex:-1,ref:V,className:s,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":de,"data-lifted":N&&P.length>1&&!o,"data-x-position":be,style:{"--front-toast-height":`${((re=C[0])==null?void 0:re.height)||0}px`,"--width":`${QZ}px`,"--gap":`${x}px`,...p,...ree(c,u)},onBlur:oe=>{H.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=oe.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{R||k(!1)},onDragEnd:()=>k(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},P.filter(oe=>!oe.position&&K===0||oe.position===W).map((oe,Pe)=>{var ie,ae;return D.createElement(nee,{key:oe.id,icons:_,index:Pe,toast:oe,defaultRichColors:f,duration:(ie=g==null?void 0:g.duration)!=null?ie:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:y,closeButton:(ae=g==null?void 0:g.closeButton)!=null?ae:a,interacting:R,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:z,toasts:P.filter(ue=>ue.position==oe.position),heights:C.filter(ue=>ue.position==oe.position),setHeights:I,expandByDefault:o,gap:x,loadingIcon:w,expanded:N,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const oee=({...t})=>{const{theme:e="system"}=IZ();return l.jsx(iee,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var aee=qA[" useId ".trim().toString()]||(()=>{}),see=0;function To(t){const[e,n]=b.useState(aee());return sn(()=>{n(r=>r??String(see++))},[t]),e?`radix-${e}`:""}const lee=["top","right","bottom","left"],Js=Math.min,Wr=Math.max,Qv=Math.round,my=Math.floor,Ao=t=>({x:t,y:t}),cee={left:"right",right:"left",bottom:"top",top:"bottom"},uee={start:"end",end:"start"};function uE(t,e,n){return Wr(t,Js(e,n))}function Pa(t,e){return typeof t=="function"?t(e):t}function ja(t){return t.split("-")[0]}function xf(t){return t.split("-")[1]}function qP(t){return t==="x"?"y":"x"}function KP(t){return t==="y"?"height":"width"}const dee=new Set(["top","bottom"]);function xo(t){return dee.has(ja(t))?"y":"x"}function GP(t){return qP(xo(t))}function fee(t,e,n){n===void 0&&(n=!1);const r=xf(t),i=GP(t),o=KP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Jv(a)),[a,Jv(a)]}function hee(t){const e=Jv(t);return[dE(t),e,dE(e)]}function dE(t){return t.replace(/start|end/g,e=>uee[e])}const MO=["left","right"],DO=["right","left"],pee=["top","bottom"],mee=["bottom","top"];function gee(t,e,n){switch(t){case"top":case"bottom":return n?e?DO:MO:e?MO:DO;case"left":case"right":return e?pee:mee;default:return[]}}function yee(t,e,n,r){const i=xf(t);let o=gee(ja(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(dE)))),o}function Jv(t){return t.replace(/left|right|bottom|top/g,e=>cee[e])}function vee(t){return{top:0,right:0,bottom:0,left:0,...t}}function pB(t){return typeof t!="number"?vee(t):{top:t,right:t,bottom:t,left:t}}function Zv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $O(t,e,n){let{reference:r,floating:i}=t;const o=xo(e),a=GP(e),s=KP(a),c=ja(e),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(xf(e)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const xee=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=$O(u,r,c),h=r,p={},y=0;for(let g=0;g<s.length;g++){const{name:v,fn:x}=s[g],{x:w,y:_,data:T,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=w??d,f=_??f,p={...p,[v]:{...p[v],...T}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=$O(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Vp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Pa(e,t),y=pB(p),v=s[h?f==="floating"?"reference":"floating":f],x=Zv(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),T=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},E=Zv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:_,strategy:c}):w);return{top:(x.top-E.top+y.top)/T.y,bottom:(E.bottom-x.bottom+y.bottom)/T.y,left:(x.left-E.left+y.left)/T.x,right:(E.right-x.right+y.right)/T.x}}const bee=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:c}=e,{element:u,padding:d=0}=Pa(t,e)||{};if(u==null)return{};const f=pB(d),h={x:n,y:r},p=GP(i),y=KP(p),g=await a.getDimensions(u),v=p==="y",x=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",T=o.reference[y]+o.reference[p]-h[p]-o.floating[y],E=h[p]-o.reference[p],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=P?P[_]:0;(!S||!await(a.isElement==null?void 0:a.isElement(P)))&&(S=s.floating[_]||o.floating[y]);const A=T/2-E/2,C=S/2-g[y]/2-1,I=Js(f[x],C),N=Js(f[w],C),k=I,R=S-g[y]-N,$=S/2-g[y]/2+A,U=uE(k,$,R),B=!c.arrow&&xf(i)!=null&&$!==U&&o.reference[y]/2-($<k?I:N)-g[y]/2<0,V=B?$<k?$-k:$-R:0;return{[p]:h[p]+V,data:{[p]:U,centerOffset:$-U-V,...B&&{alignmentOffset:V}},reset:B}}}),wee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Pa(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ja(i),w=xo(s),_=ja(s)===s,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(_||!g?[Jv(s)]:hee(s)),P=y!=="none";!h&&P&&E.push(...yee(s,g,y,T));const S=[s,...E],A=await Vp(e,v),C=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&C.push(A[x]),f){const $=fee(i,a,T);C.push(A[$[0]],A[$[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every($=>$<=0)){var N,k;const $=(((N=o.flip)==null?void 0:N.index)||0)+1,U=S[$];if(U&&(!(f==="alignment"?w!==xo(U):!1)||I.every(F=>xo(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:$,overflows:I},reset:{placement:U}};let B=(k=I.filter(V=>V.overflows[0]<=0).sort((V,F)=>V.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!B)switch(p){case"bestFit":{var R;const V=(R=I.filter(F=>{if(P){const L=xo(F.placement);return L===w||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:R[0];V&&(B=V);break}case"initialPlacement":B=s;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function LO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FO(t){return lee.some(e=>t[e]>=0)}const _ee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pa(t,e);switch(r){case"referenceHidden":{const o=await Vp(e,{...i,elementContext:"reference"}),a=LO(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:FO(a)}}}case"escaped":{const o=await Vp(e,{...i,altBoundary:!0}),a=LO(o,n.floating);return{data:{escapedOffsets:a,escaped:FO(a)}}}default:return{}}}}},mB=new Set(["left","top"]);async function See(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ja(n),s=xf(n),c=xo(n)==="y",u=mB.has(a)?-1:1,d=o&&c?-1:1,f=Pa(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof y=="number"&&(p=s==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Eee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,c=await See(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:a}}}}},Tee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=Pa(t,e),u={x:n,y:r},d=await Vp(e,c),f=xo(ja(i)),h=qP(f);let p=u[h],y=u[f];if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=p+d[v],_=p-d[x];p=uE(w,p,_)}if(a){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],_=y-d[x];y=uE(w,y,_)}const g=s.fn({...e,[h]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:a}}}}}},Aee=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=Pa(t,e),d={x:n,y:r},f=xo(i),h=qP(f);let p=d[h],y=d[f];const g=Pa(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=h==="y"?"height":"width",T=o.reference[h]-o.floating[_]+v.mainAxis,E=o.reference[h]+o.reference[_]-v.mainAxis;p<T?p=T:p>E&&(p=E)}if(u){var x,w;const _=h==="y"?"width":"height",T=mB.has(ja(i)),E=o.reference[f]-o.floating[_]+(T&&((x=a.offset)==null?void 0:x[f])||0)+(T?0:v.crossAxis),P=o.reference[f]+o.reference[_]+(T?0:((w=a.offset)==null?void 0:w[f])||0)-(T?v.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[h]:p,[f]:y}}}},Pee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:c=()=>{},...u}=Pa(t,e),d=await Vp(e,u),f=ja(i),h=xf(i),p=xo(i)==="y",{width:y,height:g}=o.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,_=y-d.left-d.right,T=Js(g-d[v],w),E=Js(y-d[x],_),P=!e.middlewareData.shift;let S=T,A=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),P&&!h){const I=Wr(d.left,0),N=Wr(d.right,0),k=Wr(d.top,0),R=Wr(d.bottom,0);p?A=y-2*(I!==0||N!==0?I+N:Wr(d.left,d.right)):S=g-2*(k!==0||R!==0?k+R:Wr(d.top,d.bottom))}await c({...e,availableWidth:A,availableHeight:S});const C=await a.getDimensions(s.floating);return y!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function rw(){return typeof window<"u"}function bf(t){return gB(t)?(t.nodeName||"").toLowerCase():"#document"}function Xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bo(t){var e;return(e=(gB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gB(t){return rw()?t instanceof Node||t instanceof Xr(t).Node:!1}function Qi(t){return rw()?t instanceof Element||t instanceof Xr(t).Element:!1}function Do(t){return rw()?t instanceof HTMLElement||t instanceof Xr(t).HTMLElement:!1}function VO(t){return!rw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xr(t).ShadowRoot}const jee=new Set(["inline","contents"]);function ig(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ji(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!jee.has(i)}const Cee=new Set(["table","td","th"]);function Nee(t){return Cee.has(bf(t))}const Iee=[":popover-open",":modal"];function iw(t){return Iee.some(e=>{try{return t.matches(e)}catch{return!1}})}const kee=["transform","translate","scale","rotate","perspective"],Oee=["transform","translate","scale","rotate","perspective","filter"],Ree=["paint","layout","strict","content"];function YP(t){const e=XP(),n=Qi(t)?Ji(t):t;return kee.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Oee.some(r=>(n.willChange||"").includes(r))||Ree.some(r=>(n.contain||"").includes(r))}function Mee(t){let e=Zs(t);for(;Do(e)&&!Ad(e);){if(YP(e))return e;if(iw(e))return null;e=Zs(e)}return null}function XP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Dee=new Set(["html","body","#document"]);function Ad(t){return Dee.has(bf(t))}function Ji(t){return Xr(t).getComputedStyle(t)}function ow(t){return Qi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zs(t){if(bf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VO(t)&&t.host||Bo(t);return VO(e)?e.host:e}function yB(t){const e=Zs(t);return Ad(e)?t.ownerDocument?t.ownerDocument.body:t.body:Do(e)&&ig(e)?e:yB(e)}function Bp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=yB(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Xr(i);if(o){const s=fE(a);return e.concat(a,a.visualViewport||[],ig(i)?i:[],s&&n?Bp(s):[])}return e.concat(i,Bp(i,[],n))}function fE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vB(t){const e=Ji(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Do(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=Qv(n)!==o||Qv(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function QP(t){return Qi(t)?t:t.contextElement}function ed(t){const e=QP(t);if(!Do(e))return Ao(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=vB(e);let a=(o?Qv(n.width):n.width)/r,s=(o?Qv(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const $ee=Ao(0);function xB(t){const e=Xr(t);return!XP()||!e.visualViewport?$ee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Lee(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xr(t)?!1:e}function Cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=QP(t);let a=Ao(1);e&&(r?Qi(r)&&(a=ed(r)):a=ed(t));const s=Lee(o,n,r)?xB(o):Ao(0);let c=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const h=Xr(o),p=r&&Qi(r)?Xr(r):r;let y=h,g=fE(y);for(;g&&r&&p!==y;){const v=ed(g),x=g.getBoundingClientRect(),w=Ji(g),_=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,T=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=_,u+=T,y=Xr(g),g=fE(y)}}return Zv({width:d,height:f,x:c,y:u})}function aw(t,e){const n=ow(t).scrollLeft;return e?e.left+n:Cc(Bo(t)).left+n}function bB(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-aw(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Fee(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=Bo(r),s=e?iw(e.floating):!1;if(r===a||s&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ao(1);const d=Ao(0),f=Do(r);if((f||!f&&!o)&&((bf(r)!=="body"||ig(a))&&(c=ow(r)),Do(r))){const p=Cc(r);u=ed(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=a&&!f&&!o?bB(a,c):Ao(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Vee(t){return Array.from(t.getClientRects())}function Bee(t){const e=Bo(t),n=ow(t),r=t.ownerDocument.body,i=Wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+aw(t);const s=-n.scrollTop;return Ji(r).direction==="rtl"&&(a+=Wr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const BO=25;function Uee(t,e){const n=Xr(t),r=Bo(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;const d=XP();(!d||d&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}const u=aw(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-p);y<=BO&&(o-=y)}else u<=BO&&(o+=u);return{width:o,height:a,x:s,y:c}}const zee=new Set(["absolute","fixed"]);function Wee(t,e){const n=Cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Do(t)?ed(t):Ao(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:a,height:s,x:c,y:u}}function UO(t,e,n){let r;if(e==="viewport")r=Uee(t,n);else if(e==="document")r=Bee(Bo(t));else if(Qi(e))r=Wee(e,n);else{const i=xB(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Zv(r)}function wB(t,e){const n=Zs(t);return n===e||!Qi(n)||Ad(n)?!1:Ji(n).position==="fixed"||wB(n,e)}function Hee(t,e){const n=e.get(t);if(n)return n;let r=Bp(t,[],!1).filter(s=>Qi(s)&&bf(s)!=="body"),i=null;const o=Ji(t).position==="fixed";let a=o?Zs(t):t;for(;Qi(a)&&!Ad(a);){const s=Ji(a),c=YP(a);!c&&s.position==="fixed"&&(i=null),(o?!c&&!i:!c&&s.position==="static"&&!!i&&zee.has(i.position)||ig(a)&&!c&&wB(t,a))?r=r.filter(d=>d!==a):i=s,a=Zs(a)}return e.set(t,r),r}function qee(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?iw(e)?[]:Hee(e,this._c):[].concat(n),r],s=a[0],c=a.reduce((u,d)=>{const f=UO(e,d,i);return u.top=Wr(f.top,u.top),u.right=Js(f.right,u.right),u.bottom=Js(f.bottom,u.bottom),u.left=Wr(f.left,u.left),u},UO(e,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kee(t){const{width:e,height:n}=vB(t);return{width:e,height:n}}function Gee(t,e,n){const r=Do(e),i=Bo(e),o=n==="fixed",a=Cc(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const c=Ao(0);function u(){c.x=aw(i)}if(r||!r&&!o)if((bf(e)!=="body"||ig(i))&&(s=ow(e)),r){const p=Cc(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();o&&!r&&i&&u();const d=i&&!r&&!o?bB(i,s):Ao(0),f=a.left+s.scrollLeft-c.x-d.x,h=a.top+s.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function e1(t){return Ji(t).position==="static"}function zO(t,e){if(!Do(t)||Ji(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bo(t)===n&&(n=n.ownerDocument.body),n}function _B(t,e){const n=Xr(t);if(iw(t))return n;if(!Do(t)){let i=Zs(t);for(;i&&!Ad(i);){if(Qi(i)&&!e1(i))return i;i=Zs(i)}return n}let r=zO(t,e);for(;r&&Nee(r)&&e1(r);)r=zO(r,e);return r&&Ad(r)&&e1(r)&&!YP(r)?n:r||Mee(t)||n}const Yee=async function(t){const e=this.getOffsetParent||_B,n=this.getDimensions,r=await n(t.floating);return{reference:Gee(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xee(t){return Ji(t).direction==="rtl"}const Qee={convertOffsetParentRelativeRectToViewportRelativeRect:Fee,getDocumentElement:Bo,getClippingRect:qee,getOffsetParent:_B,getElementRects:Yee,getClientRects:Vee,getDimensions:Kee,getScale:ed,isElement:Qi,isRTL:Xee};function SB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Jee(t,e){let n=null,r;const i=Bo(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(s||e(),!h||!p)return;const y=my(f),g=my(i.clientWidth-(d+h)),v=my(i.clientHeight-(f+p)),x=my(d),_={rootMargin:-y+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Wr(0,Js(1,c))||1};let T=!0;function E(P){const S=P[0].intersectionRatio;if(S!==c){if(!T)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!SB(u,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return a(!0),o}function Zee(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=QP(t),d=i||o?[...u?Bp(u):[],...Bp(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&s?Jee(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,g=c?Cc(t):null;c&&v();function v(){const x=Cc(t);g&&!SB(g,x)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const ete=Eee,tte=Tee,nte=wee,rte=Pee,ite=_ee,WO=bee,ote=Aee,ate=(t,e,n)=>{const r=new Map,i={platform:Qee,...n},o={...i.platform,_c:r};return xee(t,e,{...i,platform:o})};var ste=typeof document<"u",lte=function(){},uv=ste?b.useLayoutEffect:lte;function ex(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ex(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!ex(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function EB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function HO(t,e){const n=EB(t);return Math.round(e*n)/n}function t1(t){const e=b.useRef(t);return uv(()=>{e.current=t}),e}function cte(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:c,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);ex(h,r)||p(r);const[y,g]=b.useState(null),[v,x]=b.useState(null),w=b.useCallback(F=>{F!==P.current&&(P.current=F,g(F))},[]),_=b.useCallback(F=>{F!==S.current&&(S.current=F,x(F))},[]),T=o||y,E=a||v,P=b.useRef(null),S=b.useRef(null),A=b.useRef(d),C=c!=null,I=t1(c),N=t1(i),k=t1(u),R=b.useCallback(()=>{if(!P.current||!S.current)return;const F={placement:e,strategy:n,middleware:h};N.current&&(F.platform=N.current),ate(P.current,S.current,F).then(L=>{const H={...L,isPositioned:k.current!==!1};$.current&&!ex(A.current,H)&&(A.current=H,Kc.flushSync(()=>{f(H)}))})},[h,e,n,N,k]);uv(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const $=b.useRef(!1);uv(()=>($.current=!0,()=>{$.current=!1}),[]),uv(()=>{if(T&&(P.current=T),E&&(S.current=E),T&&E){if(I.current)return I.current(T,E,R);R()}},[T,E,R,I,C]);const U=b.useMemo(()=>({reference:P,floating:S,setReference:w,setFloating:_}),[w,_]),B=b.useMemo(()=>({reference:T,floating:E}),[T,E]),V=b.useMemo(()=>{const F={position:n,left:0,top:0};if(!B.floating)return F;const L=HO(B.floating,d.x),H=HO(B.floating,d.y);return s?{...F,transform:"translate("+L+"px, "+H+"px)",...EB(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,s,B.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:R,refs:U,elements:B,floatingStyles:V}),[d,R,U,B,V])}const ute=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WO({element:r.current,padding:i}).fn(n):{}:r?WO({element:r,padding:i}).fn(n):{}}}},dte=(t,e)=>({...ete(t),options:[t,e]}),fte=(t,e)=>({...tte(t),options:[t,e]}),hte=(t,e)=>({...ote(t),options:[t,e]}),pte=(t,e)=>({...nte(t),options:[t,e]}),mte=(t,e)=>({...rte(t),options:[t,e]}),gte=(t,e)=>({...ite(t),options:[t,e]}),yte=(t,e)=>({...ute(t),options:[t,e]});var vte="Arrow",TB=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return l.jsx(_e.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});TB.displayName=vte;var xte=TB;function JP(t){const[e,n]=b.useState(void 0);return sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,s=u.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ZP="Popper",[AB,wf]=Dr(ZP),[bte,PB]=AB(ZP),jB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return l.jsx(bte,{scope:e,anchor:r,onAnchorChange:i,children:n})};jB.displayName=ZP;var CB="PopperAnchor",NB=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=PB(CB,n),a=b.useRef(null),s=Qe(e,a),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:l.jsx(_e.div,{...i,ref:s})});NB.displayName=CB;var ej="PopperContent",[wte,_te]=AB(ej),IB=b.forwardRef((t,e)=>{var oe,Pe,ie,ae,ue,G;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=t,v=PB(ej,n),[x,w]=b.useState(null),_=Qe(e,je=>w(je)),[T,E]=b.useState(null),P=JP(T),S=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,C=r+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],k=N.length>0,R={padding:I,boundary:N.filter(Ete),altBoundary:k},{refs:$,floatingStyles:U,placement:B,isPositioned:V,middlewareData:F}=cte({strategy:"fixed",placement:C,whileElementsMounted:(...je)=>Zee(...je,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[dte({mainAxis:i+A,alignmentAxis:a}),c&&fte({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hte():void 0,...R}),c&&pte({...R}),mte({...R,apply:({elements:je,rects:Ae,availableWidth:ot,availableHeight:at})=>{const{width:kt,height:Ln}=Ae.reference,Fn=je.floating.style;Fn.setProperty("--radix-popper-available-width",`${ot}px`),Fn.setProperty("--radix-popper-available-height",`${at}px`),Fn.setProperty("--radix-popper-anchor-width",`${kt}px`),Fn.setProperty("--radix-popper-anchor-height",`${Ln}px`)}}),T&&yte({element:T,padding:s}),Tte({arrowWidth:S,arrowHeight:A}),h&&gte({strategy:"referenceHidden",...R})]}),[L,H]=RB(B),z=pr(y);sn(()=>{V&&(z==null||z())},[V,z]);const W=(oe=F.arrow)==null?void 0:oe.x,K=(Pe=F.arrow)==null?void 0:Pe.y,re=((ie=F.arrow)==null?void 0:ie.centerOffset)!==0,[de,be]=b.useState();return sn(()=>{x&&be(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:V?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(ae=F.transformOrigin)==null?void 0:ae.x,(ue=F.transformOrigin)==null?void 0:ue.y].join(" "),...((G=F.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(wte,{scope:n,placedSide:L,onArrowChange:E,arrowX:W,arrowY:K,shouldHideArrow:re,children:l.jsx(_e.div,{"data-side":L,"data-align":H,...g,ref:_,style:{...g.style,animation:V?void 0:"none"}})})})});IB.displayName=ej;var kB="PopperArrow",Ste={top:"bottom",right:"left",bottom:"top",left:"right"},OB=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=_te(kB,r),a=Ste[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(xte,{...i,ref:n,style:{...i.style,display:"block"}})})});OB.displayName=kB;function Ete(t){return t!==null}var Tte=t=>({name:"transformOrigin",options:t,fn(e){var v,x,w;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=RB(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+s/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=a?f:`${h}px`,g=`${-c}px`):u==="top"?(y=a?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=a?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=a?f:`${p}px`),{data:{x:y,y:g}}}});function RB(t){const[e,n="center"]=t.split("-");return[e,n]}var MB=jB,tj=NB,nj=IB,rj=OB,[sw]=Dr("Tooltip",[wf]),ij=wf(),DB="TooltipProvider",Ate=700,qO="tooltip.open",[Pte,$B]=sw(DB),LB=t=>{const{__scopeTooltip:e,delayDuration:n=Ate,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,a=b.useRef(!0),s=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(Pte,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:b.useCallback(u=>{s.current=u},[]),disableHoverableContent:i,children:o})};LB.displayName=DB;var FB="Tooltip",[Pze,lw]=sw(FB),hE="TooltipTrigger",jte=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=lw(hE,n),o=$B(hE,n),a=ij(n),s=b.useRef(null),c=Qe(e,s,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(tj,{asChild:!0,...a,children:l.jsx(_e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});jte.displayName=hE;var Cte="TooltipPortal",[jze,Nte]=sw(Cte,{forceMount:void 0}),Pd="TooltipContent",VB=b.forwardRef((t,e)=>{const n=Nte(Pd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=lw(Pd,t.__scopeTooltip);return l.jsx(Ei,{present:r||a.open,children:a.disableHoverableContent?l.jsx(BB,{side:i,...o,ref:e}):l.jsx(Ite,{side:i,...o,ref:e})})}),Ite=b.forwardRef((t,e)=>{const n=lw(Pd,t.__scopeTooltip),r=$B(Pd,t.__scopeTooltip),i=b.useRef(null),o=Qe(e,i),[a,s]=b.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{s(null),f(!1)},[f]),p=b.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=Dte(x,v.getBoundingClientRect()),_=$te(x,w),T=Lte(g.getBoundingClientRect()),E=Vte([..._,...T]);s(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),b.useEffect(()=>{if(a){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),_=!Fte(x,a);w?h():_&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,h]),l.jsx(BB,{...t,ref:o})}),[kte,Ote]=sw(FB,{isInside:!1}),Rte=wQ("TooltipContent"),BB=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,c=lw(Pd,n),u=ij(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(qO,d),()=>document.removeEventListener(qO,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(gf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(nj,{"data-state":c.stateAttribute,...u,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Rte,{children:r}),l.jsx(kte,{scope:n,isInside:!0,children:l.jsx(zQ,{id:c.contentId,role:"tooltip",children:i||r})})]})})});VB.displayName=Pd;var UB="TooltipArrow",Mte=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ij(n);return Ote(UB,n).isInside?null:l.jsx(rj,{...i,...r,ref:e})});Mte.displayName=UB;function Dte(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $te(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Lte(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Fte(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],c=e[a],u=s.x,d=s.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function Vte(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Bte(e)}function Bte(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Ute=LB,zB=VB;const zte=Ute,Wte=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(zB,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Wte.displayName=zB.displayName;var cw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hte={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ws,BA,YF,qte=(YF=class{constructor(){Ge(this,ws,Hte);Ge(this,BA,!1)}setTimeoutProvider(t){Oe(this,ws,t)}setTimeout(t,e){return J(this,ws).setTimeout(t,e)}clearTimeout(t){J(this,ws).clearTimeout(t)}setInterval(t,e){return J(this,ws).setInterval(t,e)}clearInterval(t){J(this,ws).clearInterval(t)}},ws=new WeakMap,BA=new WeakMap,YF),pE=new qte;function Kte(t){setTimeout(t,0)}var uw=typeof window>"u"||"Deno"in globalThis;function Di(){}function Gte(t,e){return typeof t=="function"?t(e):t}function Yte(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xte(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mE(t,e){return typeof t=="function"?t(e):t}function Qte(t,e){return typeof t=="function"?t(e):t}function KO(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==oj(a,e.options))return!1}else if(!zp(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function GO(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Up(e.options.mutationKey)!==Up(o))return!1}else if(!zp(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function oj(t,e){return((e==null?void 0:e.queryKeyHashFn)||Up)(t)}function Up(t){return JSON.stringify(t,(e,n)=>gE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>zp(t[n],e[n])):!1}var Jte=Object.prototype.hasOwnProperty;function WB(t,e){if(t===e)return t;const n=YO(t)&&YO(e);if(!n&&!(gE(t)&&gE(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,s=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:o[u],f=t[d],h=e[d];if(f===h){s[d]=f,(n?u<i:Jte.call(t,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){s[d]=h;continue}const p=WB(f,h);s[d]=p,p===f&&c++}return i===a&&c===i?t:s}function YO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gE(t){if(!XO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XO(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zte(t){return new Promise(e=>{pE.setTimeout(e,t)})}function ene(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WB(t,e):e}function tne(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nne(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var aj=Symbol();function HB(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===aj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var sc,_s,ud,XF,rne=(XF=class extends cw{constructor(){super();Ge(this,sc);Ge(this,_s);Ge(this,ud);Oe(this,ud,e=>{if(!uw&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,_s)||this.setEventListener(J(this,ud))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,_s))==null||e.call(this),Oe(this,_s,void 0))}setEventListener(e){var n;Oe(this,ud,e),(n=J(this,_s))==null||n.call(this),Oe(this,_s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,sc)!==e&&(Oe(this,sc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,sc)=="boolean"?J(this,sc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sc=new WeakMap,_s=new WeakMap,ud=new WeakMap,XF),qB=new rne;function ine(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var one=Kte;function ane(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=one;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||a()}return c},batchCalls:s=>(...c)=>{o(()=>{s(...c)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var cr=ane(),dd,Ss,fd,QF,sne=(QF=class extends cw{constructor(){super();Ge(this,dd,!0);Ge(this,Ss);Ge(this,fd);Oe(this,fd,e=>{if(!uw&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,Ss)||this.setEventListener(J(this,fd))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Ss))==null||e.call(this),Oe(this,Ss,void 0))}setEventListener(e){var n;Oe(this,fd,e),(n=J(this,Ss))==null||n.call(this),Oe(this,Ss,e(this.setOnline.bind(this)))}setOnline(e){J(this,dd)!==e&&(Oe(this,dd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,dd)}},dd=new WeakMap,Ss=new WeakMap,fd=new WeakMap,QF),tx=new sne;function lne(t){return Math.min(1e3*2**t,3e4)}function KB(t){return(t??"online")==="online"?tx.isOnline():!0}var yE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function GB(t){let e=!1,n=0,r;const i=ine(),o=()=>i.status!=="pending",a=g=>{var v;if(!o()){const x=new yE(g);h(x),(v=t.onCancel)==null||v.call(t,x)}},s=()=>{e=!0},c=()=>{e=!1},u=()=>qB.isFocused()&&(t.networkMode==="always"||tx.isOnline())&&t.canRun(),d=()=>KB(t.networkMode)&&t.canRun(),f=g=>{o()||(r==null||r(),i.resolve(g))},h=g=>{o()||(r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var v;r=x=>{(o()||u())&&g(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;r=void 0,o()||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(o())return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var P;if(o())return;const w=t.retry??(uw?0:3),_=t.retryDelay??lne,T=typeof _=="function"?_(n,x):_,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!E){h(x);return}n++,(P=t.onFail)==null||P.call(t,n,x),Zte(T).then(()=>u()?void 0:p()).then(()=>{e?h(x):y()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:s,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var lc,JF,YB=(JF=class{constructor(){Ge(this,lc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yte(this.gcTime)&&Oe(this,lc,pE.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uw?1/0:5*60*1e3))}clearGcTimeout(){J(this,lc)&&(pE.clearTimeout(J(this,lc)),Oe(this,lc,void 0))}},lc=new WeakMap,JF),cc,hd,ui,uc,xn,qm,dc,$i,Xo,ZF,cne=(ZF=class extends YB{constructor(n){super();Ge(this,$i);Ge(this,cc);Ge(this,hd);Ge(this,ui);Ge(this,uc);Ge(this,xn);Ge(this,qm);Ge(this,dc);Oe(this,dc,!1),Oe(this,qm,n.defaultOptions),this.setOptions(n.options),this.observers=[],Oe(this,uc,n.client),Oe(this,ui,J(this,uc).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Oe(this,cc,QO(this.options)),this.state=n.state??J(this,cc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=J(this,xn))==null?void 0:n.promise}setOptions(n){if(this.options={...J(this,qm),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=QO(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Oe(this,cc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,ui).remove(this)}setData(n,r){const i=ene(this.state.data,n,this.options);return zn(this,$i,Xo).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){zn(this,$i,Xo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=J(this,xn))==null?void 0:i.promise;return(o=J(this,xn))==null||o.cancel(n),r?r.then(Di).catch(Di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,cc))}isActive(){return this.observers.some(n=>Qte(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>mE(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Xte(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=J(this,xn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=J(this,xn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),J(this,ui).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(J(this,xn)&&(J(this,dc)?J(this,xn).cancel({revert:!0}):J(this,xn).cancelRetry()),this.scheduleGc()),J(this,ui).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zn(this,$i,Xo).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,f,h,p,y,g,v,x,w,_,T;if(this.state.fetchStatus!=="idle"&&((u=J(this,xn))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(J(this,xn))return J(this,xn).continueRetry(),J(this,xn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const E=this.observers.find(P=>P.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,o=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Oe(this,dc,!0),i.signal)})},a=()=>{const E=HB(this.options,r),S=(()=>{const A={client:J(this,uc),queryKey:this.queryKey,meta:this.meta};return o(A),A})();return Oe(this,dc,!1),this.options.persister?this.options.persister(E,S,this):E(S)},c=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:J(this,uc),state:this.state,fetchFn:a};return o(E),E})();(d=this.options.behavior)==null||d.onFetch(c,this),Oe(this,hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&zn(this,$i,Xo).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta}),Oe(this,xn,GB({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:E=>{E instanceof yE&&E.revert&&this.setState({...J(this,hd),fetchStatus:"idle"}),i.abort()},onFail:(E,P)=>{zn(this,$i,Xo).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{zn(this,$i,Xo).call(this,{type:"pause"})},onContinue:()=>{zn(this,$i,Xo).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const E=await J(this,xn).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(y=(p=J(this,ui).config).onSuccess)==null||y.call(p,E,this),(v=(g=J(this,ui).config).onSettled)==null||v.call(g,E,this.state.error,this),E}catch(E){if(E instanceof yE){if(E.silent)return J(this,xn).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw zn(this,$i,Xo).call(this,{type:"error",error:E}),(w=(x=J(this,ui).config).onError)==null||w.call(x,E,this),(T=(_=J(this,ui).config).onSettled)==null||T.call(_,this.state.data,E,this),E}finally{this.scheduleGc()}}},cc=new WeakMap,hd=new WeakMap,ui=new WeakMap,uc=new WeakMap,xn=new WeakMap,qm=new WeakMap,dc=new WeakMap,$i=new WeakSet,Xo=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...une(i.data,this.options),fetchMeta:n.meta??null};case"success":const o={...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Oe(this,hd,n.manual?o:void 0),o;case"error":const a=n.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),cr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),J(this,ui).notify({query:this,type:"updated",action:n})})},ZF);function une(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KB(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function JO(t){return{onFetch:(e,n)=>{var d,f,h,p,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=HB(e.options,e.fetchOptions),w=async(_,T,E)=>{if(g)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const S=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:T,direction:E?"backward":"forward",meta:e.options.meta};return v(N),N})(),A=await x(S),{maxPages:C}=e.options,I=E?nne:tne;return{pages:I(_.pages,A,C),pageParams:I(_.pageParams,T,C)}};if(i&&o.length){const _=i==="backward",T=_?dne:ZO,E={pages:o,pageParams:a},P=T(r,E);s=await w(E,P,_)}else{const _=t??o.length;do{const T=c===0?a[0]??r.initialPageParam:ZO(r,s);if(c>0&&T==null)break;s=await w(s,T),c++}while(c<_)}return s};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function ZO(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dne(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Km,ho,sr,fc,po,ls,e4,fne=(e4=class extends YB{constructor(n){super();Ge(this,po);Ge(this,Km);Ge(this,ho);Ge(this,sr);Ge(this,fc);Oe(this,Km,n.client),this.mutationId=n.mutationId,Oe(this,sr,n.mutationCache),Oe(this,ho,[]),this.state=n.state||hne(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){J(this,ho).includes(n)||(J(this,ho).push(n),this.clearGcTimeout(),J(this,sr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Oe(this,ho,J(this,ho).filter(r=>r!==n)),this.scheduleGc(),J(this,sr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){J(this,ho).length||(this.state.status==="pending"?this.scheduleGc():J(this,sr).remove(this))}continue(){var n;return((n=J(this,fc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,c,u,d,f,h,p,y,g,v,x,w,_,T,E,P,S,A,C,I;const r=()=>{zn(this,po,ls).call(this,{type:"continue"})},i={client:J(this,Km),meta:this.options.meta,mutationKey:this.options.mutationKey};Oe(this,fc,GB({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{zn(this,po,ls).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{zn(this,po,ls).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,sr).canRun(this)}));const o=this.state.status==="pending",a=!J(this,fc).canStart();try{if(o)r();else{zn(this,po,ls).call(this,{type:"pending",variables:n,isPaused:a}),await((c=(s=J(this,sr).config).onMutate)==null?void 0:c.call(s,n,this,i));const k=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,i));k!==this.state.context&&zn(this,po,ls).call(this,{type:"pending",context:k,variables:n,isPaused:a})}const N=await J(this,fc).start();return await((h=(f=J(this,sr).config).onSuccess)==null?void 0:h.call(f,N,n,this.state.context,this,i)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,N,n,this.state.context,i)),await((v=(g=J(this,sr).config).onSettled)==null?void 0:v.call(g,N,null,this.state.variables,this.state.context,this,i)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,N,null,n,this.state.context,i)),zn(this,po,ls).call(this,{type:"success",data:N}),N}catch(N){try{throw await((T=(_=J(this,sr).config).onError)==null?void 0:T.call(_,N,n,this.state.context,this,i)),await((P=(E=this.options).onError)==null?void 0:P.call(E,N,n,this.state.context,i)),await((A=(S=J(this,sr).config).onSettled)==null?void 0:A.call(S,void 0,N,this.state.variables,this.state.context,this,i)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,N,n,this.state.context,i)),N}finally{zn(this,po,ls).call(this,{type:"error",error:N})}}finally{J(this,sr).runNext(this)}}},Km=new WeakMap,ho=new WeakMap,sr=new WeakMap,fc=new WeakMap,po=new WeakSet,ls=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cr.batch(()=>{J(this,ho).forEach(i=>{i.onMutationUpdate(n)}),J(this,sr).notify({mutation:this,type:"updated",action:n})})},e4);function hne(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zo,Li,Gm,t4,pne=(t4=class extends cw{constructor(e={}){super();Ge(this,Zo);Ge(this,Li);Ge(this,Gm);this.config=e,Oe(this,Zo,new Set),Oe(this,Li,new Map),Oe(this,Gm,0)}build(e,n,r){const i=new fne({client:e,mutationCache:this,mutationId:++Kg(this,Gm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){J(this,Zo).add(e);const n=gy(e);if(typeof n=="string"){const r=J(this,Li).get(n);r?r.push(e):J(this,Li).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,Zo).delete(e)){const n=gy(e);if(typeof n=="string"){const r=J(this,Li).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&J(this,Li).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gy(e);if(typeof n=="string"){const r=J(this,Li).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=gy(e);if(typeof n=="string"){const i=(r=J(this,Li).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cr.batch(()=>{J(this,Zo).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,Zo).clear(),J(this,Li).clear()})}getAll(){return Array.from(J(this,Zo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GO(n,r))}findAll(e={}){return this.getAll().filter(n=>GO(e,n))}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Di))))}},Zo=new WeakMap,Li=new WeakMap,Gm=new WeakMap,t4);function gy(t){var e;return(e=t.options.scope)==null?void 0:e.id}var mo,n4,mne=(n4=class extends cw{constructor(e={}){super();Ge(this,mo);this.config=e,Oe(this,mo,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??oj(i,n);let a=this.get(o);return a||(a=new cne({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){J(this,mo).has(e.queryHash)||(J(this,mo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,mo).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,mo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,mo).get(e)}getAll(){return[...J(this,mo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KO(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>KO(e,r)):n}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mo=new WeakMap,n4),Wt,Es,Ts,pd,md,As,gd,yd,r4,gne=(r4=class{constructor(t={}){Ge(this,Wt);Ge(this,Es);Ge(this,Ts);Ge(this,pd);Ge(this,md);Ge(this,As);Ge(this,gd);Ge(this,yd);Oe(this,Wt,t.queryCache||new mne),Oe(this,Es,t.mutationCache||new pne),Oe(this,Ts,t.defaultOptions||{}),Oe(this,pd,new Map),Oe(this,md,new Map),Oe(this,As,0)}mount(){Kg(this,As)._++,J(this,As)===1&&(Oe(this,gd,qB.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,Wt).onFocus())})),Oe(this,yd,tx.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,Wt).onOnline())})))}unmount(){var t,e;Kg(this,As)._--,J(this,As)===0&&((t=J(this,gd))==null||t.call(this),Oe(this,gd,void 0),(e=J(this,yd))==null||e.call(this),Oe(this,yd,void 0))}isFetching(t){return J(this,Wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,Wt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=J(this,Wt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(mE(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return J(this,Wt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,Wt).get(r.queryHash),o=i==null?void 0:i.state.data,a=Gte(e,o);if(a!==void 0)return J(this,Wt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return cr.batch(()=>J(this,Wt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,Wt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,Wt);cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,Wt);return cr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=cr.batch(()=>J(this,Wt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Di).catch(Di)}invalidateQueries(t,e={}){return cr.batch(()=>(J(this,Wt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=cr.batch(()=>J(this,Wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Di)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Di)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,Wt).build(this,e);return n.isStaleByTime(mE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Di).catch(Di)}fetchInfiniteQuery(t){return t.behavior=JO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Di).catch(Di)}ensureInfiniteQueryData(t){return t.behavior=JO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tx.isOnline()?J(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Wt)}getMutationCache(){return J(this,Es)}getDefaultOptions(){return J(this,Ts)}setDefaultOptions(t){Oe(this,Ts,t)}setQueryDefaults(t,e){J(this,pd).set(Up(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,pd).values()],n={};return e.forEach(r=>{zp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){J(this,md).set(Up(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,md).values()],n={};return e.forEach(r=>{zp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=oj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===aj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,Wt).clear(),J(this,Es).clear()}},Wt=new WeakMap,Es=new WeakMap,Ts=new WeakMap,pd=new WeakMap,md=new WeakMap,As=new WeakMap,gd=new WeakMap,yd=new WeakMap,r4),yne=b.createContext(void 0),vne=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(yne.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const eR="popstate";function xne(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return vE("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nx(i)}return wne(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bne(){return Math.random().toString(36).substr(2,8)}function tR(t,e){return{usr:t.state,key:t.key,idx:e}}function vE(t,e,n,r){return n===void 0&&(n=null),Wp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_f(e):e,{state:n,key:e&&e.key||r||bne()})}function nx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _f(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wne(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Cs.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Wp({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=Cs.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:s,location:g.location,delta:x})}function h(v,x){s=Cs.Push;let w=vE(g.location,v,x);u=d()+1;let _=tR(w,u),T=g.createHref(w);try{a.pushState(_,"",T)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(T)}o&&c&&c({action:s,location:g.location,delta:1})}function p(v,x){s=Cs.Replace;let w=vE(g.location,v,x);u=d();let _=tR(w,u),T=g.createHref(w);a.replaceState(_,"",T),o&&c&&c({action:s,location:g.location,delta:0})}function y(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:nx(v);return w=w.replace(/ $/,"%20"),Ft(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(eR,f),c=v,()=>{i.removeEventListener(eR,f),c=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return a.go(v)}};return g}var nR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nR||(nR={}));function _ne(t,e,n){return n===void 0&&(n="/"),Sne(t,e,n)}function Sne(t,e,n,r){let i=typeof e=="string"?_f(e):e,o=jd(i.pathname||"/",n);if(o==null)return null;let a=QB(t);Ene(a);let s=null;for(let c=0;s==null&&c<a.length;++c){let u=Mne(o);s=One(a[c],u)}return s}function QB(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let c={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=zs([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ft(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QB(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Ine(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let c of JB(o.path))i(o,a,c)}),e}function JB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=JB(r.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ene(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tne=/^:[\w-]+$/,Ane=3,Pne=2,jne=1,Cne=10,Nne=-2,rR=t=>t==="*";function Ine(t,e){let n=t.split("/"),r=n.length;return n.some(rR)&&(r+=Nne),e&&(r+=Pne),n.filter(i=>!rR(i)).reduce((i,o)=>i+(Tne.test(o)?Ane:o===""?jne:Cne),r)}function kne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function One(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=xE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:zs([o,f.pathname]),pathnameBase:Fne(zs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=zs([o,f.pathnameBase]))}return a}function xE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=s[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function Rne(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Mne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dne(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_f(t):t;return{pathname:n?n.startsWith("/")?n:$ne(n,e):e,search:Vne(r),hash:Bne(i)}}function $ne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function n1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lne(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sj(t,e){let n=Lne(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_f(t):(i=Wp({},t),Ft(!i.pathname||!i.pathname.includes("?"),n1("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),n1("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),n1("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let c=Dne(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),Fne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Une(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZB=["post","put","patch","delete"];new Set(ZB);const zne=["get",...ZB];new Set(zne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}const dw=b.createContext(null),eU=b.createContext(null),La=b.createContext(null),fw=b.createContext(null),Fa=b.createContext({outlet:null,matches:[],isDataRoute:!1}),tU=b.createContext(null);function Wne(t,e){let{relative:n}=e===void 0?{}:e;Sf()||Ft(!1);let{basename:r,navigator:i}=b.useContext(La),{hash:o,pathname:a,search:s}=hw(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:zs([r,a])),i.createHref({pathname:c,search:s,hash:o})}function Sf(){return b.useContext(fw)!=null}function no(){return Sf()||Ft(!1),b.useContext(fw).location}function nU(t){b.useContext(La).static||b.useLayoutEffect(t)}function Gt(){let{isDataRoute:t}=b.useContext(Fa);return t?rre():Hne()}function Hne(){Sf()||Ft(!1);let t=b.useContext(dw),{basename:e,future:n,navigator:r}=b.useContext(La),{matches:i}=b.useContext(Fa),{pathname:o}=no(),a=JSON.stringify(sj(i,n.v7_relativeSplatPath)),s=b.useRef(!1);return nU(()=>{s.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=lj(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function cj(){let{matches:t}=b.useContext(Fa),e=t[t.length-1];return e?e.params:{}}function hw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(La),{matches:i}=b.useContext(Fa),{pathname:o}=no(),a=JSON.stringify(sj(i,r.v7_relativeSplatPath));return b.useMemo(()=>lj(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function qne(t,e){return Kne(t,e)}function Kne(t,e,n,r){Sf()||Ft(!1);let{navigator:i}=b.useContext(La),{matches:o}=b.useContext(Fa),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=no(),d;if(e){var f;let v=typeof e=="string"?_f(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Ft(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=_ne(t,{pathname:p}),g=Jne(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:zs([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:zs([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?b.createElement(fw.Provider,{value:{location:Hp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cs.Pop}},g):g}function Gne(){let t=nre(),e=Une(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const Yne=b.createElement(Gne,null);class Xne extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Fa.Provider,{value:this.props.routeContext},b.createElement(tU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qne(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(dw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Fa.Provider,{value:e},r)}function Jne(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Ft(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,y=!1,g=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||Yne,c&&(u<0&&h===0?(ire("route-fallback"),y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return p?_=g:y?_=v:f.route.Component?_=b.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,b.createElement(Qne,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(Xne,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var rU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rU||{}),iU=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iU||{});function Zne(t){let e=b.useContext(dw);return e||Ft(!1),e}function ere(t){let e=b.useContext(eU);return e||Ft(!1),e}function tre(t){let e=b.useContext(Fa);return e||Ft(!1),e}function oU(t){let e=tre(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function nre(){var t;let e=b.useContext(tU),n=ere(),r=oU();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rre(){let{router:t}=Zne(rU.UseNavigateStable),e=oU(iU.UseNavigateStable),n=b.useRef(!1);return nU(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hp({fromRouteId:e},o)))},[t,e])}const iR={};function ire(t,e,n){iR[t]||(iR[t]=!0)}function ore(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Yt(t){let{to:e,replace:n,state:r,relative:i}=t;Sf()||Ft(!1);let{future:o,static:a}=b.useContext(La),{matches:s}=b.useContext(Fa),{pathname:c}=no(),u=Gt(),d=lj(e,sj(s,o.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Se(t){Ft(!1)}function are(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Cs.Pop,navigator:o,static:a=!1,future:s}=t;Sf()&&Ft(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:o,static:a,future:Hp({v7_relativeSplatPath:!1},s)}),[c,s,o,a]);typeof r=="string"&&(r=_f(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,g=b.useMemo(()=>{let v=jd(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:y},navigationType:i}},[c,d,f,h,p,y,i]);return g==null?null:b.createElement(La.Provider,{value:u},b.createElement(fw.Provider,{children:n,value:g}))}function sre(t){let{children:e,location:n}=t;return qne(bE(e),n)}new Promise(()=>{});function bE(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){n.push.apply(n,bE(r.props.children,o));return}r.type!==Se&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bE(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function aU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lre(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cre(t,e){return t.button===0&&(!e||e==="_self")&&!lre(t)}const ure=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dre=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fre="6";try{window.__reactRouterVersion=fre}catch{}const hre=b.createContext({isTransitioning:!1}),pre="startTransition",oR=qA[pre];function mre(t){let{basename:e,children:n,future:r,window:i}=t,o=b.useRef();o.current==null&&(o.current=xne({window:i,v5Compat:!0}));let a=o.current,[s,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&oR?oR(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>ore(r),[r]),b.createElement(are,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const gre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ar=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=aU(e,ure),{basename:p}=b.useContext(La),y,g=!1;if(typeof u=="string"&&yre.test(u)&&(y=u,gre))try{let _=new URL(window.location.href),T=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=jd(T.pathname,p);T.origin===_.origin&&E!=null?u=E+T.search+T.hash:g=!0}catch{}let v=Wne(u,{relative:i}),x=bre(u,{replace:a,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||x(_)}return b.createElement("a",rx({},h,{href:y||v,onClick:g||o?r:w,ref:n,target:c}))}),vre=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:c,viewTransition:u,children:d}=e,f=aU(e,dre),h=hw(c,{relative:f.relative}),p=no(),y=b.useContext(eU),{navigator:g,basename:v}=b.useContext(La),x=y!=null&&wre(h)&&u===!0,w=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,_=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(_=_.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&v&&(T=jd(T,v)||T);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=_===w||!a&&_.startsWith(w)&&_.charAt(E)==="/",S=T!=null&&(T===w||!a&&T.startsWith(w)&&T.charAt(w.length)==="/"),A={isActive:P,isPending:S,isTransitioning:x},C=P?r:void 0,I;typeof o=="function"?I=o(A):I=[o,P?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(A):s;return b.createElement(Ar,rx({},f,{"aria-current":C,className:I,ref:n,style:N,to:c,viewTransition:u}),typeof d=="function"?d(A):d)});var wE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wE||(wE={}));var aR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aR||(aR={}));function xre(t){let e=b.useContext(dw);return e||Ft(!1),e}function bre(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,c=Gt(),u=no(),d=hw(t,{relative:a});return b.useCallback(f=>{if(cre(f,n)){f.preventDefault();let h=r!==void 0?r:nx(u)===nx(d);c(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,c,d,r,i,n,t,o,a,s])}function wre(t,e){e===void 0&&(e={});let n=b.useContext(hre);n==null&&Ft(!1);let{basename:r}=xre(wE.useViewTransitionState),i=hw(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=jd(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=jd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xE(i.pathname,a)!=null||xE(i.pathname,o)!=null}const _re=yf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pw=b.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:we(_re({variant:e}),t),...n}));pw.displayName="Alert";const sU=b.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));sU.displayName="AlertTitle";const mw=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));mw.displayName="AlertDescription";const Sre=yf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?xQ:"button";return l.jsx(a,{className:we(Sre({variant:e,size:n,className:t})),ref:o,...i})});X.displayName="Button";function Ere(){const[t,e]=b.useState(null),[n,r]=b.useState(!1);return b.useEffect(()=>{const i=o=>{console.error("App crash detected:",o),e("App failed to start. Check console for details."),r(!0)};return window.addEventListener("error",i),window.addEventListener("unhandledrejection",i),()=>{window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",i)}},[]),!n||!t?null:l.jsxs(pw,{className:"m-4 border-destructive/50 text-destructive",children:[l.jsx(nB,{className:"h-4 w-4"}),l.jsxs(mw,{className:"flex items-center justify-between",children:[l.jsx("span",{children:t}),l.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"h-auto p-1 text-destructive hover:text-destructive",children:l.jsx(rg,{className:"h-4 w-4"})})]})]})}function tn({className:t,...e}){return l.jsx("div",{className:we("animate-pulse rounded-md bg-muted",t),...e})}const te=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));te.displayName="Card";const he=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));he.displayName="CardHeader";const me=b.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));me.displayName="CardTitle";const gs=b.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));gs.displayName="CardDescription";const ne=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));ne.displayName="CardContent";const Tre=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));Tre.displayName="CardFooter";function yy(){return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(tn,{className:"h-8 w-48 mb-4"}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(tn,{className:"h-6 w-32"})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx(tn,{className:"h-48 w-full"}),l.jsx(tn,{className:"h-4 w-full"}),l.jsx(tn,{className:"h-10 w-full"})]})]})]})}function sR(){return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(tn,{className:"h-8 w-40 mb-4"}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(tn,{className:"h-6 w-24"})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("div",{className:"relative w-full aspect-[3/4] overflow-hidden rounded-lg",children:l.jsx(tn,{className:"h-full w-full"})}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((t,e)=>l.jsx(tn,{className:"h-12 w-full"},e))}),l.jsx(tn,{className:"h-10 w-full"})]})]})]})}const Are=()=>{};var lR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},uj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;c||(p=64,a||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new jre;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cre=function(t){const e=lU(t);return uj.encodeByteArray(e,!0)},ix=function(t){return Cre(t).replace(/\./g,"")},cU=function(t){try{return uj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=()=>uU().__FIREBASE_DEFAULTS__,Ire=()=>{if(typeof process>"u"||typeof lR>"u")return;const t=lR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cU(t[1]);return e&&JSON.parse(e)},gw=()=>{try{return Are()||Nre()||Ire()||kre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dU=t=>{var e,n;return(n=(e=gw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dj=t=>{const e=dU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fU=()=>{var t;return(t=gw())===null||t===void 0?void 0:t.config},hU=t=>{var e;return(e=gw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ix(JSON.stringify(n)),ix(JSON.stringify(a)),""].join(".")}const ip={};function Ore(){const t={prod:[],emulator:[]};for(const e of Object.keys(ip))ip[e]?t.emulator.push(e):t.prod.push(e);return t}function Rre(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cR=!1;function vw(t,e){if(typeof window>"u"||typeof document>"u"||!Va(window.location.host)||ip[t]===e||ip[t]||cR)return;ip[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Ore().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{cR=!0,a()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Rre(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;s(_),d(v,g);const T=u();c(w,x),_.append(w,y,v,T),document.body.appendChild(_)}o?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function Dre(){var t;const e=(t=gw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $re(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fre(){const t=tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vre(){return!Dre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function og(){try{return typeof indexedDB=="object"}catch{return!1}}function hj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function mU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bre,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Ure(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ni(i,s,r)}}function Ure(t,e){return t.replace(zre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zre=/\{\$([^}]+)}/g;function Wre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(uR(o)&&uR(a)){if(!el(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Lh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Hre(t,e){const n=new qre(t,e);return n.subscribe.bind(n)}class qre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kre(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=r1),i.error===void 0&&(i.error=r1),i.complete===void 0&&(i.complete=r1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre=1e3,Yre=2,Xre=4*60*60*1e3,Qre=.5;function _E(t,e=Gre,n=Yre){const r=e*Math.pow(n,t),i=Math.round(Qre*r*(Math.random()-.5)*2);return Math.min(Xre,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eie(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zre(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zre(t){return t===Wl?void 0:t}function eie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const nie={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},rie=qe.INFO,iie={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},oie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iie[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=rie,this._logHandler=oie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const aie=(t,e)=>e.some(n=>t instanceof n);let dR,fR;function sie(){return dR||(dR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lie(){return fR||(fR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gU=new WeakMap,SE=new WeakMap,yU=new WeakMap,i1=new WeakMap,pj=new WeakMap;function cie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ws(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&gU.set(n,t)}).catch(()=>{}),pj.set(e,t),e}function uie(t){if(SE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});SE.set(t,e)}let EE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return SE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function die(t){EE=t(EE)}function fie(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(o1(this),e,...n);return yU.set(r,e.sort?e.sort():[e]),Ws(r)}:lie().includes(t)?function(...e){return t.apply(o1(this),e),Ws(gU.get(this))}:function(...e){return Ws(t.apply(o1(this),e))}}function hie(t){return typeof t=="function"?fie(t):(t instanceof IDBTransaction&&uie(t),aie(t,sie())?new Proxy(t,EE):t)}function Ws(t){if(t instanceof IDBRequest)return cie(t);if(i1.has(t))return i1.get(t);const e=hie(t);return e!==t&&(i1.set(t,e),pj.set(e,t)),e}const o1=t=>pj.get(t);function vU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Ws(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ws(a.result),c.oldVersion,c.newVersion,Ws(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const pie=["get","getKey","getAll","getAllKeys","count"],mie=["put","add","delete","clear"],a1=new Map;function hR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a1.get(e))return a1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pie.includes(n)))return;const o=async function(a,...s){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return a1.set(e,o),o}die(t=>({...t,get:(e,n,r)=>hR(e,n)||t.get(e,n,r),has:(e,n)=>!!hR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const TE="@firebase/app",pR="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new sg("@firebase/app"),vie="@firebase/app-compat",xie="@firebase/analytics-compat",bie="@firebase/analytics",wie="@firebase/app-check-compat",_ie="@firebase/app-check",Sie="@firebase/auth",Eie="@firebase/auth-compat",Tie="@firebase/database",Aie="@firebase/data-connect",Pie="@firebase/database-compat",jie="@firebase/functions",Cie="@firebase/functions-compat",Nie="@firebase/installations",Iie="@firebase/installations-compat",kie="@firebase/messaging",Oie="@firebase/messaging-compat",Rie="@firebase/performance",Mie="@firebase/performance-compat",Die="@firebase/remote-config",$ie="@firebase/remote-config-compat",Lie="@firebase/storage",Fie="@firebase/storage-compat",Vie="@firebase/firestore",Bie="@firebase/ai",Uie="@firebase/firestore-compat",zie="firebase",Wie="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="[DEFAULT]",Hie={[TE]:"fire-core",[vie]:"fire-core-compat",[bie]:"fire-analytics",[xie]:"fire-analytics-compat",[_ie]:"fire-app-check",[wie]:"fire-app-check-compat",[Sie]:"fire-auth",[Eie]:"fire-auth-compat",[Tie]:"fire-rtdb",[Aie]:"fire-data-connect",[Pie]:"fire-rtdb-compat",[jie]:"fire-fn",[Cie]:"fire-fn-compat",[Nie]:"fire-iid",[Iie]:"fire-iid-compat",[kie]:"fire-fcm",[Oie]:"fire-fcm-compat",[Rie]:"fire-perf",[Mie]:"fire-perf-compat",[Die]:"fire-rc",[$ie]:"fire-rc-compat",[Lie]:"fire-gcs",[Fie]:"fire-gcs-compat",[Vie]:"fire-fst",[Uie]:"fire-fst-compat",[Bie]:"fire-vertex","fire-js":"fire-js",[zie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,qie=new Map,PE=new Map;function mR(t,e){try{t.container.addComponent(e)}catch(n){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mr(t){const e=t.name;if(PE.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;PE.set(e,t);for(const n of Kp.values())mR(n,t);for(const n of qie.values())mR(n,t);return!0}function ro(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new yl("app","Firebase",Kie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=Wie;function xU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:AE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=fU()),!n)throw Hs.create("no-options");const o=Kp.get(i);if(o){if(el(n,o.options)&&el(r,o.config))return o;throw Hs.create("duplicate-app",{appName:i})}const a=new tie(i);for(const c of PE.values())a.addComponent(c);const s=new Gie(n,r,a);return Kp.set(i,s),s}function Ef(t=AE){const e=Kp.get(t);if(!e&&t===AE&&fU())return xU();if(!e)throw Hs.create("no-app",{appName:t});return e}function gR(){return Array.from(Kp.values())}function Rn(t,e,n){var r;let i=(r=Hie[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(s.join(" "));return}Mr(new mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie="firebase-heartbeat-database",Xie=1,Gp="firebase-heartbeat-store";let s1=null;function bU(){return s1||(s1=vU(Yie,Xie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),s1}async function Qie(t){try{const n=(await bU()).transaction(Gp),r=await n.objectStore(Gp).get(wU(t));return await n.done,r}catch(e){if(e instanceof ni)Ca.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ca.warn(n.message)}}}async function yR(t,e){try{const r=(await bU()).transaction(Gp,"readwrite");await r.objectStore(Gp).put(e,wU(t)),await r.done}catch(n){if(n instanceof ni)Ca.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ca.warn(r.message)}}}function wU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=1024,Zie=30;class eoe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new noe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Zie){const a=roe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vR(),{heartbeatsToSend:r,unsentEntries:i}=toe(this._heartbeatsCache.heartbeats),o=ix(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ca.warn(n),""}}}function vR(){return new Date().toISOString().substring(0,10)}function toe(t,e=Jie){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),xR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class noe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return og()?hj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xR(t){return ix(JSON.stringify({version:2,heartbeats:t})).length}function roe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ioe(t){Mr(new mr("platform-logger",e=>new gie(e),"PRIVATE")),Mr(new mr("heartbeat",e=>new eoe(e),"PRIVATE")),Rn(TE,pR,t),Rn(TE,pR,"esm2017"),Rn("fire-js","")}ioe("");var ooe="firebase",aoe="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(ooe,aoe,"app");var yo=function(){return yo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yo.apply(this,arguments)};function lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function soe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function _U(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SU=_U,EU=new yl("auth","Firebase",_U());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new sg("@firebase/auth");function loe(t,...e){ox.logLevel<=qe.WARN&&ox.warn(`Auth (${Gc}): ${t}`,...e)}function dv(t,...e){ox.logLevel<=qe.ERROR&&ox.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,...e){throw gj(t,...e)}function Gi(t,...e){return gj(t,...e)}function mj(t,e,n){const r=Object.assign(Object.assign({},SU()),{[e]:n});return new yl("auth","Firebase",r).create(e,{appName:t.name})}function ma(t){return mj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function coe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_i(t,"argument-error"),mj(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EU.create(t,...e)}function Ne(t,e,...n){if(!t)throw gj(e,...n)}function ca(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dv(e),new Error(e)}function Na(t,e){t||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uoe(){return bR()==="http:"||bR()==="https:"}function bR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uoe()||fj()||"connection"in navigator)?navigator.onLine:!0}function foe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Na(n>e,"Short delay should be less than long delay!"),this.isMobile=Mre()||Lre()}get(){return doe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){Na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],moe=new cg(3e4,6e4);function Ba(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ua(t,e,n,r,i={}){return AU(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=ag(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return $re()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Va(t.emulatorConfig.host)&&(u.credentials="include"),TU.fetch()(await PU(t,t.config.apiHost,n,s),u)})}async function AU(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hoe),e);try{const i=new yoe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw vy(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vy(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vy(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw vy(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mj(t,d,u);_i(t,d)}}catch(i){if(i instanceof ni)throw i;_i(t,"network-request-failed",{message:String(i)})}}async function ug(t,e,n,r,i={}){const o=await Ua(t,e,n,r,i);return"mfaPendingCredential"in o&&_i(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function PU(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?yj(t.config,i):`${t.config.apiScheme}://${i}`;return poe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function goe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),moe.get())})}}function vy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gi(t,e,r);return i.customData._tokenResponse=n,i}function wR(t){return t!==void 0&&t.enterprise!==void 0}class voe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return goe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xoe(t,e){return Ua(t,"GET","/v2/recaptchaConfig",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function boe(t,e){return Ua(t,"POST","/v1/accounts:delete",e)}async function ax(t,e){return Ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jU(t,e=!1){const n=ut(t),r=await n.getIdToken(e),i=vj(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:op(l1(i.auth_time)),issuedAtTime:op(l1(i.iat)),expirationTime:op(l1(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function l1(t){return Number(t)*1e3}function vj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dv("JWT malformed, contained fewer than 3 sections"),null;try{const i=cU(n);return i?JSON.parse(i):(dv("Failed to decode base64 JWT payload"),null)}catch(i){return dv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _R(t){const e=vj(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&woe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function woe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=op(this.lastLoginAt),this.creationTime=op(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yp(t,ax(n,{idToken:r}));Ne(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?NU(o.providerUserInfo):[],s=Soe(t.providerData,a),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new CE(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function CU(t){const e=ut(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Soe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NU(t){return t.map(e=>{var{providerId:n}=e,r=lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eoe(t,e){const n=await AU(t,{},async()=>{const r=ag({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await PU(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:s,body:r};return t.emulatorConfig&&Va(t.emulatorConfig.host)&&(c.credentials="include"),TU.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Toe(t,e){return Ua(t,"POST","/v2/accounts:revokeToken",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=_R(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Eoe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new td;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new td,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _oe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new CE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yp(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jU(this,e)}reload(){return CU(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(ma(this.auth));const e=await this.getIdToken();return await Yp(this,boe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:T,isAnonymous:E,providerData:P,stsTokenManager:S}=n;Ne(_&&S,e,"internal-error");const A=td.fromJSON(this.name,S);Ne(typeof _=="string",e,"internal-error"),os(f,e.name),os(h,e.name),Ne(typeof T=="boolean",e,"internal-error"),Ne(typeof E=="boolean",e,"internal-error"),os(p,e.name),os(y,e.name),os(g,e.name),os(v,e.name),os(x,e.name),os(w,e.name);const C=new Wi({uid:_,auth:e,email:h,emailVerified:T,displayName:f,isAnonymous:E,photoURL:y,phoneNumber:p,tenantId:g,stsTokenManager:A,createdAt:x,lastLoginAt:w});return P&&Array.isArray(P)&&(C.providerData=P.map(I=>Object.assign({},I))),v&&(C._redirectEventId=v),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new td;i.updateFromServerResponse(n);const o=new Wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?NU(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new td;s.updateFromIdToken(r);const c=new Wi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new CE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Map;function ua(t){Na(t instanceof Function,"Expected a class definition");let e=SR.get(t);return e?(Na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IU.type="NONE";const NE=IU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e,n){return`firebase:${t}:${e}:${n}`}class nd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=fv(this.userKey,i.apiKey,o),this.fullPersistenceKey=fv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ax(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nd(ua(NE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ua(NE);const a=fv(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const h=await ax(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Wi._fromGetAccountInfoResponse(e,h,d)}else f=Wi._fromJSON(e,d);u!==o&&(s=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new nd(o,e,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new nd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($U(e))return"Blackberry";if(LU(e))return"Webos";if(OU(e))return"Safari";if((e.includes("chrome/")||RU(e))&&!e.includes("edge/"))return"Chrome";if(DU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kU(t=tr()){return/firefox\//i.test(t)}function OU(t=tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RU(t=tr()){return/crios\//i.test(t)}function MU(t=tr()){return/iemobile/i.test(t)}function DU(t=tr()){return/android/i.test(t)}function $U(t=tr()){return/blackberry/i.test(t)}function LU(t=tr()){return/webos/i.test(t)}function xj(t=tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Aoe(t=tr()){var e;return xj(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Poe(){return Fre()&&document.documentMode===10}function FU(t=tr()){return xj(t)||DU(t)||LU(t)||$U(t)||/windows phone/i.test(t)||MU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t,e=[]){let n;switch(t){case"Browser":n=ER(tr());break;case"Worker":n=`${ER(tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const c=e(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Coe(t,e={}){return Ua(t,"GET","/v2/passwordPolicy",Ba(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe=6;class Ioe{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Noe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TR(this),this.idTokenSubscription=new TR(this),this.beforeStateQueue=new joe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ua(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await nd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ax(this,{idToken:e}),r=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===s)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=foe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(ma(this));const n=e?ut(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Coe(this),n=new Ioe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Toe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ua(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await nd.create(this,[ua(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&loe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return ut(t)}class TR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hre(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ooe(t){xw=t}function BU(t){return xw.loadJS(t)}function Roe(){return xw.recaptchaEnterpriseScript}function Moe(){return xw.gapiScript}function Doe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $oe{constructor(){this.enterprise=new Loe}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Loe{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Foe="recaptcha-enterprise",UU="NO_RECAPTCHA";class Voe{constructor(e){this.type=Foe,this.auth=za(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{xoe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new voe(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(c=>{s(c)})})}function i(o,a,s){const c=window.grecaptcha;wR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(UU)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $oe().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&wR(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Roe();c.length!==0&&(c+=s),BU(c).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function AR(t,e,n,r=!1,i=!1){const o=new Voe(t);let a;if(i)a=UU;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const c=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const c=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function sx(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await AR(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await AR(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){const n=ro(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(el(o,e??{}))return i;_i(i,"already-initialized")}return n.initialize({options:e})}function Boe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ua);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WU(t,e,n){const r=za(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=HU(e),{host:a,port:s}=Uoe(e),c=s===null?"":`:${s}`,u={url:`${o}//${a}${c}/`},d=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(el(u,r.config.emulator)&&el(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Va(a)?(yw(`${o}//${a}${c}`),vw("Auth",!0)):zoe()}function HU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uoe(t){const e=HU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:PR(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:PR(a)}}}function PR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,n){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}async function Woe(t,e){return Ua(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hoe(t,e){return ug(t,"POST","/v1/accounts:signInWithPassword",Ba(t,e))}async function qoe(t,e){return Ua(t,"POST","/v1/accounts:sendOobCode",Ba(t,e))}async function Koe(t,e){return qoe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Goe(t,e){return ug(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}async function Yoe(t,e){return ug(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends bw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sx(e,n,"signInWithPassword",Hoe);case"emailLink":return Goe(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sx(e,r,"signUpPassword",Woe);case"emailLink":return Yoe(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t,e){return ug(t,"POST","/v1/accounts:signInWithIdp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xoe="http://localhost";class tl extends bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=lg(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new tl(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rd(e,n)}buildRequest(){const e={requestUri:Xoe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ag(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qoe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Joe(t){const e=$h(Lh(t)).link,n=e?$h(Lh(e)).deep_link_id:null,r=$h(Lh(t)).deep_link_id;return(r?$h(Lh(r)).link:null)||r||n||e||t}class ww{constructor(e){var n,r,i,o,a,s;const c=$h(Lh(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=Qoe((i=c.mode)!==null&&i!==void 0?i:null);Ne(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(s=c.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=Joe(e);try{return new ww(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,n){return Cd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ww.parseLink(n);return Ne(r,"argument-error"),Cd._fromEmailAndCode(e,r.code,r.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends bj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends dg{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends dg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.GOOGLE_SIGN_IN_METHOD="google.com";vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends dg{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends dg{constructor(){super("twitter.com")}static credential(e,n){return tl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return na.credential(n,r)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zoe(t,e){return ug(t,"POST","/v1/accounts:signUp",Ba(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Wi._fromIdTokenResponse(e,r,i),a=jR(r);return new Nc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jR(r);return new Nc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx extends ni{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lx.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lx(e,n,r,i)}}function qU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lx._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eae(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function KU(t,e,n=!1){const r=await Yp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nc._forOperation(t,"link",r)}async function tae(t,e,n){await Xp(e);const r=eae(e.providerData);Ne(r.has(n)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nae(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(ma(r));const i="reauthenticate";try{const o=await Yp(t,qU(r,i,e,t),n);Ne(o.idToken,r,"internal-error");const a=vj(o.idToken);Ne(a,r,"internal-error");const{sub:s}=a;return Ne(t.uid===s,r,"user-mismatch"),Nc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_i(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e,n=!1){if(ur(t.app))return Promise.reject(ma(t));const r="signIn",i=await qU(t,r,e),o=await Nc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function YU(t,e){return GU(za(t),e)}async function XU(t,e){const n=ut(t);return await tae(!1,n,e.providerId),KU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JU(t,e,n){const r=za(t);await sx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Koe)}async function ZU(t,e,n){if(ur(t.app))return Promise.reject(ma(t));const r=za(t),a=await sx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zoe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QU(t),c}),s=await Nc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function e6(t,e,n){return ur(t.app)?Promise.reject(ma(t)):YU(ut(t),vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QU(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t,e){return ut(t).setPersistence(e)}function n6(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function r6(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function Tf(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function wj(t){return ut(t).signOut()}const cx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cx,"1"),this.storage.removeItem(cx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae=1e3,iae=10;class o6 extends i6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Poe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iae):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o6.type="LOCAL";const _j=o6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6 extends i6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a6.type="SESSION";const Sj=a6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _w(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),c=await oae(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_w.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{const u=Ej("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(){return window}function sae(t){Po().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(){return typeof Po().WorkerGlobalScope<"u"&&typeof Po().importScripts=="function"}async function lae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uae(){return s6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="firebaseLocalStorageDb",dae=1,ux="firebaseLocalStorage",c6="fbase_key";class fg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sw(t,e){return t.transaction([ux],e?"readwrite":"readonly").objectStore(ux)}function fae(){const t=indexedDB.deleteDatabase(l6);return new fg(t).toPromise()}function IE(){const t=indexedDB.open(l6,dae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ux,{keyPath:c6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ux)?e(r):(r.close(),await fae(),e(await IE()))})})}async function CR(t,e,n){const r=Sw(t,!0).put({[c6]:e,value:n});return new fg(r).toPromise()}async function hae(t,e){const n=Sw(t,!1).get(e),r=await new fg(n).toPromise();return r===void 0?null:r.value}function NR(t,e){const n=Sw(t,!0).delete(e);return new fg(n).toPromise()}const pae=800,mae=3;class u6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_w._getInstance(uae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lae(),!this.activeServiceWorker)return;this.sender=new aae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IE();return await CR(e,cx,"1"),await NR(e,cx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hae(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Sw(i,!1).getAll();return new fg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u6.type="LOCAL";const d6=u6;new cg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){return e?ua(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj extends bw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gae(t){return GU(t.auth,new Tj(t),t.bypassAuthState)}function yae(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),nae(n,new Tj(t),t.bypassAuthState)}async function vae(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),KU(n,new Tj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gae;case"linkViaPopup":case"linkViaRedirect":return vae;case"reauthViaPopup":case"reauthViaRedirect":return yae;default:_i(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae=new cg(2e3,1e4);async function p6(t,e,n){if(ur(t.app))return Promise.reject(Gi(t,"operation-not-supported-in-this-environment"));const r=za(t);coe(t,e,bj);const i=f6(r,n);return new Zl(r,"signInViaPopup",e,i).executeNotNull()}class Zl extends h6{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=Ej();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xae.get())};e()}}Zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae="pendingRedirect",hv=new Map;class wae extends h6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hv.get(this.auth._key());if(!e){try{const r=await _ae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hv.set(this.auth._key(),e)}return this.bypassAuthState||hv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _ae(t,e){const n=Tae(e),r=Eae(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Sae(t,e){hv.set(t._key(),e)}function Eae(t){return ua(t._redirectPersistence)}function Tae(t){return fv(bae,t.config.apiKey,t.name)}async function Aae(t,e,n=!1){if(ur(t.app))return Promise.reject(ma(t));const r=za(t),i=f6(r,e),a=await new wae(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=10*60*1e3;class jae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cae(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pae&&this.cachedEventUids.clear(),this.cachedEventUids.has(IR(e))}saveEventToCache(e){this.cachedEventUids.add(IR(e)),this.lastProcessedEventTime=Date.now()}}function IR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Cae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nae(t,e={}){return Ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kae=/^https?/;async function Oae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nae(t);for(const n of e)try{if(Rae(n))return}catch{}_i(t,"unauthorized-domain")}function Rae(t){const e=jE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!kae.test(n))return!1;if(Iae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae=new cg(3e4,6e4);function kR(){const t=Po().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dae(t){return new Promise((e,n)=>{var r,i,o;function a(){kR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kR(),n(Gi(t,"network-request-failed"))},timeout:Mae.get()})}if(!((i=(r=Po().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Po().gapi)===null||o===void 0)&&o.load)a();else{const s=Doe("iframefcb");return Po()[s]=()=>{gapi.load?a():n(Gi(t,"network-request-failed"))},BU(`${Moe()}?onload=${s}`).catch(c=>n(c))}}).catch(e=>{throw pv=null,e})}let pv=null;function $ae(t){return pv=pv||Dae(t),pv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lae=new cg(5e3,15e3),Fae="__/auth/iframe",Vae="emulator/auth/iframe",Bae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zae(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yj(e,Vae):`https://${t.config.authDomain}/${Fae}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=Uae.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ag(r).slice(1)}`}async function Wae(t){const e=await $ae(t),n=Po().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:zae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bae,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Gi(t,"network-request-failed"),s=Po().setTimeout(()=>{o(a)},Lae.get());function c(){Po().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qae=500,Kae=600,Gae="_blank",Yae="http://localhost";class OR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xae(t,e,n,r=qae,i=Kae){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},Hae),{width:r.toString(),height:i.toString(),top:o,left:a}),u=tr().toLowerCase();n&&(s=RU(u)?Gae:n),kU(u)&&(e=e||Yae,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(Aoe(u)&&s!=="_self")return Qae(e||"",s),new OR(null);const f=window.open(e||"",s,d);Ne(f,t,"popup-blocked");try{f.focus()}catch{}return new OR(f)}function Qae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae="__/auth/handler",Zae="emulator/auth/handler",ese=encodeURIComponent("fac");async function RR(t,e,n,r,i,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof bj){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Wre(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof dg){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const c=await t._getAppCheckToken(),u=c?`#${ese}=${encodeURIComponent(c)}`:"";return`${tse(t)}?${ag(s).slice(1)}${u}`}function tse({config:t}){return t.emulator?yj(t,Zae):`https://${t.authDomain}/${Jae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="webStorageSupport";class nse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sj,this._completeRedirectFn=Aae,this._overrideRedirectResult=Sae}async _openPopup(e,n,r,i){var o;Na((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await RR(e,n,r,jE(),i);return Xae(e,a,Ej())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await RR(e,n,r,jE(),i);return sae(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Na(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wae(e),r=new jae(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c1,{type:c1},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[c1];a!==void 0&&n(!!a),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Oae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FU()||OU()||xj()}}const g6=nse;var MR="@firebase/auth",DR="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ise(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ose(t){Mr(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VU(t)},u=new koe(r,i,o,c);return Boe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mr(new mr("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new rse(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(MR,DR,ise(t)),Rn(MR,DR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase=5*60,sse=hU("authIdTokenMaxAge")||ase;let $R=null;const lse=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sse)return;const i=n==null?void 0:n.token;$R!==i&&($R=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hg(t=Ef()){const e=ro(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zU(t,{popupRedirectResolver:g6,persistence:[d6,_j,Sj]}),r=hU("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=lse(o.toString());r6(n,a,()=>a(n.currentUser)),n6(n,s=>a(s))}}const i=dU("auth");return i&&WU(n,`http://${i}`),n}function cse(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ooe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Gi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",cse().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ose("Browser");const y6=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:ww,AuthCredential:bw,EmailAuthCredential:Cd,EmailAuthProvider:vl,FacebookAuthProvider:ea,GithubAuthProvider:ta,GoogleAuthProvider:vo,OAuthCredential:tl,TwitterAuthProvider:na,beforeAuthStateChanged:r6,browserLocalPersistence:_j,browserPopupRedirectResolver:g6,browserSessionPersistence:Sj,connectAuthEmulator:WU,createUserWithEmailAndPassword:ZU,getAuth:hg,getIdTokenResult:jU,inMemoryPersistence:NE,indexedDBLocalPersistence:d6,initializeAuth:zU,linkWithCredential:XU,onAuthStateChanged:Tf,onIdTokenChanged:n6,prodErrorMap:SU,reload:CU,sendPasswordResetEmail:JU,setPersistence:t6,signInWithCredential:YU,signInWithEmailAndPassword:e6,signInWithPopup:p6,signOut:wj},Symbol.toStringTag,{value:"Module"}));var LR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,v6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function C(){}C.prototype=A.prototype,S.D=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(I,N,k){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return A.prototype[N].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,C){C||(C=0);var I=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)I[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;16>N;++N)I[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],N=S.g[2];var k=S.g[3],R=A+(k^C&(N^k))+I[0]+3614090360&4294967295;A=C+(R<<7&4294967295|R>>>25),R=k+(N^A&(C^N))+I[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(C^k&(A^C))+I[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(A^N&(k^A))+I[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(k^C&(N^k))+I[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(N^A&(C^N))+I[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(C^k&(A^C))+I[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(A^N&(k^A))+I[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(k^C&(N^k))+I[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(N^A&(C^N))+I[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(C^k&(A^C))+I[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(A^N&(k^A))+I[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(k^C&(N^k))+I[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(N^A&(C^N))+I[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=N+(C^k&(A^C))+I[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(A^N&(k^A))+I[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=A+(N^k&(C^N))+I[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(A^C))+I[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(k^A))+I[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(N^k))+I[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^k&(C^N))+I[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(A^C))+I[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(k^A))+I[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(N^k))+I[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^k&(C^N))+I[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(A^C))+I[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(k^A))+I[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(N^k))+I[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(N^k&(C^N))+I[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(A^C))+I[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=N+(A^C&(k^A))+I[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(N^k))+I[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=A+(C^N^k)+I[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^N)+I[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^C)+I[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^A)+I[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^k)+I[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^N)+I[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^C)+I[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^A)+I[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^k)+I[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^N)+I[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^C)+I[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^A)+I[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(C^N^k)+I[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^N)+I[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=N+(k^A^C)+I[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^A)+I[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=A+(N^(C|~k))+I[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~N))+I[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~C))+I[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~A))+I[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~k))+I[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~N))+I[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~C))+I[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~A))+I[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~k))+I[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~N))+I[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~C))+I[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~A))+I[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=A+(N^(C|~k))+I[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~N))+I[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=N+(A^(k|~C))+I[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~A))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var C=A-this.blockSize,I=this.B,N=this.h,k=0;k<A;){if(N==0)for(;k<=C;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<A;)if(I[N++]=S.charCodeAt(k++),N==this.blockSize){i(this,I),N=0;break}}else for(;k<A;)if(I[N++]=S[k++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var C=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=C&255,C/=256;for(this.u(S),S=Array(16),A=C=0;4>A;++A)for(var I=0;32>I;I+=8)S[C++]=this.g[A]>>>I&255;return S};function o(S,A){var C=s;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function a(S,A){this.h=A;for(var C=[],I=!0,N=S.length-1;0<=N;N--){var k=S[N]|0;I&&k==A||(C[N]=k,I=!1)}this.g=C}var s={};function c(S){return-128<=S&&128>S?o(S,function(A){return new a([A|0],0>A?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var A=[],C=1,I=0;S>=C;I++)A[I]=S/C|0,C*=4294967296;return new a(A,0)}function d(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return v(d(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(A,8)),I=f,N=0;N<S.length;N+=8){var k=Math.min(8,S.length-N),R=parseInt(S.substring(N,N+k),A);8>k?(k=u(Math.pow(A,k)),I=I.j(k).add(u(R))):(I=I.j(C),I=I.add(u(R)))}return I}var f=c(0),h=c(1),p=c(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var S=0,A=1,C=0;C<this.g.length;C++){var I=this.i(C);S+=(0<=I?I:4294967296+I)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(g(this))return"-"+v(this).toString(S);for(var A=u(Math.pow(S,6)),C=this,I="";;){var N=T(C,A).g;C=x(C,N.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=N,y(C))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=x(this,S),g(S)?-1:y(S)?0:1};function v(S){for(var A=S.g.length,C=[],I=0;I<A;I++)C[I]=~S.g[I];return new a(C,~S.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],I=0,N=0;N<=A;N++){var k=I+(this.i(N)&65535)+(S.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);I=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new a(C,C[C.length-1]&-2147483648?-1:0)};function x(S,A){return S.add(v(A))}t.j=function(S){if(y(this)||y(S))return f;if(g(this))return g(S)?v(this).j(v(S)):v(v(this).j(S));if(g(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var A=this.g.length+S.g.length,C=[],I=0;I<2*A;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<S.g.length;N++){var k=this.i(I)>>>16,R=this.i(I)&65535,$=S.i(N)>>>16,U=S.i(N)&65535;C[2*I+2*N]+=R*U,w(C,2*I+2*N),C[2*I+2*N+1]+=k*U,w(C,2*I+2*N+1),C[2*I+2*N+1]+=R*$,w(C,2*I+2*N+1),C[2*I+2*N+2]+=k*$,w(C,2*I+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new a(C,0)};function w(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function _(S,A){this.g=S,this.h=A}function T(S,A){if(y(A))throw Error("division by zero");if(y(S))return new _(f,f);if(g(S))return A=T(v(S),A),new _(v(A.g),v(A.h));if(g(A))return A=T(S,v(A)),new _(v(A.g),A.h);if(30<S.g.length){if(g(S)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var C=h,I=A;0>=I.l(S);)C=E(C),I=E(I);var N=P(C,1),k=P(I,1);for(I=P(I,2),C=P(C,2);!y(I);){var R=k.add(I);0>=R.l(S)&&(N=N.add(C),k=R),I=P(I,1),C=P(C,1)}return A=x(S,N.j(A)),new _(N,A)}for(N=f;0<=S.l(A);){for(C=Math.max(1,Math.floor(S.m()/A.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=u(C),R=k.j(A);g(R)||0<R.l(S);)C-=I,k=u(C),R=k.j(A);y(k)&&(k=h),N=N.add(k),S=x(S,R)}return new _(N,S)}t.A=function(S){return T(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],I=0;I<A;I++)C[I]=this.i(I)&S.i(I);return new a(C,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],I=0;I<A;I++)C[I]=this.i(I)|S.i(I);return new a(C,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],I=0;I<A;I++)C[I]=this.i(I)^S.i(I);return new a(C,this.h^S.h)};function E(S){for(var A=S.g.length+1,C=[],I=0;I<A;I++)C[I]=S.i(I)<<1|S.i(I-1)>>>31;return new a(C,S.h)}function P(S,A){var C=A>>5;A%=32;for(var I=S.g.length-C,N=[],k=0;k<I;k++)N[k]=0<A?S.i(k+C)>>>A|S.i(k+C+1)<<32-A:S.i(k+C);return new a(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v6=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,qs=a}).apply(typeof LR<"u"?LR:typeof self<"u"?self:typeof window<"u"?window:{});var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x6,Fh,b6,mv,kE,w6,_6,S6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,j,O){return m==Array.prototype||m==Object.prototype||(m[j]=O.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof xy=="object"&&xy];for(var j=0;j<m.length;++j){var O=m[j];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(m,j){if(j)e:{var O=r;m=m.split(".");for(var M=0;M<m.length-1;M++){var q=m[M];if(!(q in O))break e;O=O[q]}m=m[m.length-1],M=O[m],j=j(M),j!=M&&j!=null&&e(O,m,{configurable:!0,writable:!0,value:j})}}function o(m,j){m instanceof String&&(m+="");var O=0,M=!1,q={next:function(){if(!M&&O<m.length){var Y=O++;return{value:j(Y,m[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(m){return m||function(){return o(this,function(j,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function c(m){var j=typeof m;return j=j!="object"?j:m?Array.isArray(m)?"array":j:"null",j=="array"||j=="object"&&typeof m.length=="number"}function u(m){var j=typeof m;return j=="object"&&m!=null||j=="function"}function d(m,j,O){return m.call.apply(m.bind,arguments)}function f(m,j,O){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,M),m.apply(j,q)}}return function(){return m.apply(j,arguments)}}function h(m,j,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(m,j){var O=Array.prototype.slice.call(arguments,1);return function(){var M=O.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function y(m,j){function O(){}O.prototype=j.prototype,m.aa=j.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(M,q,Y){for(var fe=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)fe[vt-2]=arguments[vt];return j.prototype[q].apply(M,fe)}}function g(m){const j=m.length;if(0<j){const O=Array(j);for(let M=0;M<j;M++)O[M]=m[M];return O}return[]}function v(m,j){for(let O=1;O<arguments.length;O++){const M=arguments[O];if(c(M)){const q=m.length||0,Y=M.length||0;m.length=q+Y;for(let fe=0;fe<Y;fe++)m[q+fe]=M[fe]}else m.push(M)}}class x{constructor(j,O){this.i=j,this.j=O,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(m){return/^[\s\xa0]*$/.test(m)}function _(){var m=s.navigator;return m&&(m=m.userAgent)?m:""}function T(m){return T[" "](m),m}T[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function P(m,j,O){for(const M in m)j.call(O,m[M],M,m)}function S(m,j){for(const O in m)j.call(void 0,m[O],O,m)}function A(m){const j={};for(const O in m)j[O]=m[O];return j}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,j){let O,M;for(let q=1;q<arguments.length;q++){M=arguments[q];for(O in M)m[O]=M[O];for(let Y=0;Y<C.length;Y++)O=C[Y],Object.prototype.hasOwnProperty.call(M,O)&&(m[O]=M[O])}}function N(m){var j=1;m=m.split(":");const O=[];for(;0<j&&m.length;)O.push(m.shift()),j--;return m.length&&O.push(m.join(":")),O}function k(m){s.setTimeout(()=>{throw m},0)}function R(){var m=L;let j=null;return m.g&&(j=m.g,m.g=m.g.next,m.g||(m.h=null),j.next=null),j}class ${constructor(){this.h=this.g=null}add(j,O){const M=U.get();M.set(j,O),this.h?this.h.next=M:this.g=M,this.h=M}}var U=new x(()=>new B,m=>m.reset());class B{constructor(){this.next=this.g=this.h=null}set(j,O){this.h=j,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let V,F=!1,L=new $,H=()=>{const m=s.Promise.resolve(void 0);V=()=>{m.then(z)}};var z=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(O){k(O)}var j=U;j.j(m),100>j.h&&(j.h++,m.next=j.g,j.g=m)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(m,j){this.type=m,this.g=this.target=j,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,j=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};s.addEventListener("test",O,j),s.removeEventListener("test",O,j)}catch{}return m}();function de(m,j){if(K.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=j,j=m.relatedTarget){if(E){e:{try{T(j.nodeName);var q=!0;break e}catch{}q=!1}q||(j=null)}}else O=="mouseover"?j=m.fromElement:O=="mouseout"&&(j=m.toElement);this.relatedTarget=j,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:be[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&de.aa.h.call(this)}}y(de,K);var be={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function ie(m,j,O,M,q){this.listener=m,this.proxy=null,this.src=j,this.type=O,this.capture=!!M,this.ha=q,this.key=++Pe,this.da=this.fa=!1}function ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,j,O,M,q){var Y=m.toString();m=this.g[Y],m||(m=this.g[Y]=[],this.h++);var fe=je(m,j,M,q);return-1<fe?(j=m[fe],O||(j.fa=!1)):(j=new ie(j,this.src,Y,!!M,q),j.fa=O,m.push(j)),j};function G(m,j){var O=j.type;if(O in m.g){var M=m.g[O],q=Array.prototype.indexOf.call(M,j,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(M,q,1),Y&&(ae(j),m.g[O].length==0&&(delete m.g[O],m.h--))}}function je(m,j,O,M){for(var q=0;q<m.length;++q){var Y=m[q];if(!Y.da&&Y.listener==j&&Y.capture==!!O&&Y.ha==M)return q}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ot={};function at(m,j,O,M,q){if(Array.isArray(j)){for(var Y=0;Y<j.length;Y++)at(m,j[Y],O,M,q);return null}return O=Ol(O),m&&m[oe]?m.K(j,O,u(M)?!!M.capture:!1,q):kt(m,j,O,!1,M,q)}function kt(m,j,O,M,q,Y){if(!j)throw Error("Invalid event type");var fe=u(q)?!!q.capture:!!q,vt=rr(m);if(vt||(m[Ae]=vt=new ue(m)),O=vt.add(j,O,M,fe,Y),O.proxy)return O;if(M=Ln(),O.proxy=M,M.src=m,M.listener=O,m.addEventListener)re||(q=fe),q===void 0&&(q=!1),m.addEventListener(j.toString(),M,q);else if(m.attachEvent)m.attachEvent(Vn(j.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ln(){function m(O){return j.call(m.src,m.listener,O)}const j=ri;return m}function Fn(m,j,O,M,q){if(Array.isArray(j))for(var Y=0;Y<j.length;Y++)Fn(m,j[Y],O,M,q);else M=u(M)?!!M.capture:!!M,O=Ol(O),m&&m[oe]?(m=m.i,j=String(j).toString(),j in m.g&&(Y=m.g[j],O=je(Y,O,M,q),-1<O&&(ae(Y[O]),Array.prototype.splice.call(Y,O,1),Y.length==0&&(delete m.g[j],m.h--)))):m&&(m=rr(m))&&(j=m.g[j.toString()],m=-1,j&&(m=je(j,O,M,q)),(O=-1<m?j[m]:null)&&ji(O))}function ji(m){if(typeof m!="number"&&m&&!m.da){var j=m.src;if(j&&j[oe])G(j.i,m);else{var O=m.type,M=m.proxy;j.removeEventListener?j.removeEventListener(O,M,m.capture):j.detachEvent?j.detachEvent(Vn(O),M):j.addListener&&j.removeListener&&j.removeListener(M),(O=rr(j))?(G(O,m),O.h==0&&(O.src=null,j[Ae]=null)):ae(m)}}}function Vn(m){return m in ot?ot[m]:ot[m]="on"+m}function ri(m,j){if(m.da)m=!0;else{j=new de(j,this);var O=m.listener,M=m.ha||m.src;m.fa&&ji(m),m=O.call(M,j)}return m}function rr(m){return m=m[Ae],m instanceof ue?m:null}var Xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(m){return typeof m=="function"?m:(m[Xa]||(m[Xa]=function(j){return m.handleEvent(j)}),m[Xa])}function dt(){W.call(this),this.i=new ue(this),this.M=this,this.F=null}y(dt,W),dt.prototype[oe]=!0,dt.prototype.removeEventListener=function(m,j,O,M){Fn(this,m,j,O,M)};function Ut(m,j){var O,M=m.F;if(M)for(O=[];M;M=M.F)O.push(M);if(m=m.M,M=j.type||j,typeof j=="string")j=new K(j,m);else if(j instanceof K)j.target=j.target||m;else{var q=j;j=new K(M,m),I(j,q)}if(q=!0,O)for(var Y=O.length-1;0<=Y;Y--){var fe=j.g=O[Y];q=cu(fe,M,!0,j)&&q}if(fe=j.g=m,q=cu(fe,M,!0,j)&&q,q=cu(fe,M,!1,j)&&q,O)for(Y=0;Y<O.length;Y++)fe=j.g=O[Y],q=cu(fe,M,!1,j)&&q}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var m=this.i,j;for(j in m.g){for(var O=m.g[j],M=0;M<O.length;M++)ae(O[M]);delete m.g[j],m.h--}}this.F=null},dt.prototype.K=function(m,j,O,M){return this.i.add(String(m),j,!1,O,M)},dt.prototype.L=function(m,j,O,M){return this.i.add(String(m),j,!0,O,M)};function cu(m,j,O,M){if(j=m.i.g[String(j)],!j)return!0;j=j.concat();for(var q=!0,Y=0;Y<j.length;++Y){var fe=j[Y];if(fe&&!fe.da&&fe.capture==O){var vt=fe.listener,Pn=fe.ha||fe.src;fe.fa&&G(m.i,fe),q=vt.call(Pn,M)!==!1&&q}}return q&&!M.defaultPrevented}function kg(m,j,O){if(typeof m=="function")O&&(m=h(m,O));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:s.setTimeout(m,j||0)}function Rl(m){m.g=kg(()=>{m.g=null,m.i&&(m.i=!1,Rl(m))},m.l);const j=m.h;m.h=null,m.m.apply(null,j)}class c_ extends W{constructor(j,O){super(),this.m=j,this.l=O,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(m){W.call(this),this.h=m,this.g={}}y(Qa,W);var uu=[];function Wo(m){P(m.g,function(j,O){this.g.hasOwnProperty(O)&&ji(j)},m),m.g={}}Qa.prototype.N=function(){Qa.aa.N.call(this),Wo(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var du=s.JSON.stringify,Ja=s.JSON.parse,u_=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function Gf(){}Gf.prototype.h=null;function Yf(m){return m.h||(m.h=m.i())}function Xf(){}var Ml={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dl(){K.call(this,"d")}y(Dl,K);function ii(){K.call(this,"c")}y(ii,K);var Ho={},ke=null;function et(){return ke=ke||new dt}Ho.La="serverreachability";function yt(m){K.call(this,Ho.La,m)}y(yt,K);function Tn(m){const j=et();Ut(j,new yt(j))}Ho.STAT_EVENT="statevent";function xr(m,j){K.call(this,Ho.STAT_EVENT,m),this.stat=j}y(xr,K);function Ot(m){const j=et();Ut(j,new xr(j,m))}Ho.Ma="timingevent";function ao(m,j){K.call(this,Ho.Ma,m),this.size=j}y(ao,K);function An(m,j){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},j)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function pG(m,j,O,M,q,Y){m.info(function(){if(m.g)if(Y)for(var fe="",vt=Y.split("&"),Pn=0;Pn<vt.length;Pn++){var rt=vt[Pn].split("=");if(1<rt.length){var Bn=rt[0];rt=rt[1];var Un=Bn.split("_");fe=2<=Un.length&&Un[1]=="type"?fe+(Bn+"="+rt+"&"):fe+(Bn+"=redacted&")}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+M+") [attempt "+q+"]: "+j+`
`+O+`
`+fe})}function mG(m,j,O,M,q,Y,fe){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+q+"]: "+j+`
`+O+`
`+Y+" "+fe})}function fu(m,j,O,M){m.info(function(){return"XMLHTTP TEXT ("+j+"): "+yG(m,O)+(M?" "+M:"")})}function gG(m,j){m.info(function(){return"TIMEOUT: "+j})}br.prototype.info=function(){};function yG(m,j){if(!m.g)return j;if(!j)return null;try{var O=JSON.parse(j);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var M=O[m];if(!(2>M.length)){var q=M[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var fe=1;fe<q.length;fe++)q[fe]=""}}}}return du(O)}catch{return j}}var Og={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},d_;function Rg(){}y(Rg,Gf),Rg.prototype.g=function(){return new XMLHttpRequest},Rg.prototype.i=function(){return{}},d_=new Rg;function Za(m,j,O,M){this.j=m,this.i=j,this.l=O,this.R=M||1,this.U=new Qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jI}function jI(){this.i=null,this.g="",this.h=!1}var CI={},f_={};function h_(m,j,O){m.L=1,m.v=Lg(qo(j)),m.m=O,m.P=!0,NI(m,null)}function NI(m,j){m.F=Date.now(),Mg(m),m.A=qo(m.v);var O=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),WI(O.i,"t",M),m.C=0,O=m.j.J,m.h=new jI,m.g=lk(m.j,O?j:null,!m.m),0<m.O&&(m.M=new c_(h(m.Y,m,m.g),m.O)),j=m.U,O=m.g,M=m.ca;var q="readystatechange";Array.isArray(q)||(q&&(uu[0]=q.toString()),q=uu);for(var Y=0;Y<q.length;Y++){var fe=at(O,q[Y],M||j.handleEvent,!1,j.h||j);if(!fe)break;j.g[fe.key]=fe}j=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,j)):(m.u="GET",m.g.ea(m.A,m.u,null,j)),Tn(),pG(m.i,m.u,m.A,m.l,m.R,m.m)}Za.prototype.ca=function(m){m=m.target;const j=this.M;j&&Ko(m)==3?j.j():this.Y(m)},Za.prototype.Y=function(m){try{if(m==this.g)e:{const Un=Ko(this.g);var j=this.g.Ba();const mu=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||QI(this.g)))){this.J||Un!=4||j==7||(j==8||0>=mu?Tn(3):Tn(2)),p_(this);var O=this.g.Z();this.X=O;t:if(II(this)){var M=QI(this.g);m="";var q=M.length,Y=Ko(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$l(this),Qf(this);var fe="";break t}this.h.i=new s.TextDecoder}for(j=0;j<q;j++)this.h.h=!0,m+=this.h.i.decode(M[j],{stream:!(Y&&j==q-1)});M.length=0,this.h.g+=m,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=O==200,mG(this.i,this.u,this.A,this.l,this.R,Un,O),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,Pn=this.g;if((vt=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(vt)){var rt=vt;break t}}rt=null}if(O=rt)fu(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,m_(this,O);else{this.o=!1,this.s=3,Ot(12),$l(this),Qf(this);break e}}if(this.P){O=!0;let Ci;for(;!this.J&&this.C<fe.length;)if(Ci=vG(this,fe),Ci==f_){Un==4&&(this.s=4,Ot(14),O=!1),fu(this.i,this.l,null,"[Incomplete Response]");break}else if(Ci==CI){this.s=4,Ot(15),fu(this.i,this.l,fe,"[Invalid Chunk]"),O=!1;break}else fu(this.i,this.l,Ci,null),m_(this,Ci);if(II(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||fe.length!=0||this.h.h||(this.s=1,Ot(16),O=!1),this.o=this.o&&O,!O)fu(this.i,this.l,fe,"[Invalid Chunked Response]"),$l(this),Qf(this);else if(0<fe.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),w_(Bn),Bn.M=!0,Ot(11))}}else fu(this.i,this.l,fe,null),m_(this,fe);Un==4&&$l(this),this.o&&!this.J&&(Un==4?ik(this.j,this):(this.o=!1,Mg(this)))}else MG(this.g),O==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),$l(this),Qf(this)}}}catch{}finally{}};function II(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function vG(m,j){var O=m.C,M=j.indexOf(`
`,O);return M==-1?f_:(O=Number(j.substring(O,M)),isNaN(O)?CI:(M+=1,M+O>j.length?f_:(j=j.slice(M,M+O),m.C=M+O,j)))}Za.prototype.cancel=function(){this.J=!0,$l(this)};function Mg(m){m.S=Date.now()+m.I,kI(m,m.I)}function kI(m,j){if(m.B!=null)throw Error("WatchDog timer not null");m.B=An(h(m.ba,m),j)}function p_(m){m.B&&(s.clearTimeout(m.B),m.B=null)}Za.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(gG(this.i,this.A),this.L!=2&&(Tn(),Ot(17)),$l(this),this.s=2,Qf(this)):kI(this,this.S-m)};function Qf(m){m.j.G==0||m.J||ik(m.j,m)}function $l(m){p_(m);var j=m.M;j&&typeof j.ma=="function"&&j.ma(),m.M=null,Wo(m.U),m.g&&(j=m.g,m.g=null,j.abort(),j.ma())}function m_(m,j){try{var O=m.j;if(O.G!=0&&(O.g==m||g_(O.h,m))){if(!m.K&&g_(O.h,m)&&O.G==3){try{var M=O.Da.g.parse(j)}catch{M=null}if(Array.isArray(M)&&M.length==3){var q=M;if(q[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)Wg(O),Ug(O);else break e;b_(O),Ot(18)}}else O.za=q[1],0<O.za-O.T&&37500>q[2]&&O.F&&O.v==0&&!O.C&&(O.C=An(h(O.Za,O),6e3));if(1>=MI(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Fl(O,11)}else if((m.K||O.g==m)&&Wg(O),!w(j))for(q=O.Da.g.parse(j),j=0;j<q.length;j++){let rt=q[j];if(O.T=rt[0],rt=rt[1],O.G==2)if(rt[0]=="c"){O.K=rt[1],O.ia=rt[2];const Bn=rt[3];Bn!=null&&(O.la=Bn,O.j.info("VER="+O.la));const Un=rt[4];Un!=null&&(O.Aa=Un,O.j.info("SVER="+O.Aa));const mu=rt[5];mu!=null&&typeof mu=="number"&&0<mu&&(M=1.5*mu,O.L=M,O.j.info("backChannelRequestTimeoutMs_="+M)),M=O;const Ci=m.g;if(Ci){const qg=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qg){var Y=M.h;Y.g||qg.indexOf("spdy")==-1&&qg.indexOf("quic")==-1&&qg.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(y_(Y,Y.h),Y.h=null))}if(M.D){const __=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;__&&(M.ya=__,St(M.I,M.D,__))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),M=O;var fe=m;if(M.qa=sk(M,M.J?M.ia:null,M.W),fe.K){DI(M.h,fe);var vt=fe,Pn=M.L;Pn&&(vt.I=Pn),vt.B&&(p_(vt),Mg(vt)),M.g=fe}else nk(M);0<O.i.length&&zg(O)}else rt[0]!="stop"&&rt[0]!="close"||Fl(O,7);else O.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Fl(O,7):x_(O):rt[0]!="noop"&&O.l&&O.l.ta(rt),O.v=0)}}Tn(4)}catch{}}var xG=class{constructor(m,j){this.g=m,this.map=j}};function OI(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function RI(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function MI(m){return m.h?1:m.g?m.g.size:0}function g_(m,j){return m.h?m.h==j:m.g?m.g.has(j):!1}function y_(m,j){m.g?m.g.add(j):m.h=j}function DI(m,j){m.h&&m.h==j?m.h=null:m.g&&m.g.has(j)&&m.g.delete(j)}OI.prototype.cancel=function(){if(this.i=$I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function $I(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let j=m.i;for(const O of m.g.values())j=j.concat(O.D);return j}return g(m.i)}function bG(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var j=[],O=m.length,M=0;M<O;M++)j.push(m[M]);return j}j=[],O=0;for(M in m)j[O++]=m[M];return j}function wG(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var j=[];m=m.length;for(var O=0;O<m;O++)j.push(O);return j}j=[],O=0;for(const M in m)j[O++]=M;return j}}}function LI(m,j){if(m.forEach&&typeof m.forEach=="function")m.forEach(j,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,j,void 0);else for(var O=wG(m),M=bG(m),q=M.length,Y=0;Y<q;Y++)j.call(void 0,M[Y],O&&O[Y],m)}var FI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _G(m,j){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var M=m[O].indexOf("="),q=null;if(0<=M){var Y=m[O].substring(0,M);q=m[O].substring(M+1)}else Y=m[O];j(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ll(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ll){this.h=m.h,Dg(this,m.j),this.o=m.o,this.g=m.g,$g(this,m.s),this.l=m.l;var j=m.i,O=new eh;O.i=j.i,j.g&&(O.g=new Map(j.g),O.h=j.h),VI(this,O),this.m=m.m}else m&&(j=String(m).match(FI))?(this.h=!1,Dg(this,j[1]||"",!0),this.o=Jf(j[2]||""),this.g=Jf(j[3]||"",!0),$g(this,j[4]),this.l=Jf(j[5]||"",!0),VI(this,j[6]||"",!0),this.m=Jf(j[7]||"")):(this.h=!1,this.i=new eh(null,this.h))}Ll.prototype.toString=function(){var m=[],j=this.j;j&&m.push(Zf(j,BI,!0),":");var O=this.g;return(O||j=="file")&&(m.push("//"),(j=this.o)&&m.push(Zf(j,BI,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Zf(O,O.charAt(0)=="/"?TG:EG,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Zf(O,PG)),m.join("")};function qo(m){return new Ll(m)}function Dg(m,j,O){m.j=O?Jf(j,!0):j,m.j&&(m.j=m.j.replace(/:$/,""))}function $g(m,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);m.s=j}else m.s=null}function VI(m,j,O){j instanceof eh?(m.i=j,jG(m.i,m.h)):(O||(j=Zf(j,AG)),m.i=new eh(j,m.h))}function St(m,j,O){m.i.set(j,O)}function Lg(m){return St(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Jf(m,j){return m?j?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Zf(m,j,O){return typeof m=="string"?(m=encodeURI(m).replace(j,SG),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function SG(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var BI=/[#\/\?@]/g,EG=/[#\?:]/g,TG=/[#\?]/g,AG=/[#\?@]/g,PG=/#/g;function eh(m,j){this.h=this.g=null,this.i=m||null,this.j=!!j}function es(m){m.g||(m.g=new Map,m.h=0,m.i&&_G(m.i,function(j,O){m.add(decodeURIComponent(j.replace(/\+/g," ")),O)}))}t=eh.prototype,t.add=function(m,j){es(this),this.i=null,m=hu(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(j),this.h+=1,this};function UI(m,j){es(m),j=hu(m,j),m.g.has(j)&&(m.i=null,m.h-=m.g.get(j).length,m.g.delete(j))}function zI(m,j){return es(m),j=hu(m,j),m.g.has(j)}t.forEach=function(m,j){es(this),this.g.forEach(function(O,M){O.forEach(function(q){m.call(j,q,M,this)},this)},this)},t.na=function(){es(this);const m=Array.from(this.g.values()),j=Array.from(this.g.keys()),O=[];for(let M=0;M<j.length;M++){const q=m[M];for(let Y=0;Y<q.length;Y++)O.push(j[M])}return O},t.V=function(m){es(this);let j=[];if(typeof m=="string")zI(this,m)&&(j=j.concat(this.g.get(hu(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)j=j.concat(m[O])}return j},t.set=function(m,j){return es(this),this.i=null,m=hu(this,m),zI(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[j]),this.h+=1,this},t.get=function(m,j){return m?(m=this.V(m),0<m.length?String(m[0]):j):j};function WI(m,j,O){UI(m,j),0<O.length&&(m.i=null,m.g.set(hu(m,j),g(O)),m.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],j=Array.from(this.g.keys());for(var O=0;O<j.length;O++){var M=j[O];const Y=encodeURIComponent(String(M)),fe=this.V(M);for(M=0;M<fe.length;M++){var q=Y;fe[M]!==""&&(q+="="+encodeURIComponent(String(fe[M]))),m.push(q)}}return this.i=m.join("&")};function hu(m,j){return j=String(j),m.j&&(j=j.toLowerCase()),j}function jG(m,j){j&&!m.j&&(es(m),m.i=null,m.g.forEach(function(O,M){var q=M.toLowerCase();M!=q&&(UI(this,M),WI(this,q,O))},m)),m.j=j}function CG(m,j){const O=new br;if(s.Image){const M=new Image;M.onload=p(ts,O,"TestLoadImage: loaded",!0,j,M),M.onerror=p(ts,O,"TestLoadImage: error",!1,j,M),M.onabort=p(ts,O,"TestLoadImage: abort",!1,j,M),M.ontimeout=p(ts,O,"TestLoadImage: timeout",!1,j,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else j(!1)}function NG(m,j){const O=new br,M=new AbortController,q=setTimeout(()=>{M.abort(),ts(O,"TestPingServer: timeout",!1,j)},1e4);fetch(m,{signal:M.signal}).then(Y=>{clearTimeout(q),Y.ok?ts(O,"TestPingServer: ok",!0,j):ts(O,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(q),ts(O,"TestPingServer: error",!1,j)})}function ts(m,j,O,M,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),M(O)}catch{}}function IG(){this.g=new u_}function kG(m,j,O){const M=O||"";try{LI(m,function(q,Y){let fe=q;u(q)&&(fe=du(q)),j.push(M+Y+"="+encodeURIComponent(fe))})}catch(q){throw j.push(M+"type="+encodeURIComponent("_badmap")),q}}function Fg(m){this.l=m.Ub||null,this.j=m.eb||!1}y(Fg,Gf),Fg.prototype.g=function(){return new Vg(this.l,this.j)},Fg.prototype.i=function(m){return function(){return m}}({});function Vg(m,j){dt.call(this),this.D=m,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vg,dt),t=Vg.prototype,t.open=function(m,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=j,this.readyState=1,nh(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(j.body=m),(this.D||s).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,th(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,nh(this)),this.g&&(this.readyState=3,nh(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;HI(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function HI(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var j=m.value?m.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!m.done}))&&(this.response=this.responseText+=j)}m.done?th(this):nh(this),this.readyState==3&&HI(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,th(this))},t.Qa=function(m){this.g&&(this.response=m,th(this))},t.ga=function(){this.g&&th(this)};function th(m){m.readyState=4,m.l=null,m.j=null,m.v=null,nh(m)}t.setRequestHeader=function(m,j){this.u.append(m,j)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],j=this.h.entries();for(var O=j.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=j.next();return m.join(`\r
`)};function nh(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Vg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function qI(m){let j="";return P(m,function(O,M){j+=M,j+=":",j+=O,j+=`\r
`}),j}function v_(m,j,O){e:{for(M in O){var M=!1;break e}M=!0}M||(O=qI(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):St(m,j,O))}function zt(m){dt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(zt,dt);var OG=/^https?$/i,RG=["POST","PUT"];t=zt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,j,O,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);j=j?j.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():d_.g(),this.v=this.o?Yf(this.o):Yf(d_),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(j,String(m),!0),this.B=!1}catch(Y){KI(this,Y);return}if(m=O||"",O=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var q in M)O.set(q,M[q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())O.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(O.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=s.FormData&&m instanceof s.FormData,!(0<=Array.prototype.indexOf.call(RG,j,void 0))||M||q||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of O)this.g.setRequestHeader(Y,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XI(this),this.u=!0,this.g.send(m),this.u=!1}catch(Y){KI(this,Y)}};function KI(m,j){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=j,m.m=5,GI(m),Bg(m)}function GI(m){m.A||(m.A=!0,Ut(m,"complete"),Ut(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ut(this,"complete"),Ut(this,"abort"),Bg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bg(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?YI(this):this.bb())},t.bb=function(){YI(this)};function YI(m){if(m.h&&typeof a<"u"&&(!m.v[1]||Ko(m)!=4||m.Z()!=2)){if(m.u&&Ko(m)==4)kg(m.Ea,0,m);else if(Ut(m,"readystatechange"),Ko(m)==4){m.h=!1;try{const fe=m.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var O;if(!(O=j)){var M;if(M=fe===0){var q=String(m.D).match(FI)[1]||null;!q&&s.self&&s.self.location&&(q=s.self.location.protocol.slice(0,-1)),M=!OG.test(q?q.toLowerCase():"")}O=M}if(O)Ut(m,"complete"),Ut(m,"success");else{m.m=6;try{var Y=2<Ko(m)?m.g.statusText:""}catch{Y=""}m.l=Y+" ["+m.Z()+"]",GI(m)}}finally{Bg(m)}}}}function Bg(m,j){if(m.g){XI(m);const O=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,j||Ut(m,"ready");try{O.onreadystatechange=M}catch{}}}function XI(m){m.I&&(s.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ko(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ko(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var j=this.g.responseText;return m&&j.indexOf(m)==0&&(j=j.substring(m.length)),Ja(j)}};function QI(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function MG(m){const j={};m=(m.g&&2<=Ko(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(w(m[M]))continue;var O=N(m[M]);const q=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Y=j[q]||[];j[q]=Y,Y.push(O)}S(j,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rh(m,j,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||j}function JI(m){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rh("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rh("baseRetryDelayMs",5e3,m),this.cb=rh("retryDelaySeedMs",1e4,m),this.Wa=rh("forwardChannelMaxRetries",2,m),this.wa=rh("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new OI(m&&m.concurrentRequestLimit),this.Da=new IG,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=JI.prototype,t.la=8,t.G=1,t.connect=function(m,j,O,M){Ot(0),this.W=m,this.H=j||{},O&&M!==void 0&&(this.H.OSID=O,this.H.OAID=M),this.F=this.X,this.I=sk(this,null,this.W),zg(this)};function x_(m){if(ZI(m),m.G==3){var j=m.U++,O=qo(m.I);if(St(O,"SID",m.K),St(O,"RID",j),St(O,"TYPE","terminate"),ih(m,O),j=new Za(m,m.j,j),j.L=2,j.v=Lg(qo(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(j.v.toString(),"")}catch{}!O&&s.Image&&(new Image().src=j.v,O=!0),O||(j.g=lk(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Mg(j)}ak(m)}function Ug(m){m.g&&(w_(m),m.g.cancel(),m.g=null)}function ZI(m){Ug(m),m.u&&(s.clearTimeout(m.u),m.u=null),Wg(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&s.clearTimeout(m.s),m.s=null)}function zg(m){if(!RI(m.h)&&!m.s){m.s=!0;var j=m.Ga;V||H(),F||(V(),F=!0),L.add(j,m),m.B=0}}function DG(m,j){return MI(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=j.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=An(h(m.Ga,m,j),ok(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const q=new Za(this,this.j,m);let Y=this.o;if(this.S&&(Y?(Y=A(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var j=0,O=0;O<this.i.length;O++){t:{var M=this.i[O];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(j+=M,4096<j){j=O;break e}if(j===4096||O===this.i.length-1){j=O+1;break e}}j=1e3}else j=1e3;j=tk(this,q,j),O=qo(this.I),St(O,"RID",m),St(O,"CVER",22),this.D&&St(O,"X-HTTP-Session-Id",this.D),ih(this,O),Y&&(this.O?j="headers="+encodeURIComponent(String(qI(Y)))+"&"+j:this.m&&v_(O,this.m,Y)),y_(this.h,q),this.Ua&&St(O,"TYPE","init"),this.P?(St(O,"$req",j),St(O,"SID","null"),q.T=!0,h_(q,O,null)):h_(q,O,j),this.G=2}}else this.G==3&&(m?ek(this,m):this.i.length==0||RI(this.h)||ek(this))};function ek(m,j){var O;j?O=j.l:O=m.U++;const M=qo(m.I);St(M,"SID",m.K),St(M,"RID",O),St(M,"AID",m.T),ih(m,M),m.m&&m.o&&v_(M,m.m,m.o),O=new Za(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),j&&(m.i=j.D.concat(m.i)),j=tk(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),y_(m.h,O),h_(O,M,j)}function ih(m,j){m.H&&P(m.H,function(O,M){St(j,M,O)}),m.l&&LI({},function(O,M){St(j,M,O)})}function tk(m,j,O){O=Math.min(m.i.length,O);var M=m.l?h(m.l.Na,m.l,m):null;e:{var q=m.i;let Y=-1;for(;;){const fe=["count="+O];Y==-1?0<O?(Y=q[0].g,fe.push("ofs="+Y)):Y=0:fe.push("ofs="+Y);let vt=!0;for(let Pn=0;Pn<O;Pn++){let rt=q[Pn].g;const Bn=q[Pn].map;if(rt-=Y,0>rt)Y=Math.max(0,q[Pn].g-100),vt=!1;else try{kG(Bn,fe,"req"+rt+"_")}catch{M&&M(Bn)}}if(vt){M=fe.join("&");break e}}}return m=m.i.splice(0,O),j.D=m,M}function nk(m){if(!m.g&&!m.u){m.Y=1;var j=m.Fa;V||H(),F||(V(),F=!0),L.add(j,m),m.v=0}}function b_(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=An(h(m.Fa,m),ok(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,rk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=An(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Ug(this),rk(this))};function w_(m){m.A!=null&&(s.clearTimeout(m.A),m.A=null)}function rk(m){m.g=new Za(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var j=qo(m.qa);St(j,"RID","rpc"),St(j,"SID",m.K),St(j,"AID",m.T),St(j,"CI",m.F?"0":"1"),!m.F&&m.ja&&St(j,"TO",m.ja),St(j,"TYPE","xmlhttp"),ih(m,j),m.m&&m.o&&v_(j,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=Lg(qo(j)),O.m=null,O.P=!0,NI(O,m)}t.Za=function(){this.C!=null&&(this.C=null,Ug(this),b_(this),Ot(19))};function Wg(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function ik(m,j){var O=null;if(m.g==j){Wg(m),w_(m),m.g=null;var M=2}else if(g_(m.h,j))O=j.D,DI(m.h,j),M=1;else return;if(m.G!=0){if(j.o)if(M==1){O=j.m?j.m.length:0,j=Date.now()-j.F;var q=m.B;M=et(),Ut(M,new ao(M,O)),zg(m)}else nk(m);else if(q=j.s,q==3||q==0&&0<j.X||!(M==1&&DG(m,j)||M==2&&b_(m)))switch(O&&0<O.length&&(j=m.h,j.i=j.i.concat(O)),q){case 1:Fl(m,5);break;case 4:Fl(m,10);break;case 3:Fl(m,6);break;default:Fl(m,2)}}}function ok(m,j){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*j}function Fl(m,j){if(m.j.info("Error code "+j),j==2){var O=h(m.fb,m),M=m.Xa;const q=!M;M=new Ll(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Dg(M,"https"),Lg(M),q?CG(M.toString(),O):NG(M.toString(),O)}else Ot(2);m.G=0,m.l&&m.l.sa(j),ak(m),ZI(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ak(m){if(m.G=0,m.ka=[],m.l){const j=$I(m.h);(j.length!=0||m.i.length!=0)&&(v(m.ka,j),v(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function sk(m,j,O){var M=O instanceof Ll?qo(O):new Ll(O);if(M.g!="")j&&(M.g=j+"."+M.g),$g(M,M.s);else{var q=s.location;M=q.protocol,j=j?j+"."+q.hostname:q.hostname,q=+q.port;var Y=new Ll(null);M&&Dg(Y,M),j&&(Y.g=j),q&&$g(Y,q),O&&(Y.l=O),M=Y}return O=m.D,j=m.ya,O&&j&&St(M,O,j),St(M,"VER",m.la),ih(m,M),M}function lk(m,j,O){if(j&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=m.Ca&&!m.pa?new zt(new Fg({eb:O})):new zt(m.pa),j.Ha(m.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ck(){}t=ck.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hg(){}Hg.prototype.g=function(m,j){return new Lr(m,j)};function Lr(m,j){dt.call(this),this.g=new JI(j),this.l=m,this.h=j&&j.messageUrlParams||null,m=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(m?m["X-WebChannel-Content-Type"]=j.messageContentType:m={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(m?m["X-WebChannel-Client-Profile"]=j.va:m={"X-WebChannel-Client-Profile":j.va}),this.g.S=m,(m=j&&j.Sb)&&!w(m)&&(this.g.m=m),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!w(j)&&(this.g.D=j,m=this.h,m!==null&&j in m&&(m=this.h,j in m&&delete m[j])),this.j=new pu(this)}y(Lr,dt),Lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){x_(this.g)},Lr.prototype.o=function(m){var j=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=du(m),m=O);j.i.push(new xG(j.Ya++,m)),j.G==3&&zg(j)},Lr.prototype.N=function(){this.g.l=null,delete this.j,x_(this.g),delete this.g,Lr.aa.N.call(this)};function uk(m){Dl.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var j=m.__sm__;if(j){e:{for(const O in j){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,j=j!==null&&m in j?j[m]:void 0),this.data=j}else this.data=m}y(uk,Dl);function dk(){ii.call(this),this.status=1}y(dk,ii);function pu(m){this.g=m}y(pu,ck),pu.prototype.ua=function(){Ut(this.g,"a")},pu.prototype.ta=function(m){Ut(this.g,new uk(m))},pu.prototype.sa=function(m){Ut(this.g,new dk)},pu.prototype.ra=function(){Ut(this.g,"b")},Hg.prototype.createWebChannel=Hg.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,S6=function(){return new Hg},_6=function(){return et()},w6=Ho,kE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Og.NO_ERROR=0,Og.TIMEOUT=8,Og.HTTP_ERROR=6,mv=Og,PI.COMPLETE="complete",b6=PI,Xf.EventType=Ml,Ml.OPEN="a",Ml.CLOSE="b",Ml.ERROR="c",Ml.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Fh=Xf,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,x6=zt}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});const FR="@firebase/firestore",VR="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new sg("@firebase/firestore");function Au(){return Ic.logLevel}function ye(t,...e){if(Ic.logLevel<=qe.DEBUG){const n=e.map(Aj);Ic.debug(`Firestore (${Af}): ${t}`,...n)}}function Ia(t,...e){if(Ic.logLevel<=qe.ERROR){const n=e.map(Aj);Ic.error(`Firestore (${Af}): ${t}`,...n)}}function nl(t,...e){if(Ic.logLevel<=qe.WARN){const n=e.map(Aj);Ic.warn(`Firestore (${Af}): ${t}`,...n)}}function Aj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,E6(t,r,n)}function E6(t,e,n){let r=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ia(r),new Error(r)}function ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||E6(e,i,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class use{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class dse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fse{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ga,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},s=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>s(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?s(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ga)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new T6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class hse{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pse{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hse(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mse{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gse(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function OE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ue(r,i);{const o=A6(),a=yse(o.encode(UR(t,n)),o.encode(UR(e,n)));return a!==0?a:Ue(r,i)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function UR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yse(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function Nd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__name__";class fo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=fo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ue(e.length,n.length)}static compareSegments(e,n){const r=fo.isNumericId(e),i=fo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?fo.extractNumericId(e).compare(fo.extractNumericId(n)):OE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class wt extends fo{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const vse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends fo{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return vse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zR}static keyField(){return new In([zR])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(wt.fromString(e))}static fromName(e){return new Ee(wt.fromString(e).popFirst(5))}static empty(){return new Ee(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e,n){if(!n)throw new ge(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xse(t,e,n,r){if(e===!0&&r===!0)throw new ge(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WR(t){if(!Ee.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HR(t){if(Ee.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ew(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ew(t);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function bse(t,e){if(e<=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function pg(t,e){if(!j6(t))throw new ge(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ge(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=-62135596800,KR=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*KR);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qR)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KR}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pg(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:on("string",jt._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new jt(0,0))}static max(){return new Re(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function wse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new rl(i,Ee.empty(),e)}function _se(t){return new rl(t.readTime,t.key,Qp)}class rl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rl(Re.min(),Ee.empty(),Qp)}static max(){return new rl(Re.max(),Ee.empty(),Qp)}}function Sse(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==Ese)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},c=>r(c))}),a=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Ase(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Tw.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=-1;function Aw(t){return t==null}function dx(t){return t===0&&1/t==-1/0}function Pse(t){return typeof t=="number"&&Number.isInteger(t)&&!dx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="";function jse(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=GR(e)),e=Cse(t.get(n),e);return GR(e)}function Cse(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case C6:n+="";break;default:n+=o}}return n}function GR(t){return t+C6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new by(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new by(this.root,e,this.comparator,!1)}getReverseIterator(){return new by(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new by(this.root,e,this.comparator,!0)}}class by{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Nn.RED,this.left=i??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Nn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XR(this.data.getIterator())}getIteratorFrom(e){return new XR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class XR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new mn(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new I6("Invalid base64 string: "+o):o}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const Nse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=Nse.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ol(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="server_timestamp",O6="__type__",R6="__previous_value__",M6="__local_write_time__";function Cj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[O6])===null||n===void 0?void 0:n.stringValue)===k6}function Pw(t){const e=t.mapValue.fields[R6];return Cj(e)?Pw(e):e}function Jp(t){const e=il(t.mapValue.fields[M6].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(e,n,r,i,o,a,s,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const fx="(default)";class Zp{constructor(e,n){this.projectId=e,this.database=n||fx}static empty(){return new Zp("","")}get isDefaultDatabase(){return this.database===fx}isEqual(e){return e instanceof Zp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="__type__",kse="__max__",wy={mapValue:{}},$6="__vector__",hx="value";function al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cj(t)?4:Rse(t)?9007199254740991:Ose(t)?10:11:Ie(28295,{value:t})}function $o(t,e){if(t===e)return!0;const n=al(t);if(n!==al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jp(t).isEqual(Jp(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=il(i.timestampValue),s=il(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ol(i.bytesValue).isEqual(ol(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Xt(i.geoPointValue.latitude)===Xt(o.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xt(i.integerValue)===Xt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Xt(i.doubleValue),s=Xt(o.doubleValue);return a===s?dx(a)===dx(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Nd(t.arrayValue.values||[],e.arrayValue.values||[],$o);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(YR(a)!==YR(s))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(s[c]===void 0||!$o(a[c],s[c])))return!1;return!0}(t,e);default:return Ie(52216,{left:t})}}function em(t,e){return(t.values||[]).find(n=>$o(n,e))!==void 0}function Id(t,e){if(t===e)return 0;const n=al(t),r=al(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Xt(o.integerValue||o.doubleValue),c=Xt(a.integerValue||a.doubleValue);return s<c?-1:s>c?1:s===c?0:isNaN(s)?isNaN(c)?0:-1:1}(t,e);case 3:return QR(t.timestampValue,e.timestampValue);case 4:return QR(Jp(t),Jp(e));case 5:return OE(t.stringValue,e.stringValue);case 6:return function(o,a){const s=ol(o),c=ol(a);return s.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),c=a.split("/");for(let u=0;u<s.length&&u<c.length;u++){const d=Ue(s[u],c[u]);if(d!==0)return d}return Ue(s.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ue(Xt(o.latitude),Xt(a.latitude));return s!==0?s:Ue(Xt(o.longitude),Xt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JR(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,c,u,d;const f=o.fields||{},h=a.fields||{},p=(s=f[hx])===null||s===void 0?void 0:s.arrayValue,y=(c=h[hx])===null||c===void 0?void 0:c.arrayValue,g=Ue(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:JR(p,y)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===wy.mapValue&&a===wy.mapValue)return 0;if(o===wy.mapValue)return 1;if(a===wy.mapValue)return-1;const s=o.fields||{},c=Object.keys(s),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=OE(c[f],d[f]);if(h!==0)return h;const p=Id(s[c[f]],u[d[f]]);if(p!==0)return p}return Ue(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie(23264,{le:n})}}function QR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=il(t),r=il(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function JR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Id(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function kd(t){return RE(t)}function RE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ol(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=RE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${RE(n.fields[a])}`;return i+"}"}(t.mapValue):Ie(61005,{value:t})}function gv(t){switch(al(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pw(t);return e?16+gv(e):16;case 5:return 2*t.stringValue.length;case 6:return ol(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+gv(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return xl(r.fields,(o,a)=>{i+=o.length+gv(a)}),i}(t.mapValue);default:throw Ie(13486,{value:t})}}function ZR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ME(t){return!!t&&"integerValue"in t}function Nj(t){return!!t&&"arrayValue"in t}function e2(t){return!!t&&"nullValue"in t}function t2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yv(t){return!!t&&"mapValue"in t}function Ose(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[D6])===null||n===void 0?void 0:n.stringValue)===$6}function ap(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ap(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ap(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Rse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kse}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ap(n)}setAll(e){let n=In.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=ap(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());yv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $o(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Er(ap(this.value))}}function L6(t){const e=[];return xl(t.fields,(n,r)=>{const i=new In([n]);if(yv(r)){const o=L6(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Qn(e,0,Re.min(),Re.min(),Re.min(),Er.empty(),0)}static newFoundDocument(e,n,r,i){return new Qn(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new Qn(e,2,n,Re.min(),Re.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new Qn(e,3,n,Re.min(),Re.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.position=e,this.inclusive=n}}function n2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(a.referenceValue),n.key):r=Id(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function r2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$o(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{}class rn extends F6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $se(e,n,r):n==="array-contains"?new Vse(e,r):n==="in"?new Bse(e,r):n==="not-in"?new Use(e,r):n==="array-contains-any"?new zse(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lse(e,r):new Fse(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Id(n,this.value)):n!==null&&al(this.value)===al(n)&&this.matchesComparison(Id(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends F6{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Zi(e,n)}matches(e){return V6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function V6(t){return t.op==="and"}function B6(t){return Dse(t)&&V6(t)}function Dse(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function DE(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+kd(t.value);if(B6(t))return t.filters.map(e=>DE(e)).join(",");{const e=t.filters.map(n=>DE(n)).join(",");return`${t.op}(${e})`}}function U6(t,e){return t instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&$o(r.value,i.value)}(t,e):t instanceof Zi?function(r,i){return i instanceof Zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&U6(a,i.filters[s]),!0):!1}(t,e):void Ie(19439)}function z6(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${kd(n.value)}`}(t):t instanceof Zi?function(n){return n.op.toString()+" {"+n.getFilters().map(z6).join(" ,")+"}"}(t):"Filter"}class $se extends rn{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lse extends rn{constructor(e,n){super(e,"in",n),this.keys=W6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fse extends rn{constructor(e,n){super(e,"not-in",n),this.keys=W6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class Vse extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nj(n)&&em(n.arrayValue,this.value)}}class Bse extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&em(this.value.arrayValue,n)}}class Use extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!em(this.value.arrayValue,n)}}class zse extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nj(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>em(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Pe=null}}function i2(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Wse(t,e,n,r,i,o,a)}function Ij(t){const e=$e(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>DE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Aw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>kd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>kd(r)).join(",")),e.Pe=n}return e.Pe}function kj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mse(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r2(t.startAt,e.startAt)&&r2(t.endAt,e.endAt)}function $E(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Hse(t,e,n,r,i,o,a,s){return new Cf(t,e,n,r,i,o,a,s)}function jw(t){return new Cf(t)}function o2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H6(t){return t.collectionGroup!==null}function sp(t){const e=$e(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new mn(In.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new tm(o,r))}),n.has(In.keyField().canonicalString())||e.Te.push(new tm(In.keyField(),r))}return e.Te}function jo(t){const e=$e(t);return e.Ie||(e.Ie=qse(e,sp(t))),e.Ie}function qse(t,e){if(t.limitType==="F")return i2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tm(i.field,o)});const n=t.endAt?new px(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new px(t.startAt.position,t.startAt.inclusive):null;return i2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function LE(t,e){const n=t.filters.concat([e]);return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mx(t,e,n){return new Cf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cw(t,e){return kj(jo(t),jo(e))&&t.limitType===e.limitType}function q6(t){return`${Ij(jo(t))}|lt:${t.limitType}`}function Pu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>z6(i)).join(", ")}]`),Aw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>kd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>kd(i)).join(",")),`Target(${r})`}(jo(t))}; limitType=${t.limitType})`}function Nw(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of sp(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,c){const u=n2(a,s,c);return a.inclusive?u<=0:u<0}(r.startAt,sp(r),i)||r.endAt&&!function(a,s,c){const u=n2(a,s,c);return a.inclusive?u>=0:u>0}(r.endAt,sp(r),i))}(t,e)}function Kse(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K6(t){return(e,n)=>{let r=!1;for(const i of sp(t)){const o=Gse(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Gse(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,a,s){const c=a.data.field(o),u=s.data.field(o);return c!==null&&u!==null?Id(c,u):Ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return N6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse=new Bt(Ee.comparator);function ka(){return Yse}const G6=new Bt(Ee.comparator);function Vh(...t){let e=G6;for(const n of t)e=e.insert(n.key,n);return e}function Y6(t){let e=G6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ec(){return lp()}function X6(){return lp()}function lp(){return new Yc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xse=new Bt(Ee.comparator),Qse=new mn(Ee.comparator);function Ke(...t){let e=Qse;for(const n of t)e=e.add(n);return e}const Jse=new mn(Ue);function Zse(){return Jse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dx(e)?"-0":e}}function Q6(t){return{integerValue:""+t}}function ele(t,e){return Pse(e)?Q6(e):Oj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this._=void 0}}function tle(t,e,n){return t instanceof nm?function(i,o){const a={fields:{[O6]:{stringValue:k6},[M6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cj(o)&&(o=Pw(o)),o&&(a.fields[R6]=o),{mapValue:a}}(n,e):t instanceof rm?Z6(t,e):t instanceof im?e5(t,e):function(i,o){const a=J6(i,o),s=a2(a)+a2(i.Ee);return ME(a)&&ME(i.Ee)?Q6(s):Oj(i.serializer,s)}(t,e)}function nle(t,e,n){return t instanceof rm?Z6(t,e):t instanceof im?e5(t,e):n}function J6(t,e){return t instanceof gx?function(r){return ME(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class nm extends Iw{}class rm extends Iw{constructor(e){super(),this.elements=e}}function Z6(t,e){const n=t5(e);for(const r of t.elements)n.some(i=>$o(i,r))||n.push(r);return{arrayValue:{values:n}}}class im extends Iw{constructor(e){super(),this.elements=e}}function e5(t,e){let n=t5(e);for(const r of t.elements)n=n.filter(i=>!$o(i,r));return{arrayValue:{values:n}}}class gx extends Iw{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function a2(t){return Xt(t.integerValue||t.doubleValue)}function t5(t){return Nj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(e,n){this.field=e,this.transform=n}}function ile(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rm&&i instanceof rm||r instanceof im&&i instanceof im?Nd(r.elements,i.elements,$o):r instanceof gx&&i instanceof gx?$o(r.Ee,i.Ee):r instanceof nm&&i instanceof nm}(t.transform,e.transform)}class ole{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kw{}function n5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rj(t.key,Yi.none()):new mg(t.key,t.data,Yi.none());{const n=t.data,r=Er.empty();let i=new mn(In.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new bl(t.key,r,new Kr(i.toArray()),Yi.none())}}function ale(t,e,n){t instanceof mg?function(i,o,a){const s=i.value.clone(),c=l2(i.fieldTransforms,o,a.transformResults);s.setAll(c),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof bl?function(i,o,a){if(!vv(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=l2(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(r5(i)),c.setAll(s),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function cp(t,e,n,r){return t instanceof mg?function(o,a,s,c){if(!vv(o.precondition,a))return s;const u=o.value.clone(),d=c2(o.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bl?function(o,a,s,c){if(!vv(o.precondition,a))return s;const u=c2(o.fieldTransforms,c,a),d=a.data;return d.setAll(r5(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return vv(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function sle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=J6(r.transform,i||null);o!=null&&(n===null&&(n=Er.empty()),n.set(r.field,o))}return n||null}function s2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nd(r,i,(o,a)=>ile(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mg extends kw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bl extends kw{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function r5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l2(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,nle(a,s,n[i]))}return r}function c2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,tle(o,a,e))}return r}class Rj extends kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lle extends kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ale(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X6();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const c=n5(a,s);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Nd(this.mutations,e.mutations,(n,r)=>s2(n,r))&&Nd(this.baseMutations,e.baseMutations,(n,r)=>s2(n,r))}}class Mj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Xse}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Mj(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ule=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,Je;function fle(t){switch(t){case Z.OK:return Ie(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function i5(t){if(t===void 0)return Ia("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Zt.OK:return Z.OK;case Zt.CANCELLED:return Z.CANCELLED;case Zt.UNKNOWN:return Z.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return Z.INTERNAL;case Zt.UNAVAILABLE:return Z.UNAVAILABLE;case Zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Zt.NOT_FOUND:return Z.NOT_FOUND;case Zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Zt.ABORTED:return Z.ABORTED;case Zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Zt.DATA_LOSS:return Z.DATA_LOSS;default:return Ie(39323,{code:t})}}(Je=Zt||(Zt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hle=new qs([4294967295,4294967295],0);function u2(t){const e=A6().encode(t),n=new v6;return n.update(e),new Uint8Array(n.digest())}function d2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qs([n,r],0),new qs([i,o],0)]}class Dj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(r<0)throw new Bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=qs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(qs.fromNumber(r)));return i.compare(hle)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=u2(e),[r,i]=d2(n);for(let o=0;o<this.hashCount;o++){const a=this.pe(r,i,o);if(!this.ye(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Dj(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.fe===0)return;const n=u2(e),[r,i]=d2(n);for(let o=0;o<this.hashCount;o++){const a=this.pe(r,i,o);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ow(Re.min(),i,new Bt(Ue),ka(),Ke())}}class gg{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gg(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class o5{constructor(e,n){this.targetId=e,this.De=n}}class a5{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f2{constructor(){this.ve=0,this.Ce=h2(),this.Fe=Dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),n=Ke(),r=Ke();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:o})}}),new gg(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=h2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ple{constructor(e){this.We=e,this.Ge=new Map,this.ze=ka(),this.je=_y(),this.Je=_y(),this.He=new Bt(Ue)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if($E(o))if(r===0){const a=new Ee(o.path);this.Xe(n,a,Qn.newNoDocument(a,Re.min()))}else ct(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const s=this._t(e),c=s?this.ut(s,e,a):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ol(r).toUint8Array()}catch(c){if(c instanceof I6)return nl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new Dj(a,i,o)}catch(c){return nl(c instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.fe===0?null:s}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.We.lt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,a)=>{const s=this.st(a);if(s){if(o.current&&$E(s.target)){const c=new Ee(s.target.path);this.Tt(c).has(a)||this.It(a,c)||this.Xe(a,c,Qn.newNoDocument(c,e))}o.Ne&&(n.set(a,o.Le()),o.ke())}});let r=Ke();this.Je.forEach((o,a)=>{let s=!0;a.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ze.forEach((o,a)=>a.setReadTime(e));const i=new Ow(e,n,this.He,this.ze,r);return this.ze=ka(),this.je=_y(),this.Je=_y(),this.He=new Bt(Ue),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new f2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new mn(Ue),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new mn(Ue),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new f2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function _y(){return new Bt(Ee.comparator)}function h2(){return new Bt(Ee.comparator)}const mle={asc:"ASCENDING",desc:"DESCENDING"},gle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yle={and:"AND",or:"OR"};class vle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function FE(t,e){return t.useProto3Json||Aw(e)?e:{value:e}}function yx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xle(t,e){return yx(t,e.toTimestamp())}function Co(t){return ct(!!t,49232),Re.fromTimestamp(function(n){const r=il(n);return new jt(r.seconds,r.nanos)}(t))}function $j(t,e){return VE(t,e).canonicalString()}function VE(t,e){const n=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function l5(t){const e=wt.fromString(t);return ct(h5(e),10190,{key:e.toString()}),e}function BE(t,e){return $j(t.databaseId,e.path)}function u1(t,e){const n=l5(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(u5(n))}function c5(t,e){return $j(t.databaseId,e)}function ble(t){const e=l5(t);return e.length===4?wt.emptyPath():u5(e)}function UE(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u5(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p2(t,e,n){return{name:BE(t,e),fields:n.value.mapValue.fields}}function wle(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ct(d===void 0||typeof d=="string",58123),Dn.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const d=u.code===void 0?Z.UNKNOWN:i5(u.code);return new ge(d,u.message||"")}(a);n=new a5(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=u1(t,r.document.name),o=Co(r.document.updateTime),a=r.document.createTime?Co(r.document.createTime):Re.min(),s=new Er({mapValue:{fields:r.document.fields}}),c=Qn.newFoundDocument(i,o,a,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new xv(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=u1(t,r.document),o=r.readTime?Co(r.readTime):Re.min(),a=Qn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new xv([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=u1(t,r.document),o=r.removedTargetIds||[];n=new xv([],o,i,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new dle(i,o),s=r.targetId;n=new o5(s,a)}}return n}function _le(t,e){let n;if(e instanceof mg)n={update:p2(t,e.key,e.value)};else if(e instanceof Rj)n={delete:BE(t,e.key)};else if(e instanceof bl)n={update:p2(t,e.key,e.data),updateMask:Ile(e.fieldMask)};else{if(!(e instanceof lle))return Ie(16599,{Rt:e.type});n={verify:BE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof nm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof rm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof im)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gx)return{fieldPath:a.field.canonicalString(),increment:s.Ee};throw Ie(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xle(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie(27497)}(t,e.precondition)),n}function Sle(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?Co(i.updateTime):Co(o);return a.isEqual(Re.min())&&(a=Co(o)),new ole(a,i.transformResults||[])}(n,e))):[]}function Ele(t,e){return{documents:[c5(t,e.path)]}}function Tle(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=c5(t,i);const o=function(u){if(u.length!==0)return f5(Zi.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ju(h.field),direction:jle(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=FE(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function Ale(t){let e=ble(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=d5(f);return h instanceof Zi&&B6(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(y){return new tm(Cu(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Aw(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new px(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new px(p,h)}(n.endAt)),Hse(e,i,a,o,s,"F",c,u)}function Ple(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cu(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cu(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zi.create(n.compositeFilter.filters.map(r=>d5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(t):Ie(30097,{filter:t})}function jle(t){return mle[t]}function Cle(t){return gle[t]}function Nle(t){return yle[t]}function ju(t){return{fieldPath:t.canonicalString()}}function Cu(t){return In.fromServerFormat(t.fieldPath)}function f5(t){return t instanceof rn?function(n){if(n.op==="=="){if(t2(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NAN"}};if(e2(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t2(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NOT_NAN"}};if(e2(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(n.field),op:Cle(n.op),value:n.value}}}(t):t instanceof Zi?function(n){const r=n.getFilters().map(i=>f5(i));return r.length===1?r[0]:{compositeFilter:{op:Nle(n.op),filters:r}}}(t):Ie(54877,{filter:t})}function Ile(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i,o=Re.min(),a=Re.min(),s=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(e){this.gt=e}}function Ole(t){const e=Ale({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(){this.Dn=new Mle}addToCollectionParentIndex(e,n){return this.Dn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(rl.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Mle{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mn(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p5=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(p5,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Od(0)}static ur(){return new Od(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="LruGarbageCollector",Dle=1048576;function y2([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class $le{constructor(e){this.Tr=e,this.buffer=new mn(y2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lle{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ye(g2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jf(n)?ye(g2,"Ignoring IndexedDB error during garbage collection: ",n):await Pf(n)}await this.Rr(3e5)})}}class Fle{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Tw.ue);const r=new $le(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(m2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,a,s,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Au()<=qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(c-s)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function Vle(t,e){return new Fle(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(){this.changes=new Yc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cp(r.mutation,i,Kr.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const i=ec();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Vh();return o.forEach((s,c)=>{a=a.insert(s,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ec();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=ka();const a=lp(),s=function(){return lp()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof bl)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),cp(d.mutation,u,d.mutation.getFieldMask(),jt.now())):a.set(u.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return s.set(u,new Ule(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=lp();let i=new Bt((a,s)=>a-s),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Kr.empty();d=s.applyToLocalView(u,d),r.set(c,d);const f=(i.get(s.batchId)||Ke()).add(c);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const c=s.getNext(),u=c.key,d=c.value,f=X6();d.forEach(h=>{if(!o.has(h)){const p=n5(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(ec());let s=Qp,c=o;return a.next(u=>ee.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Ke())).next(d=>({batchId:s,changes:Y6(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Vh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Vh();return this.indexManager.getCollectionParents(e,o).next(s=>ee.forEach(s,c=>{const u=function(f,h){return new Cf(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Qn.newInvalidDocument(d)))});let s=Vh();return a.forEach((c,u)=>{const d=o.get(c);d!==void 0&&cp(d.mutation,u,Kr.empty(),jt.now()),Nw(n,u)&&(s=s.insert(c,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Co(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:Ole(i.bundledQuery),readTime:Co(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(){this.overlays=new Bt(Ee.comparator),this.kr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ec();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=ec(),o=n.length+1,a=new Ee(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const c=s.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Bt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ec(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=ec(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return ee.resolve(s)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ule(n,r));let o=this.kr.get(n);o===void 0&&(o=Ke(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.qr=new mn(bn.Qr),this.$r=new mn(bn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new bn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ee(new wt([])),r=new bn(n,e),i=new bn(n,e+1),o=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),o.push(a.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ee(new wt([])),r=new bn(n,e),i=new bn(n,e+1);let o=Ke();return this.$r.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new bn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ee.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new mn(bn.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cle(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Yr=this.Yr.add(new bn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?jj:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],a=>{const s=this.Zr(a.Hr);o.push(s)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Ue);return n.forEach(i=>{const o=new bn(i,0),a=new bn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,a],s=>{r=r.add(s.Hr)})}),ee.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const a=new bn(new Ee(o),0);let s=new mn(Ue);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(c.Hr)),!0)},a),ee.resolve(this.ei(s))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ct(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ee.forEach(n.mutations,i=>{const o=new bn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new bn(n,0),i=this.Yr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(e){this.ni=e,this.docs=function(){return new Bt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let r=ka();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ka();const a=n.path,s=new Ee(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Sse(_se(d),r)<=0||(i.has(d.key)||Nw(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ie(9500)}ri(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yle(this)}getSize(e){return ee.resolve(this.size)}}class Yle extends Ble{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{constructor(e){this.persistence=e,this.ii=new Yc(n=>Ij(n),kj),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.si=0,this.oi=new Lj,this.targetCount=0,this._i=Od.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ee.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Od(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.hr(n),ee.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ii.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.ai={},this.overlays={},this.ui=new Tw(0),this.ci=!1,this.ci=!0,this.li=new qle,this.referenceDelegate=e(this),this.hi=new Xle(this),this.indexManager=new Rle,this.remoteDocumentCache=function(i){return new Gle(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new kle(n),this.Ti=new Wle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Kle(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const i=new Qle(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return ee.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Qle extends Tse{constructor(e){super(),this.currentSequenceNumber=e}}class Fj{constructor(e){this.persistence=e,this.Ai=new Lj,this.Ri=null}static Vi(e){return new Fj(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,r=>{const i=Ee.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Re.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ee.or([()=>ee.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vx{constructor(e,n){this.persistence=e,this.gi=new Yc(r=>jse(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Vle(this,n)}static Vi(e,n){return new vx(e,n)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ee.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,n).next(s=>{s||(r++,o.removeEntry(a,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gv(e.data.value)),n}Sr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ke(),i=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Vj(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Vre()?8:Ase(tr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new Jle;return this.ws(e,n,a).next(s=>{if(o.result=s,this.Rs)return this.Ss(e,n,a,s.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Au()<=qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Au()<=qe.DEBUG&&ye("QueryEngine","Query:",Pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Au()<=qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jo(n))):ee.resolve())}ps(e,n){if(o2(n))return ee.resolve(null);let r=jo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mx(n,null,"F"),r=jo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ke(...o);return this.gs.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,s);return this.Ds(n,u,a,c.readTime)?this.ps(e,mx(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,i){return o2(n)||i.isEqual(Re.min())?ee.resolve(null):this.gs.getDocuments(e,r).next(o=>{const a=this.bs(n,o);return this.Ds(n,a,r,i)?ee.resolve(null):(Au()<=qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pu(n)),this.vs(e,a,n,wse(i,Qp)).next(s=>s))})}bs(e,n){let r=new mn(K6(e));return n.forEach((i,o)=>{Nw(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Au()<=qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.gs.getDocumentsMatchingQuery(e,n,rl.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="LocalStore",ece=3e8;class tce{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Bt(Ue),this.Ms=new Yc(o=>Ij(o),kj),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zle(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function nce(t,e,n,r){return new tce(t,e,n,r)}async function g5(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let c=Ke();for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:a,addedBatchIds:s}))})})}function rce(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(s,c,u,d){const f=u.batch,h=f.keys();let p=ee.resolve();return h.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(g=>{const v=u.docVersions.get(y);ct(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let c=Ke();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(c=c.add(s.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function y5(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function ice(t,e){const n=$e(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.hi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(o,d.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Dn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=ece?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,d)&&s.push(n.hi.updateTargetData(o,p))});let c=ka(),u=Ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(oce(o,a,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(Re.min())){const d=n.hi.getLastRemoteSnapshotVersion(o).next(f=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return ee.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Fs=i,o))}function oce(t,e,n){let r=Ke(),i=Ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=ka();return n.forEach((s,c)=>{const u=o.get(s);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(s,c.readTime),a=a.insert(s,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(s,c)):ye(Bj,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",c.version)}),{Ls:a,ks:i}})}function ace(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sce(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.hi.allocateTargetId(r).next(a=>(i=new Ns(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function zE(t,e,n){const r=$e(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!jf(a))throw a;ye(Bj,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function v2(t,e,n){const r=$e(t);let i=Re.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=$e(c),h=f.Ms.get(d);return h!==void 0?ee.resolve(f.Fs.get(h)):f.hi.getTargetData(u,d)}(r,a,jo(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,s.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Re.min(),n?o:Ke())).next(s=>(lce(r,Kse(e),s),{documents:s,qs:o})))}function lce(t,e,n){let r=t.xs.get(e)||Re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class x2{constructor(){this.activeTargetIds=Zse()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cce{constructor(){this.Fo=new x2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new x2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="ConnectivityMonitor";class w2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ye(b2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ye(b2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy=null;function WE(){return Sy===null?Sy=function(){return 268435456+Math.round(2147483648*Math.random())}():Sy++,"0x"+Sy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="RestConnection",dce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fce{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===fx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=WE(),s=this.Go(e,n.toUriEncodedString());ye(d1,`Sending RPC '${e}' ${a}:`,s,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);const{host:u}=new URL(s),d=Va(u);return this.jo(e,s,c,r,d).then(f=>(ye(d1,`Received RPC '${e}' ${a}: `,f),f),f=>{throw nl(d1,`RPC '${e}' ${a} failed with error: `,f,"url: ",s,"request:",r),f})}Jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Af}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=dce[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class pce extends fce{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const a=WE();return new Promise((s,c)=>{const u=new x6;u.setWithCredentials(!0),u.listenOnce(b6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mv.NO_ERROR:const f=u.getResponseJson();ye(qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case mv.TIMEOUT:ye(qn,`RPC '${e}' ${a} timed out`),c(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case mv.HTTP_ERROR:const h=u.getStatus();if(ye(qn,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const g=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(w)>=0?w:Z.UNKNOWN}(y.status);c(new ge(g,y.message))}else c(new ge(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{ye(qn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);ye(qn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",d,r,15)})}P_(e,n,r){const i=WE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=S6(),s=_6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");ye(qn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=a.createWebChannel(d,c);this.T_(f);let h=!1,p=!1;const y=new hce({Ho:v=>{p?ye(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ye(qn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ye(qn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Yo:()=>f.close()}),g=(v,x,w)=>{v.listen(x,_=>{try{w(_)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Fh.EventType.OPEN,()=>{p||(ye(qn,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),g(f,Fh.EventType.CLOSE,()=>{p||(p=!0,ye(qn,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(f))}),g(f,Fh.EventType.ERROR,v=>{p||(p=!0,nl(qn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.__(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),g(f,Fh.EventType.MESSAGE,v=>{var x;if(!p){const w=v.data[0];ct(!!w,16349);const _=w,T=(_==null?void 0:_.error)||((x=_[0])===null||x===void 0?void 0:x.error);if(T){ye(qn,`RPC '${e}' stream ${i} received error:`,T);const E=T.status;let P=function(C){const I=Zt[C];if(I!==void 0)return i5(I)}(E),S=T.message;P===void 0&&(P=Z.INTERNAL,S="Unknown error status: "+E+" with message "+T.message),p=!0,y.__(new ge(P,S)),f.close()}else ye(qn,`RPC '${e}' stream ${i} received:`,w),y.a_(w)}}),g(s,w6.STAT_EVENT,v=>{v.stat===kE.PROXY?ye(qn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===kE.NOPROXY&&ye(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function f1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){return new vle(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="PersistentStream";class x5{constructor(e,n,r,i,o,a,s,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new v5(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ia(n.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new ge(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ye(_2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ye(_2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mce extends x5{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=wle(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Re.min():a.readTime?Co(a.readTime):Re.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=UE(this.serializer),n.addTarget=function(o,a){let s;const c=a.target;if(s=$E(c)?{documents:Ele(o,c)}:{query:Tle(o,c).Vt},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=s5(o,a.resumeToken);const u=FE(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(Re.min())>0){s.readTime=yx(o,a.snapshotVersion.toTimestamp());const u=FE(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=Ple(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=UE(this.serializer),n.removeTarget=e,this.k_(n)}}class gce extends x5{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Sle(e.writeResults,e.commitTime),r=Co(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=UE(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_le(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{}class vce extends yce{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,VE(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(Z.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Jo(e,VE(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(Z.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class xce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ia(n),this._a=!1):ye("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="RemoteStore";class bce{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Xc(this)&&(ye(kc,"Restarting streams for network reachability change."),await async function(c){const u=$e(c);u.Ia.add(4),await yg(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Mw(u)}(this))})}),this.Aa=new xce(r,i)}}async function Mw(t){if(Xc(t))for(const e of t.da)await e(!0)}async function yg(t){for(const e of t.da)await e(!1)}function b5(t,e){const n=$e(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Hj(n)?Wj(n):Nf(n).x_()&&zj(n,e))}function Uj(t,e){const n=$e(t),r=Nf(n);n.Ta.delete(e),r.x_()&&w5(n,e),n.Ta.size===0&&(r.x_()?r.B_():Xc(n)&&n.Aa.set("Unknown"))}function zj(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nf(t).H_(e)}function w5(t,e){t.Ra.$e(e),Nf(t).Y_(e)}function Wj(t){t.Ra=new ple({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Nf(t).start(),t.Aa.aa()}function Hj(t){return Xc(t)&&!Nf(t).M_()&&t.Ta.size>0}function Xc(t){return $e(t).Ia.size===0}function _5(t){t.Ra=void 0}async function wce(t){t.Aa.set("Online")}async function _ce(t){t.Ta.forEach((e,n)=>{zj(t,e)})}async function Sce(t,e){_5(t),Hj(t)?(t.Aa.la(e),Wj(t)):t.Aa.set("Unknown")}async function Ece(t,e,n){if(t.Aa.set("Online"),e instanceof a5&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ta.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ta.delete(s),i.Ra.removeTarget(s))}(t,e)}catch(r){ye(kc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xx(t,r)}else if(e instanceof xv?t.Ra.Ye(e):e instanceof o5?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Re.min()))try{const r=await y5(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Ra.Pt(a);return s.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,a))}}),s.targetMismatches.forEach((c,u)=>{const d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(Dn.EMPTY_BYTE_STRING,d.snapshotVersion)),w5(o,c);const f=new Ns(d.target,c,u,d.sequenceNumber);zj(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ye(kc,"Failed to raise snapshot:",r),await xx(t,r)}}async function xx(t,e,n){if(!jf(e))throw e;t.Ia.add(1),await yg(t),t.Aa.set("Offline"),n||(n=()=>y5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(kc,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Mw(t)})}function S5(t,e){return e().catch(n=>xx(t,n,e))}async function Dw(t){const e=$e(t),n=sl(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jj;for(;Tce(e);)try{const i=await ace(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Ace(e,i)}catch(i){await xx(e,i)}E5(e)&&T5(e)}function Tce(t){return Xc(t)&&t.Pa.length<10}function Ace(t,e){t.Pa.push(e);const n=sl(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function E5(t){return Xc(t)&&!sl(t).M_()&&t.Pa.length>0}function T5(t){sl(t).start()}async function Pce(t){sl(t).na()}async function jce(t){const e=sl(t);for(const n of t.Pa)e.X_(n.mutations)}async function Cce(t,e,n){const r=t.Pa.shift(),i=Mj.from(r,e,n);await S5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dw(t)}async function Nce(t,e){e&&sl(t).Z_&&await async function(r,i){if(function(a){return fle(a)&&a!==Z.ABORTED}(i.code)){const o=r.Pa.shift();sl(r).N_(),await S5(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Dw(r)}}(t,e),E5(t)&&T5(t)}async function S2(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),ye(kc,"RemoteStore received new credentials");const r=Xc(n);n.Ia.add(3),await yg(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Mw(n)}async function Ice(t,e){const n=$e(t);e?(n.Ia.delete(2),await Mw(n)):e||(n.Ia.add(2),await yg(n),n.Aa.set("Unknown"))}function Nf(t){return t.Va||(t.Va=function(n,r,i){const o=$e(n);return o.ia(),new mce(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:wce.bind(null,t),e_:_ce.bind(null,t),n_:Sce.bind(null,t),J_:Ece.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Hj(t)?Wj(t):t.Aa.set("Unknown")):(await t.Va.stop(),_5(t))})),t.Va}function sl(t){return t.ma||(t.ma=function(n,r,i){const o=$e(n);return o.ia(),new gce(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Pce.bind(null,t),n_:Nce.bind(null,t),ea:jce.bind(null,t),ta:Cce.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Dw(t)):(await t.ma.stop(),t.Pa.length>0&&(ye(kc,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new qj(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kj(t,e){if(Ia("AsyncQueue",`${e}: ${t}`),jf(t))return new ge(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{static emptySet(e){return new id(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Vh(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof id)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new id;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.fa=new Bt(Ee.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rd{constructor(e,n,r,i,o,a,s,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Rd(e,n,id.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Oce{constructor(){this.queries=T2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=$e(n),o=i.queries;i.queries=T2(),o.forEach((a,s)=>{for(const c of s.wa)c.onError(r)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function T2(){return new Yc(t=>q6(t),Cw)}async function Gj(t,e){const n=$e(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new kce,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Kj(a,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Xj(n)}async function Yj(t,e){const n=$e(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.wa.indexOf(e);a>=0&&(o.wa.splice(a,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rce(t,e){const n=$e(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.wa)s.Ca(i)&&(r=!0);a.ya=i}}r&&Xj(n)}function Mce(t,e,n){const r=$e(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function Xj(t){t.Da.forEach(e=>{e.next()})}var HE,A2;(A2=HE||(HE={})).Fa="default",A2.Cache="cache";class Qj{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Rd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==HE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.key=e}}class P5{constructor(e){this.key=e}}class Dce{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=K6(e),this.eu=new id(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new E2,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=Nw(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),v=!0):this.iu(h,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.Xa(p,c)>0||u&&this.Xa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(s=!0)),v&&(p?(a=a.add(p),o=g?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:a,ru:r,Ds:s,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((d,f)=>function(p,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:v})}};return g(p)-g(y)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const s=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,a.length!==0||u?{snapshot:new Rd(this.query,e.eu,o,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:s}:{_u:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new E2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new P5(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new A5(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Rd.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Jj="SyncEngine";class $ce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lce{constructor(e){this.key=e,this.lu=!1}}class Fce{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Yc(s=>q6(s),Cw),this.Tu=new Map,this.Iu=new Set,this.du=new Bt(Ee.comparator),this.Eu=new Map,this.Au=new Lj,this.Ru={},this.Vu=new Map,this.mu=Od.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Vce(t,e,n=!0){const r=O5(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await j5(r,e,n,!0),i}async function Bce(t,e){const n=O5(t);await j5(n,e,!0,!1)}async function j5(t,e,n,r){const i=await sce(t.localStore,jo(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Uce(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&b5(t.remoteStore,i),s}async function Uce(t,e,n,r,i){t.gu=(f,h,p)=>async function(g,v,x,w){let _=v.view.nu(x);_.Ds&&(_=await v2(g.localStore,v.query,!1).then(({documents:S})=>v.view.nu(S,_)));const T=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(_,g.isPrimaryClient,T,E);return j2(g,v.targetId,P._u),P.snapshot}(t,f,h,p);const o=await v2(t.localStore,e,!0),a=new Dce(e,o.qs),s=a.nu(o.documents),c=gg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,c);j2(t,n,u._u);const d=new $ce(e,n,a);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function zce(t,e,n){const r=$e(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(a=>!Cw(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uj(r.remoteStore,i.targetId),qE(r,i.targetId)}).catch(Pf)):(qE(r,i.targetId),await zE(r.localStore,i.targetId,!0))}async function Wce(t,e){const n=$e(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uj(n.remoteStore,r.targetId))}async function Hce(t,e,n){const r=Jce(t);try{const i=await function(a,s){const c=$e(a),u=jt.now(),d=s.reduce((p,y)=>p.add(y.key),Ke());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=ka(),g=Ke();return c.Os.getEntries(p,d).next(v=>{y=v,y.forEach((x,w)=>{w.isValidDocument()||(g=g.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(v=>{f=v;const x=[];for(const w of s){const _=sle(w,f.get(w.key).overlayedDocument);_!=null&&x.push(new bl(w.key,_,L6(_.value.mapValue),Yi.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,s)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Y6(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,c){let u=a.Ru[a.currentUser.toKey()];u||(u=new Bt(Ue)),u=u.insert(s,c),a.Ru[a.currentUser.toKey()]=u}(r,i.batchId,n),await vg(r,i.changes),await Dw(r.remoteStore)}catch(i){const o=Kj(i,"Failed to persist write");n.reject(o)}}async function C5(t,e){const n=$e(t);try{const r=await ice(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Eu.get(o);a&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?ct(a.lu,14607):i.removedDocuments.size>0&&(ct(a.lu,42227),a.lu=!1))}),await vg(n,r,e)}catch(r){await Pf(r)}}function P2(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const c=$e(a);c.onlineState=s;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.wa)h.va(s)&&(u=!0)}),u&&Xj(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qce(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let a=new Bt(Ee.comparator);a=a.insert(o,Qn.newNoDocument(o,Re.min()));const s=Ke().add(o),c=new Ow(Re.min(),new Map,new Bt(Ue),a,s);await C5(r,c),r.du=r.du.remove(o),r.Eu.delete(e),Zj(r)}else await zE(r.localStore,e,!1).then(()=>qE(r,e,n)).catch(Pf)}async function Kce(t,e){const n=$e(t),r=e.batch.batchId;try{const i=await rce(n.localStore,e);I5(n,r,null),N5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vg(n,i)}catch(i){await Pf(i)}}async function Gce(t,e,n){const r=$e(t);try{const i=await function(a,s){const c=$e(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,s).next(f=>(ct(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);I5(r,e,n),N5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vg(r,i)}catch(i){await Pf(i)}}function N5(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function I5(t,e,n){const r=$e(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function qE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||k5(t,r)})}function k5(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Uj(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Zj(t))}function j2(t,e,n){for(const r of n)r instanceof A5?(t.Au.addReference(r.key,e),Yce(t,r)):r instanceof P5?(ye(Jj,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||k5(t,r.key)):Ie(19791,{yu:r})}function Yce(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ye(Jj,"New document in limbo: "+n),t.Iu.add(r),Zj(t))}function Zj(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ee(wt.fromString(e)),r=t.mu.next();t.Eu.set(r,new Lce(n)),t.du=t.du.insert(n,r),b5(t.remoteStore,new Ns(jo(jw(n.path)),r,"TargetPurposeLimboResolution",Tw.ue))}}async function vg(t,e,n){const r=$e(t),i=[],o=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((s,c)=>{a.push(r.gu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Vj.Es(c.targetId,u);o.push(f)}}))}),await Promise.all(a),r.hu.J_(i),await async function(c,u){const d=$e(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,h=>ee.forEach(h.Is,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ee.forEach(h.ds,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!jf(f))throw f;ye(Bj,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Fs.get(h),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);d.Fs=d.Fs.insert(h,g)}}}(r.localStore,o))}async function Xce(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){ye(Jj,"User change. New user:",e.toKey());const r=await g5(n.localStore,e);n.currentUser=e,function(o,a){o.Vu.forEach(s=>{s.forEach(c=>{c.reject(new ge(Z.CANCELLED,a))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vg(n,r.Bs)}}function Qce(t,e){const n=$e(t),r=n.Eu.get(e);if(r&&r.lu)return Ke().add(r.key);{let i=Ke();const o=n.Tu.get(e);if(!o)return i;for(const a of o){const s=n.Pu.get(a);i=i.unionWith(s.view.tu)}return i}}function O5(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qce.bind(null,e),e.hu.J_=Rce.bind(null,e.eventManager),e.hu.pu=Mce.bind(null,e.eventManager),e}function Jce(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gce.bind(null,e),e}class bx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rw(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return nce(this.persistence,new Zle,e.initialUser,this.serializer)}Du(e){return new m5(Fj.Vi,this.serializer)}bu(e){return new cce}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bx.provider={build:()=>new bx};class Zce extends bx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ct(this.persistence.referenceDelegate instanceof vx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lle(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new m5(r=>vx.Vi(r,n),this.serializer)}}class KE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xce.bind(null,this.syncEngine),await Ice(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oce}()}createDatastore(e){const n=Rw(e.databaseInfo.databaseId),r=function(o){return new pce(o)}(e.databaseInfo);return function(o,a,s,c){return new vce(o,a,s,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new bce(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>P2(this.syncEngine,n,0),function(){return w2.C()?new w2:new uce}())}createSyncEngine(e,n){return function(i,o,a,s,c,u,d){const f=new Fce(i,o,a,s,c,u);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=$e(i);ye(kc,"RemoteStore shutting down."),o.Ia.add(5),await yg(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}KE.provider={build:()=>new KE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ia("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class eue{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yn.UNAUTHENTICATED,this.clientId=Pj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ye(ll,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ye(ll,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kj(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h1(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ll,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await g5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{nl("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ye("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{nl("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function C2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tue(t);ye(ll,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>S2(e.remoteStore,i)),t._onlineComponents=e}async function tue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ll,"Using user provided OfflineComponentProvider");try{await h1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await h1(t,new bx)}}else ye(ll,"Using default OfflineComponentProvider"),await h1(t,new Zce(void 0));return t._offlineComponents}async function R5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ll,"Using user provided OnlineComponentProvider"),await C2(t,t._uninitializedComponentsProvider._online)):(ye(ll,"Using default OnlineComponentProvider"),await C2(t,new KE))),t._onlineComponents}function nue(t){return R5(t).then(e=>e.syncEngine)}async function wx(t){const e=await R5(t),n=e.eventManager;return n.onListen=Vce.bind(null,e.syncEngine),n.onUnlisten=zce.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bce.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wce.bind(null,e.syncEngine),n}function rue(t,e,n={}){const r=new ga;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,c,u){const d=new eC({next:h=>{d.Ou(),a.enqueueAndForget(()=>Yj(o,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Qj(jw(s.path),d,{includeMetadataChanges:!0,ka:!0});return Gj(o,f)}(await wx(t),t.asyncQueue,e,n,r)),r.promise}function iue(t,e,n={}){const r=new ga;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,c,u){const d=new eC({next:h=>{d.Ou(),a.enqueueAndForget(()=>Yj(o,f)),h.fromCache&&c.source==="server"?u.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Qj(s,d,{includeMetadataChanges:!0,ka:!0});return Gj(o,f)}(await wx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="firestore.googleapis.com",I2=!0;class k2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D5,this.ssl=I2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:I2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dle)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $w{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new use;switch(r.type){case"firstParty":return new pse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N2.get(n);r&&(ye("ComponentProvider","Removing Datastore"),N2.delete(n),r.terminate())}(this),Promise.resolve()}}function oue(t,e,n,r={}){var i;t=Qr(t,$w);const o=Va(e),a=t._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(yw(`https://${c}`),vw("Firestore",!0)),a.host!==D5&&a.host!==c&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:o,emulatorOptions:r});if(!el(u,s)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Yn.MOCK_USER;else{d=pU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yn(h)}t._authCredentials=new dse(new T6(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pg(n,Kt._jsonSchema))return new Kt(e,r||null,new Ee(wt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:on("string",Kt._jsonSchemaVersion),referencePath:on("string")};class Ks extends Wa{constructor(e,n,r){super(e,n,jw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Ee(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function wl(t,e,...n){if(t=ut(t),P6("collection","path",e),t instanceof $w){const r=wt.fromString(e,...n);return HR(r),new Ks(t,null,r)}{if(!(t instanceof Kt||t instanceof Ks))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return HR(r),new Ks(t.firestore,null,r)}}function Nt(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Pj.newId()),P6("doc","path",e),t instanceof $w){const r=wt.fromString(e,...n);return WR(r),new Kt(t,null,new Ee(r))}{if(!(t instanceof Kt||t instanceof Ks))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return WR(r),new Kt(t.firestore,t instanceof Ks?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="AsyncQueue";class R2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new v5(this,"async_queue_retry"),this.oc=()=>{const r=f1();r&&ye(O2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=f1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=f1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ga;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!jf(e))throw e;ye(O2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ia("INTERNAL UNHANDLED ERROR: ",M2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=qj.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Ie(47125,{hc:M2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function M2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class cl extends $w{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R2(e),this._firestoreClient=void 0,await e}}}function aue(t,e){const n=typeof t=="object"?t:Ef(),r=typeof t=="string"?t:fx,i=ro(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=dj("firestore");o&&oue(i,...o)}return i}function Lw(t){if(t._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sue(t),t._firestoreClient}function sue(t){var e,n,r;const i=t._freezeSettings(),o=function(s,c,u,d){return new Ise(s,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,M5(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eue(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const c=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(Dn.fromBase64String(e))}catch(n){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pg(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:on("string",hi._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:No._jsonSchemaVersion}}static fromJSON(e){if(pg(e,No._jsonSchema))return new No(e.latitude,e.longitude)}}No._jsonSchemaVersion="firestore/geoPoint/1.0",No._jsonSchema={type:on("string",No._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pg(e,Io._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Io(e.vectorValues);throw new ge(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Io._jsonSchemaVersion="firestore/vectorValue/1.0",Io._jsonSchema={type:on("string",Io._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue=/^__.*__$/;class cue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new mg(e,this.data,n,this.fieldTransforms)}}class $5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:t})}}class tC{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new tC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return _x(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(L5(this.Ec)&&lue.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class uue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rw(e)}Dc(e,n,r,i=!1){return new tC({Ec:e,methodName:n,bc:r,path:In.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nC(t){const e=t._freezeSettings(),n=Rw(t._databaseId);return new uue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function due(t,e,n,r,i,o={}){const a=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);iC("Data must be an object, but it was:",a,r);const s=F5(r,a);let c,u;if(o.merge)c=new Kr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=GE(e,f,n);if(!a.contains(h))throw new ge(Z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);B5(d,h)||d.push(h)}c=new Kr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new cue(new Er(s),c,u)}class Bw extends Vw{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bw}}class rC extends Vw{_toFieldTransform(e){return new rle(e.path,new nm)}isEqual(e){return e instanceof rC}}function fue(t,e,n,r){const i=t.Dc(1,e,n);iC("Data must be an object, but it was:",i,r);const o=[],a=Er.empty();xl(r,(c,u)=>{const d=oC(e,c,n);u=ut(u);const f=i.gc(d);if(u instanceof Bw)o.push(d);else{const h=xg(u,f);h!=null&&(o.push(d),a.set(d,h))}});const s=new Kr(o);return new $5(a,s,i.fieldTransforms)}function hue(t,e,n,r,i,o){const a=t.Dc(1,e,n),s=[GE(e,r,n)],c=[i];if(o.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(GE(e,o[h])),c.push(o[h+1]);const u=[],d=Er.empty();for(let h=s.length-1;h>=0;--h)if(!B5(u,s[h])){const p=s[h];let y=c[h];y=ut(y);const g=a.gc(p);if(y instanceof Bw)u.push(p);else{const v=xg(y,g);v!=null&&(u.push(p),d.set(p,v))}}const f=new Kr(u);return new $5(d,f,a.fieldTransforms)}function pue(t,e,n,r=!1){return xg(n,t.Dc(r?4:3,e))}function xg(t,e){if(V5(t=ut(t)))return iC("Unsupported field value:",e,t),F5(t,e);if(t instanceof Vw)return function(r,i){if(!L5(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let c=xg(s,i.yc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ele(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:yx(i.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yx(i.serializer,o)}}if(r instanceof No)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:s5(i.serializer,r._byteString)};if(r instanceof Kt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$j(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Io)return function(a,s){return{mapValue:{fields:{[D6]:{stringValue:$6},[hx]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw s.wc("VectorValues must only contain numeric values.");return Oj(s.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Ew(r)}`)}(t,e)}function F5(t,e){const n={};return N6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,(r,i)=>{const o=xg(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function V5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof No||t instanceof hi||t instanceof Kt||t instanceof Vw||t instanceof Io)}function iC(t,e,n){if(!V5(n)||!j6(n)){const r=Ew(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function GE(t,e,n){if((e=ut(e))instanceof Fw)return e._internalPath;if(typeof e=="string")return oC(t,e);throw _x("Field path arguments must be of type string or ",t,!1,void 0,n)}const mue=new RegExp("[~\\*/\\[\\]]");function oC(t,e,n){if(e.search(mue)>=0)throw _x(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fw(...e.split("."))._internalPath}catch{throw _x(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _x(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new ge(Z.INVALID_ARGUMENT,s+t+c)}function B5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gue extends U5{data(){return super.data()}}function aC(t,e){return typeof e=="string"?oC(t,e):e instanceof Fw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sC{}class lC extends sC{}function Qc(t,e,...n){let r=[];e instanceof sC&&r.push(e),r=r.concat(n),function(o){const a=o.filter(c=>c instanceof uC).length,s=o.filter(c=>c instanceof cC).length;if(a>1||a>0&&s>0)throw new ge(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cC extends lC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cC(e,n,r)}_apply(e){const n=this._parse(e);return W5(e._query,n),new Wa(e.firestore,e.converter,LE(e._query,n))}_parse(e){const n=nC(e.firestore);return function(o,a,s,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){L2(f,d);const y=[];for(const g of f)y.push($2(c,o,g));h={arrayValue:{values:y}}}else h=$2(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||L2(f,d),h=pue(s,a,f,d==="in"||d==="not-in");return rn.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class uC extends sC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const c of s)W5(a,c),a=LE(a,c)}(e._query,n),new Wa(e.firestore,e.converter,LE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dC extends lC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dC(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tm(o,a)}(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Cf(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Jc(t,e="asc"){const n=e,r=aC("orderBy",t);return dC._create(r,n)}class fC extends lC{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new fC(e,n,r)}_apply(e){return new Wa(e.firestore,e.converter,mx(e._query,this._limit,this._limitType))}}function bg(t){return bse("limit",t),fC._create("limit",t,"F")}function $2(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new ge(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H6(e)&&n.indexOf("/")!==-1)throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!Ee.isDocumentKey(r))throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZR(t,new Ee(r))}if(n instanceof Kt)return ZR(t,n._key);throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ew(n)}.`)}function L2(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W5(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yue{convertValue(e,n="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[hx].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Xt(a.doubleValue));return new Io(o)}convertGeoPoint(e){return new No(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jp(e));default:return null}}convertTimestamp(e){const n=il(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ct(h5(r),9688,{name:e});const i=new Zp(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return i.isEqual(n)||Ia(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mc extends U5{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mc._jsonSchemaVersion="firestore/documentSnapshot/1.0",mc._jsonSchema={type:on("string",mc._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class bv extends mc{data(e={}){return super.data(e)}}class gc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bv(this._firestore,this._userDataWriter,r.key,r,new Uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const c=new bv(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Uh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const c=new bv(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Uh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:xue(s.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){t=Qr(t,Kt);const e=Qr(t.firestore,cl);return rue(Lw(e),t._key).then(n=>q5(e,t,n))}gc._jsonSchemaVersion="firestore/querySnapshot/1.0",gc._jsonSchema={type:on("string",gc._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class hC extends yue{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function pC(t){t=Qr(t,Wa);const e=Qr(t.firestore,cl),n=Lw(e),r=new hC(e);return z5(t._query),iue(n,t._query).then(i=>new gc(e,r,t,i))}function _l(t,e,n){t=Qr(t,Kt);const r=Qr(t.firestore,cl),i=vue(t.converter,e,n);return mC(r,[due(nC(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yi.none())])}function bue(t,e,n,...r){t=Qr(t,Kt);const i=Qr(t.firestore,cl),o=nC(i);let a;return a=typeof(e=ut(e))=="string"||e instanceof Fw?hue(o,"updateDoc",t._key,e,n,r):fue(o,"updateDoc",t._key,e),mC(i,[a.toMutation(t._key,Yi.exists(!0))])}function H5(t){return mC(Qr(t.firestore,cl),[new Rj(t._key,Yi.none())])}function eo(t,...e){var n,r,i;t=ut(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||D2(e[a])||(o=e[a++]);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(D2(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Kt)u=Qr(t.firestore,cl),d=jw(t._key.path),c={next:f=>{e[a]&&e[a](q5(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Qr(t,Wa);u=Qr(f.firestore,cl),d=f._query;const h=new hC(u);c={next:p=>{e[a]&&e[a](new gc(u,h,f,p))},error:e[a+1],complete:e[a+2]},z5(t._query)}return function(h,p,y,g){const v=new eC(g),x=new Qj(p,v,y);return h.asyncQueue.enqueueAndForget(async()=>Gj(await wx(h),x)),()=>{v.Ou(),h.asyncQueue.enqueueAndForget(async()=>Yj(await wx(h),x))}}(Lw(u),d,s,c)}function mC(t,e){return function(r,i){const o=new ga;return r.asyncQueue.enqueueAndForget(async()=>Hce(await nue(r),i,o)),o.promise}(Lw(t),e)}function q5(t,e,n){const r=n.docs.get(e._key),i=new hC(t);return new mc(t,i,e._key,r,new Uh(n.hasPendingWrites,n.fromCache),e.converter)}function ul(){return new rC("serverTimestamp")}(function(e,n=!0){(function(i){Af=i})(Gc),Mr(new mr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new cl(new fse(r.getProvider("auth-internal")),new mse(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(u.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Rn(FR,VR,e),Rn(FR,VR,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="firebasestorage.googleapis.com",G5="storageBucket",wue=2*60*1e3,_ue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends ni{constructor(e,n,r=0){super(p1(e),`Firebase Storage: ${n} (${p1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function p1(t){return"storage/"+t}function gC(){const t="An unknown error occurred, please check the error payload for server response.";return new cn(ln.UNKNOWN,t)}function Sue(t){return new cn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Eue(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(ln.UNAUTHENTICATED,t)}function Tue(){return new cn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Aue(t){return new cn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Pue(){return new cn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jue(){return new cn(ln.CANCELED,"User canceled the upload/download.")}function Cue(t){return new cn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function Nue(t){return new cn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Iue(){return new cn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G5+"' property when initializing the app?")}function kue(){return new cn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Oue(t){return new cn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function YE(t){return new cn(ln.INVALID_ARGUMENT,t)}function Y5(){return new cn(ln.APP_DELETED,"The Firebase app was deleted.")}function Rue(t){return new cn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function up(t,e){return new cn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function mh(t){throw new cn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gr.makeFromUrl(e,n)}catch{return new Gr(e,"")}if(r.path==="")return r;throw Nue(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},g=n===K5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${g}/${i}/${v}`,"i"),_=[{regex:s,indices:c,postModify:o},{regex:p,indices:y,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<_.length;T++){const E=_[T],P=E.regex.exec(e);if(P){const S=P[E.indices.bucket];let A=P[E.indices.path];A||(A=""),r=new Gr(S,A),E.postModify(r);break}}if(r==null)throw Cue(e);return r}}class Mue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function c(){return s===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,c())},v)}function h(){o&&clearTimeout(o)}function p(v,...x){if(u){h();return}if(v){h(),d.call(null,v,...x);return}if(c()||a){h(),d.call(null,v,...x);return}r<64&&(r*=2);let _;s===1?(s=2,_=0):_=(r+Math.random())*1e3,f(_)}let y=!1;function g(v){y||(y=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}function $ue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(t){return t!==void 0}function Fue(t){return typeof t=="object"&&!Array.isArray(t)}function X5(t){return typeof t=="string"||t instanceof String}function F2(t){return yC()&&t instanceof Blob}function yC(){return typeof Blob<"u"}function V2(t,e,n,r){if(r<e)throw YE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Bue(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yc||(yc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(e,n,r,i,o,a,s,c,u,d,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ey(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===yc.NO_ERROR,c=o.getStatus();if(!s||Uue(c,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===yc.ABORT;r(!1,new Ey(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ey(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());Lue(c)?o(c):o()}catch(c){a(c)}else if(s!==null){const c=gC();c.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,c)):a(c)}else if(i.canceled){const c=this.appDelete_?Y5():jue();a(c)}else{const c=Pue();a(c)}};this.canceled_?n(!1,new Ey(!1,null,!0)):this.backoffId_=Due(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$ue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ey{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function que(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Kue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Gue(t,e,n,r,i,o,a=!0,s=!1){const c=Bue(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return que(d,e),Wue(d,n),Hue(d,o),Kue(d,r),new zue(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Xue(...t){const e=Yue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yC())return new Blob(t);throw new cn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Que(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(t){if(typeof atob>"u")throw Oue("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class m1{constructor(e,n){this.data=e,this.contentType=n||null}}function Zue(t,e){switch(t){case bo.RAW:return new m1(Q5(e));case bo.BASE64:case bo.BASE64URL:return new m1(J5(t,e));case bo.DATA_URL:return new m1(tde(e),nde(e))}throw gC()}function Q5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ede(t){let e;try{e=decodeURIComponent(t)}catch{throw up(bo.DATA_URL,"Malformed data URL.")}return Q5(e)}function J5(t,e){switch(t){case bo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw up(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw up(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Jue(e)}catch(i){throw i.message.includes("polyfill")?i:up(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Z5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw up(bo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rde(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tde(t){const e=new Z5(t);return e.base64?J5(bo.BASE64,e.rest):ede(e.rest)}function nde(t){return new Z5(t).contentType}function rde(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let r=0,i="";F2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(F2(this.data_)){const r=this.data_,i=Que(r,e,n);return i===null?null:new ys(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ys(r,!0)}}static getBlob(...e){if(yC()){const n=e.map(r=>r instanceof ys?r.data_:r);return new ys(Xue.apply(null,n))}else{const n=e.map(a=>X5(a)?Zue(bo.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new ys(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ide(t){let e;try{e=JSON.parse(t)}catch{return null}return Fue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ode(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ade(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ez(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(t,e){return e}class ir{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||sde}}let Ty=null;function lde(t){return!X5(t)||t.length<2?t:ez(t)}function cde(){if(Ty)return Ty;const t=[];t.push(new ir("bucket")),t.push(new ir("generation")),t.push(new ir("metageneration")),t.push(new ir("name","fullPath",!0));function e(o,a){return lde(a)}const n=new ir("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new ir("size");return i.xform=r,t.push(i),t.push(new ir("timeCreated")),t.push(new ir("updated")),t.push(new ir("md5Hash",null,!0)),t.push(new ir("cacheControl",null,!0)),t.push(new ir("contentDisposition",null,!0)),t.push(new ir("contentEncoding",null,!0)),t.push(new ir("contentLanguage",null,!0)),t.push(new ir("contentType",null,!0)),t.push(new ir("metadata","customMetadata",!0)),Ty=t,Ty}function ude(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Gr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function dde(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return ude(r,t),r}function fde(t,e,n){const r=ide(e);return r===null?null:dde(t,r,n)}function hde(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class pde{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mde(t){if(!t)throw gC()}function gde(t,e){function n(r,i){const o=fde(t,i,e);return mde(o!==null),o}return n}function yde(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Tue():i=Eue():n.getStatus()===402?i=Sue(t.bucket):n.getStatus()===403?i=Aue(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vde(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xde(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vde(null,e)),r}function bde(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let _="";for(let T=0;T<2;T++)_=_+Math.random().toString().slice(2);return _}const c=s();a["Content-Type"]="multipart/related; boundary="+c;const u=xde(e,r,i),d=hde(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=ys.getBlob(f,r,h);if(p===null)throw kue();const y={name:u.fullPath},g=Vue(o,t.host,t._protocol),v="POST",x=t.maxUploadRetryTime,w=new pde(g,v,gde(t,n),x);return w.urlParams=y,w.headers=a,w.body=p.uploadData(),w.errorHandler=yde(e),w}class wde{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw mh("cannot .send() more than once");if(Va(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _de extends wde{initXhr(){this.xhr_.responseType="text"}}function Sde(){return new _de}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oc(e,n)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ez(this._location.path)}get storage(){return this._service}get parent(){const e=ode(this._location.path);if(e===null)return null;const n=new Gr(this._location.bucket,e);return new Oc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rue(e)}}function Ede(t,e,n){t._throwIfRoot("uploadBytes");const r=bde(t.storage,t._location,cde(),new ys(e,!0),n);return t.storage.makeRequestWithTokens(r,Sde).then(i=>({metadata:i,ref:t}))}function Tde(t,e){const n=ade(t._location.path,e),r=new Gr(t._location.bucket,n);return new Oc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ade(t){return/^[A-Za-z]+:\/\//.test(t)}function Pde(t,e){return new Oc(t,e)}function tz(t,e){if(t instanceof vC){const n=t;if(n._bucket==null)throw Iue();const r=new Oc(n,n._bucket);return e!=null?tz(r,e):r}else return e!==void 0?Tde(t,e):t}function jde(t,e){if(e&&Ade(e)){if(t instanceof vC)return Pde(t,e);throw YE("To use ref(service, url), the first argument must be a Storage instance.")}else return tz(t,e)}function B2(t,e){const n=e==null?void 0:e[G5];return n==null?null:Gr.makeFromBucketSpec(n,t)}function Cde(t,e,n,r={}){t.host=`${e}:${n}`;const i=Va(e);i&&(yw(`https://${t.host}/b`),vw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:pU(o,t.app.options.projectId))}class vC{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=K5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wue,this._maxUploadRetryTime=_ue,this._requests=new Set,i!=null?this._bucket=Gr.makeFromBucketSpec(i,this._host):this._bucket=B2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=B2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Mue(Y5());{const a=Gue(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const U2="@firebase/storage",z2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="storage";function rz(t,e,n){return t=ut(t),Ede(t,e,n)}function iz(t,e){return t=ut(t),jde(t,e)}function Nde(t=Ef(),e){t=ut(t);const r=ro(t,nz).getImmediate({identifier:e}),i=dj("storage");return i&&Ide(r,...i),r}function Ide(t,e,n,r={}){Cde(t,e,n,r)}function kde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vC(n,r,i,e,Gc)}function Ode(){Mr(new mr(nz,kde,"PUBLIC").setMultipleInstances(!0)),Rn(U2,z2,""),Rn(U2,z2,"esm2017")}Ode();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rde="type.googleapis.com/google.protobuf.Int64Value",Mde="type.googleapis.com/google.protobuf.UInt64Value";function oz(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Sx(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Sx(e));if(typeof t=="function"||typeof t=="object")return oz(t,e=>Sx(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Md(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Rde:case Mde:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Md(e)):typeof t=="function"||typeof t=="object"?oz(t,e=>Md(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pr extends ni{constructor(e,n,r){super(`${xC}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Pr.prototype)}}function Dde(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ex(t,e){let n=Dde(t),r=n,i;try{const o=e&&e.error;if(o){const a=o.status;if(typeof a=="string"){if(!W2[a])return new Pr("internal","internal");n=W2[a],r=a}const s=o.message;typeof s=="string"&&(r=s),i=o.details,i!==void 0&&(i=Md(i))}}catch{}return n==="ok"?null:new Pr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ur(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="us-central1",Lde=/^data: (.*?)(?:\n|$)/;function Fde(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Pr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Vde{constructor(e,n,r,i,o=XE,a=(...s)=>fetch(...s)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new $de(e,n,r,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(o);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=XE}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Bde(t,e,n){const r=Va(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(yw(t.emulatorOrigin),vw("Functions",!0))}function Ude(t,e,n){const r=i=>Wde(t,e,i,{});return r.stream=(i,o)=>qde(t,e,i,o),r}async function zde(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}async function az(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function Wde(t,e,n,r){const i=t._url(e);return Hde(t,i,n,r)}async function Hde(t,e,n,r){n=Sx(n);const i={data:n},o=await az(t,r),a=r.timeout||7e4,s=Fde(a),c=await Promise.race([zde(e,i,o,t.fetchImpl),s.promise,t.cancelAllRequests]);if(s.cancel(),!c)throw new Pr("cancelled","Firebase Functions instance was deleted.");const u=Ex(c.status,c.json);if(u)throw u;if(!c.json)throw new Pr("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new Pr("internal","Response is missing data field.");return{data:Md(d)}}function qde(t,e,n,r){const i=t._url(e);return Kde(t,i,n,r||{})}async function Kde(t,e,n,r){var i;n=Sx(n);const o={data:n},a=await az(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let s;try{s=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:a,signal:r==null?void 0:r.signal})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const g=new Pr("cancelled","Request was cancelled.");return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}const y=Ex(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let c,u;const d=new Promise((p,y)=>{c=p,u=y});(i=r==null?void 0:r.signal)===null||i===void 0||i.addEventListener("abort",()=>{const p=new Pr("cancelled","Request was cancelled.");u(p)});const f=s.body.getReader(),h=Gde(f,c,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const p=h.getReader();return{async next(){const{value:y,done:g}=await p.read();return{value:y,done:g}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:d}}function Gde(t,e,n,r){const i=(a,s)=>{const c=a.match(Lde);if(!c)return;const u=c[1];try{const d=JSON.parse(u);if("result"in d){e(Md(d.result));return}if("message"in d){s.enqueue(Md(d.message));return}if("error"in d){const f=Ex(0,d);s.error(f),n(f);return}}catch(d){if(d instanceof Pr){s.error(d),n(d);return}}},o=new TextDecoder;return new ReadableStream({start(a){let s="";return c();async function c(){if(r!=null&&r.aborted){const u=new Pr("cancelled","Request was cancelled");return a.error(u),n(u),Promise.resolve()}try{const{value:u,done:d}=await t.read();if(d){s.trim()&&i(s.trim(),a),a.close();return}if(r!=null&&r.aborted){const h=new Pr("cancelled","Request was cancelled");a.error(h),n(h),await t.cancel();return}s+=o.decode(u,{stream:!0});const f=s.split(`
`);s=f.pop()||"";for(const h of f)h.trim()&&i(h.trim(),a);return c()}catch(u){const d=u instanceof Pr?u:Ex(0,null);a.error(d),n(d)}}},cancel(){return t.cancel()}})}const H2="@firebase/functions",q2="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde="auth-internal",Xde="app-check-internal",Qde="messaging-internal";function Jde(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(Yde),a=n.getProvider(Qde),s=n.getProvider(Xde);return new Vde(i,o,a,s,r)};Mr(new mr(xC,e,"PUBLIC").setMultipleInstances(!0)),Rn(H2,q2,t),Rn(H2,q2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t=Ef(),e=XE){const r=ro(ut(t),xC).getImmediate({identifier:e}),i=dj("functions");return i&&Zde(r,...i),r}function Zde(t,e,n){Bde(ut(t),e,n)}function QE(t,e,n){return Ude(ut(t),e)}Jde();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map,sz={activated:!1,tokenObservers:[]},efe={initialized:!1,enabled:!1};function gn(t){return JE.get(t)||Object.assign({},sz)}function tfe(t,e){return JE.set(t,e),JE.get(t)}function Uw(){return efe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="https://content-firebaseappcheck.googleapis.com/v1",nfe="exchangeRecaptchaEnterpriseToken",rfe="exchangeDebugToken",K2={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ife=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new qp,this.pending.promise.catch(n=>{}),await afe(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new qp,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function afe(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sfe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},jr=new yl("appCheck","AppCheck",sfe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function wC(t){if(!gn(t).activated)throw jr.create("use-before-activation",{appName:t.name})}function cz(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60;let a="";return n&&(a+=Ay(n)+"d:"),r&&(a+=Ay(r)+"h:"),a+=Ay(i)+"m:"+Ay(o)+"s",a}function Ay(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const o={method:"POST",body:JSON.stringify(e),headers:r};let a;try{a=await fetch(t,o)}catch(f){throw jr.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(a.status!==200)throw jr.create("fetch-status-error",{httpStatus:a.status});let s;try{s=await a.json()}catch(f){throw jr.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const c=s.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const u=Number(c[1])*1e3,d=Date.now();return{token:s.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}}function lfe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lz}/projects/${n}/apps/${r}:${nfe}?key=${i}`,body:{recaptcha_enterprise_token:e}}}function uz(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lz}/projects/${n}/apps/${r}:${rfe}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cfe="firebase-app-check-database",ufe=1,om="firebase-app-check-store",dz="debug-token";let Py=null;function fz(){return Py||(Py=new Promise((t,e)=>{try{const n=indexedDB.open(cfe,ufe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(om,{keyPath:"compositeKey"})}}}catch(n){e(jr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Py)}function dfe(t){return pz(mz(t))}function ffe(t,e){return hz(mz(t),e)}function hfe(t){return hz(dz,t)}function pfe(){return pz(dz)}async function hz(t,e){const r=(await fz()).transaction(om,"readwrite"),o=r.objectStore(om).put({compositeKey:t,value:e});return new Promise((a,s)=>{o.onsuccess=c=>{a()},r.onerror=c=>{var u;s(jr.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})}async function pz(t){const n=(await fz()).transaction(om,"readonly"),i=n.objectStore(om).get(t);return new Promise((o,a)=>{i.onsuccess=s=>{const c=s.target.result;o(c?c.value:void 0)},n.onerror=s=>{var c;a(jr.create("storage-get",{originalErrorMessage:(c=s.target.error)===null||c===void 0?void 0:c.message}))}})}function mz(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new sg("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mfe(t){if(og()){let e;try{e=await dfe(t)}catch(n){Is.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function g1(t,e){return og()?ffe(t,e).catch(n=>{Is.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function gfe(){let t;try{t=await pfe()}catch{}if(t)return t;{const e=crypto.randomUUID();return hfe(e).catch(n=>Is.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return Uw().enabled}async function EC(){const t=Uw();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function yfe(){const t=uU(),e=Uw();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new qp;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(gfe())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vfe={error:"UNKNOWN_ERROR"};function xfe(t){return uj.encodeString(JSON.stringify(t),!1)}async function ZE(t,e=!1,n=!1){const r=t.app;wC(r);const i=gn(r);let o=i.token,a;if(o&&!zu(o)&&(i.token=void 0,o=void 0),!o){const u=await i.cachedTokenPromise;u&&(zu(u)?o=u:await g1(r,void 0))}if(!e&&o&&zu(o))return{token:o.token};let s=!1;if(SC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=_C(uz(r,await EC()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const u=await i.exchangeTokenPromise;return await g1(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Is.warn(u.message):n&&Is.error(u),y1(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),o=await gn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Is.warn(u.message):n&&Is.error(u),a=u}let c;return o?a?zu(o)?c={token:o.token,internalError:a}:c=y1(a):(c={token:o.token},i.token=o,await g1(r,o)):c=y1(a),s&&vz(r,c),c}async function bfe(t){const e=t.app;wC(e);const{provider:n}=gn(e);if(SC()){const r=await EC(),{token:i}=await _C(uz(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function gz(t,e,n,r){const{app:i}=t,o=gn(i),a={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&zu(o.token)){const s=o.token;Promise.resolve().then(()=>{n({token:s.token}),Y2(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Y2(t))}function yz(t,e){const n=gn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Y2(t){const{app:e}=t,n=gn(e);let r=n.tokenRefresher;r||(r=wfe(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wfe(t){const{app:e}=t;return new ofe(async()=>{const n=gn(e);let r;if(n.token?r=await ZE(t,!0):r=await ZE(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=gn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},K2.RETRIAL_MIN_WAIT,K2.RETRIAL_MAX_WAIT)}function vz(t,e){const n=gn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function zu(t){return t.expireTimeMillis-Date.now()>0}function y1(t){return{token:xfe(vfe),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=gn(this.app);for(const n of e)yz(this.app,n.next);return Promise.resolve()}}function Sfe(t,e){return new _fe(t,e)}function Efe(t){return{getToken:e=>ZE(t,e),getLimitedUseToken:()=>bfe(t),addTokenListener:e=>gz(t,"INTERNAL",e),removeTokenListener:e=>yz(t.app,e)}}const Tfe="@firebase/app-check",Afe="0.10.1",Pfe="https://www.google.com/recaptcha/enterprise.js";function jfe(t,e){const n=new qp,r=gn(t);r.reCAPTCHAState={initialized:n};const i=Cfe(t),o=G2(!0);return o?X2(t,e,o,i,n):kfe(()=>{const a=G2(!0);if(!a)throw new Error("no recaptcha");X2(t,e,a,i,n)}),n.promise}function X2(t,e,n,r,i){n.ready(()=>{Ife(t,e,n,r),i.resolve(n)})}function Cfe(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function Nfe(t){wC(t);const n=await gn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=gn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function Ife(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{gn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{gn(t).reCAPTCHAState.succeeded=!1}}),o=gn(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function kfe(t){const e=document.createElement("script");e.src=Pfe,e.onload=t,document.head.appendChild(e)}class TC{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;Rfe(this._throttleData);const i=await Nfe(this._app).catch(a=>{throw jr.create("recaptcha-error")});if(!(!((e=gn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw jr.create("recaptcha-error");let o;try{o=await _C(lfe(this._app,i),this._heartbeatServiceProvider)}catch(a){throw!((n=a.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Ofe(Number((r=a.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),jr.create("initial-throttle",{time:cz(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):a}return this._throttleData=null,o}initialize(e){this._app=e,this._heartbeatServiceProvider=ro(e,"heartbeat"),jfe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof TC?this._siteKey===e._siteKey:!1}}function Ofe(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+ife,httpStatus:t};{const n=e?e.backoffCount:0,r=_E(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function Rfe(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw jr.create("throttled",{time:cz(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mfe(t=Ef(),e){t=ut(t);const n=ro(t,"app-check");if(Uw().initialized||yfe(),SC()&&EC().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw jr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return Dfe(t,e.provider,e.isTokenAutoRefreshEnabled),gn(t).isTokenAutoRefreshEnabled&&gz(r,"INTERNAL",()=>{}),r}function Dfe(t,e,n=!1){const r=tfe(t,Object.assign({},sz));r.activated=!0,r.provider=e,r.cachedTokenPromise=mfe(t).then(i=>(i&&zu(i)&&(r.token=i,vz(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&n&&Is.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(t)}const $fe="app-check",Q2="app-check-internal";function Lfe(){Mr(new mr($fe,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Sfe(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Q2).initialize()})),Mr(new mr(Q2,t=>{const e=t.getProvider("app-check").getImmediate();return Efe(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Rn(Tfe,Afe)}Lfe();const xz="@firebase/installations",AC="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=1e4,wz=`w:${AC}`,_z="FIS_v2",Ffe="https://firebaseinstallations.googleapis.com/v1",Vfe=60*60*1e3,Bfe="installations",Ufe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rc=new yl(Bfe,Ufe,zfe);function Sz(t){return t instanceof ni&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez({projectId:t}){return`${Ffe}/projects/${t}/installations`}function Tz(t){return{token:t.token,requestStatus:2,expiresIn:Hfe(t.expiresIn),creationTime:Date.now()}}async function Az(t,e){const r=(await e.json()).error;return Rc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Pz({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Wfe(t,{refreshToken:e}){const n=Pz(t);return n.append("Authorization",qfe(e)),n}async function jz(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Hfe(t){return Number(t.replace("s","000"))}function qfe(t){return`${_z} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kfe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ez(t),i=Pz(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:_z,appId:t.appId,sdkVersion:wz},s={method:"POST",headers:i,body:JSON.stringify(a)},c=await jz(()=>fetch(r,s));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Tz(u.authToken)}}else throw await Az("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe=/^[cdef][\w-]{21}$/,eT="";function Xfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Qfe(t);return Yfe.test(n)?n:eT}catch{return eT}}function Qfe(t){return Gfe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=new Map;function Iz(t,e){const n=zw(t);kz(n,e),Jfe(n,e)}function kz(t,e){const n=Nz.get(t);if(n)for(const r of n)r(e)}function Jfe(t,e){const n=Zfe();n&&n.postMessage({key:t,fid:e}),ehe()}let tc=null;function Zfe(){return!tc&&"BroadcastChannel"in self&&(tc=new BroadcastChannel("[Firebase] FID Change"),tc.onmessage=t=>{kz(t.data.key,t.data.fid)}),tc}function ehe(){Nz.size===0&&tc&&(tc.close(),tc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const the="firebase-installations-database",nhe=1,Mc="firebase-installations-store";let v1=null;function PC(){return v1||(v1=vU(the,nhe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mc)}}})),v1}async function Tx(t,e){const n=zw(t),i=(await PC()).transaction(Mc,"readwrite"),o=i.objectStore(Mc),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&Iz(t,e.fid),e}async function Oz(t){const e=zw(t),r=(await PC()).transaction(Mc,"readwrite");await r.objectStore(Mc).delete(e),await r.done}async function Ww(t,e){const n=zw(t),i=(await PC()).transaction(Mc,"readwrite"),o=i.objectStore(Mc),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&Iz(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t){let e;const n=await Ww(t.appConfig,r=>{const i=rhe(r),o=ihe(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===eT?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function rhe(t){const e=t||{fid:Xfe(),registrationStatus:0};return Rz(e)}function ihe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ohe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ahe(t)}:{installationEntry:e}}async function ohe(t,e){try{const n=await Kfe(t,e);return Tx(t.appConfig,n)}catch(n){throw Sz(n)&&n.customData.serverCode===409?await Oz(t.appConfig):await Tx(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ahe(t){let e=await J2(t.appConfig);for(;e.registrationStatus===1;)await Cz(100),e=await J2(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jC(t);return r||n}return e}function J2(t){return Ww(t,e=>{if(!e)throw Rc.create("installation-not-found");return Rz(e)})}function Rz(t){return she(t)?{fid:t.fid,registrationStatus:0}:t}function she(t){return t.registrationStatus===1&&t.registrationTime+bz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lhe({appConfig:t,heartbeatServiceProvider:e},n){const r=che(t,n),i=Wfe(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:wz,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},c=await jz(()=>fetch(r,s));if(c.ok){const u=await c.json();return Tz(u)}else throw await Az("Generate Auth Token",c)}function che(t,{fid:e}){return`${Ez(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e=!1){let n;const r=await Ww(t.appConfig,o=>{if(!Mz(o))throw Rc.create("not-registered");const a=o.authToken;if(!e&&fhe(a))return o;if(a.requestStatus===1)return n=uhe(t,e),o;{if(!navigator.onLine)throw Rc.create("app-offline");const s=phe(o);return n=dhe(t,s),s}});return n?await n:r.authToken}async function uhe(t,e){let n=await Z2(t.appConfig);for(;n.authToken.requestStatus===1;)await Cz(100),n=await Z2(t.appConfig);const r=n.authToken;return r.requestStatus===0?CC(t,e):r}function Z2(t){return Ww(t,e=>{if(!Mz(e))throw Rc.create("not-registered");const n=e.authToken;return mhe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function dhe(t,e){try{const n=await lhe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Tx(t.appConfig,r),n}catch(n){if(Sz(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Oz(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tx(t.appConfig,r)}throw n}}function Mz(t){return t!==void 0&&t.registrationStatus===2}function fhe(t){return t.requestStatus===2&&!hhe(t)}function hhe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Vfe}function phe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function mhe(t){return t.requestStatus===1&&t.requestTime+bz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ghe(t){const e=t,{installationEntry:n,registrationPromise:r}=await jC(e);return r?r.catch(console.error):CC(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yhe(t,e=!1){const n=t;return await vhe(n),(await CC(n,e)).token}async function vhe(t){const{registrationPromise:e}=await jC(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(t){if(!t||!t.options)throw x1("App Configuration");if(!t.name)throw x1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw x1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function x1(t){return Rc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="installations",bhe="installations-internal",whe=t=>{const e=t.getProvider("app").getImmediate(),n=xhe(e),r=ro(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_he=t=>{const e=t.getProvider("app").getImmediate(),n=ro(e,Dz).getImmediate();return{getId:()=>ghe(n),getToken:i=>yhe(n,i)}};function She(){Mr(new mr(Dz,whe,"PUBLIC")),Mr(new mr(bhe,_he,"PRIVATE"))}She();Rn(xz,AC);Rn(xz,AC,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="analytics",Ehe="firebase_id",The="origin",Ahe=60*1e3,Phe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NC="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new sg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jr=new yl("analytics","Analytics",jhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(t){if(!t.startsWith(NC)){const e=Jr.create("invalid-gtag-resource",{gtagURL:t});return Or.warn(e.message),""}return t}function $z(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Nhe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Ihe(t,e){const n=Nhe("firebase-js-sdk-policy",{createScriptURL:Che}),r=document.createElement("script"),i=`${NC}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function khe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ohe(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const c=(await $z(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(s){Or.error(s)}t("config",i,o)}async function Rhe(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await $z(n);for(const c of a){const u=s.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Or.error(o)}}function Mhe(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,c]=a;await Rhe(t,e,n,s,c)}else if(o==="config"){const[s,c]=a;await Ohe(t,e,n,r,s,c)}else if(o==="consent"){const[s,c]=a;t("consent",s,c)}else if(o==="get"){const[s,c,u]=a;t("get",s,c,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){Or.error(s)}}return i}function Dhe(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Mhe(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function $he(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(NC)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=30,Fhe=1e3;class Vhe{constructor(e={},n=Fhe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Lz=new Vhe;function Bhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Uhe(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bhe(r)},o=Phe.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(s=c.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function zhe(t,e=Lz,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Jr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Jr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new qhe;return setTimeout(async()=>{s.abort()},Ahe),Fz({appId:r,apiKey:i,measurementId:o},a,s,e)}async function Fz(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Lz){var o;const{appId:a,measurementId:s}=t;try{await Whe(r,e)}catch(c){if(s)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw c}try{const c=await Uhe(t);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!Hhe(u)){if(i.deleteThrottleMetadata(a),s)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw c}const d=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?_E(n,i.intervalMillis,Lhe):_E(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,f),Or.debug(`Calling attemptFetch again in ${d} millis`),Fz(t,f,r,i)}}function Whe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hhe(t){if(!(t instanceof ni)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class qhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Khe(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ghe(){if(og())try{await hj()}catch(t){return Or.warn(Jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Or.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Yhe(t,e,n,r,i,o,a){var s;const c=zhe(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Or.error(p)),e.push(c);const u=Ghe().then(p=>{if(p)return r.getId()}),[d,f]=await Promise.all([c,u]);$he(o)||Ihe(o,d.measurementId),i("js",new Date);const h=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return h[The]="firebase",h.update=!0,f!=null&&(h[Ehe]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e){this.app=e}_delete(){return delete dp[this.app.options.appId],Promise.resolve()}}let dp={},eM=[];const tM={};let b1="dataLayer",Qhe="gtag",nM,Vz,rM=!1;function Jhe(){const t=[];if(fj()&&t.push("This is a browser extension environment."),mU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});Or.warn(n.message)}}function Zhe(t,e,n){Jhe();const r=t.options.appId;if(!r)throw Jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jr.create("no-api-key");if(dp[r]!=null)throw Jr.create("already-exists",{id:r});if(!rM){khe(b1);const{wrappedGtag:o,gtagCore:a}=Dhe(dp,eM,tM,b1,Qhe);Vz=o,nM=a,rM=!0}return dp[r]=Yhe(t,eM,tM,e,nM,b1,n),new Xhe(t)}function epe(t=Ef()){t=ut(t);const e=ro(t,Ax);return e.isInitialized()?e.getImmediate():tpe(t)}function tpe(t,e={}){const n=ro(t,Ax);if(n.isInitialized()){const i=n.getImmediate();if(el(e,n.getOptions()))return i;throw Jr.create("already-initialized")}return n.initialize({options:e})}async function npe(){if(fj()||!mU()||!og())return!1;try{return await hj()}catch{return!1}}function rpe(t,e,n,r){t=ut(t),Khe(Vz,dp[t.app.options.appId],e,n,r).catch(i=>Or.error(i))}const iM="@firebase/analytics",oM="0.10.17";function ipe(){Mr(new mr(Ax,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Zhe(r,i,n)},"PUBLIC")),Mr(new mr("analytics-internal",t,"PRIVATE")),Rn(iM,oM),Rn(iM,oM,"esm2017");function t(e){try{const n=e.getProvider(Ax).getImmediate();return{logEvent:(r,i,o)=>rpe(n,r,i,o)}}catch(n){throw Jr.create("interop-component-reg-failed",{reason:n})}}}ipe();const ope={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APPLE_AUTH_ENABLED:"false",VITE_DEMO_MODE:"false",VITE_FOOD_BARCODE_ENABLED:"true",VITE_FOOD_SEARCH_ENABLED:"true",VITE_FUNCTIONS_URL:"https://us-central1-mybodyscan-f3daf.cloudfunctions.net",VITE_RECAPTCHA_V3_SITE_KEY:"REPLACE_ME",VITE_SCANS_STUB:"true"};function ape(){{const t=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];for(const e of t)if(!ope[e])throw new Error(`Missing env var ${e}`)}}const spe={};ape();const uo=spe,Bz={apiKey:uo.VITE_FIREBASE_API_KEY,authDomain:uo.VITE_FIREBASE_AUTH_DOMAIN,projectId:uo.VITE_FIREBASE_PROJECT_ID,storageBucket:uo.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:uo.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:uo.VITE_FIREBASE_APP_ID,...uo.VITE_FIREBASE_MEASUREMENT_ID?{measurementId:uo.VITE_FIREBASE_MEASUREMENT_ID}:{}},dl=gR().length?gR()[0]:xU(Bz),Be=hg(dl),nt=aue(dl),Uz=Nde(dl);bC(dl,"us-central1");let aM=!1;const sM=uo.VITE_APPCHECK_SITE_KEY;typeof window<"u"&&(sM?Mfe(dl,{provider:new TC(sM),isTokenAutoRefreshEnabled:!0}):aM||(aM=!0,console.warn("App Check site key missing; requests are not protected. See README to enable.")),uo.VITE_FIREBASE_MEASUREMENT_ID&&(location.protocol==="https:"||location.hostname==="localhost")&&npe().then(t=>{if(t)try{epe(dl)}catch(e){console.warn("Analytics init failed",e)}}).catch(()=>{}));async function lpe(){await t6(Be,_j)}function wg(){const[t,e]=b.useState(Be.currentUser),[n,r]=b.useState(!0);return b.useEffect(()=>{const i=Tf(Be,o=>{e(o),r(!1)});return()=>i()},[]),{user:t,loading:n}}async function lM(){await wj(Be),window.location.href="/auth"}function cpe(){const t=new vo;return p6(Be,t)}async function upe(t,e,n){const r=Be.currentUser,i=vl.credential(t,e);return r!=null&&r.isAnonymous?(await XU(r,i)).user:(await ZU(Be,t,e)).user}function dpe(t,e){return e6(Be,t,e)}function fpe(t){return JU(Be,t)}function tT(){return wj(Be)}function It(){if(typeof window>"u")return!1;const t=window.localStorage.getItem("mbs_demo_guest");return t==="1"}function hpe(){typeof window<"u"&&(window.localStorage.setItem("mbs_demo_guest","1"),Jb(()=>Promise.resolve().then(()=>Nye),void 0).then(t=>t.track("demo_enter")).catch(()=>{}))}function Ye({children:t}){const{user:e,loading:n}=wg();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-muted border-t-primary animate-spin","aria-label":"Loading"})}):!e&&!It()?l.jsx(Yt,{to:"/auth",replace:!0,state:{from:window.location.pathname}}):l.jsx(l.Fragment,{children:t})}function ppe({children:t}){const[e,n]=b.useState(void 0);return b.useEffect(()=>{const r=Tf(Be,i=>{n(i)});return()=>r()},[]),e===void 0?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-muted border-t-primary animate-spin"})}):l.jsx(l.Fragment,{children:t})}function mpe(){const[t,e]=b.useState(!0),[n,r]=b.useState(!1);return b.useEffect(()=>{const i=Tf(Be,async o=>{var a,s;if(!o){r(!1),e(!1);return}try{const c=await ya(Nt(nt,"users",o.uid)),u=c.exists()&&((s=(a=c.data())==null?void 0:a.onboarding)==null?void 0:s.complete)===!0;r(!u)}catch{r(!1)}e(!1)});return()=>i()},[]),{loading:t,needs:n}}function gpe({children:t}){const{loading:e,needs:n}=mpe(),r=no();return e?t:n&&r.pathname!=="/onboarding"?l.jsx(Yt,{to:"/onboarding",replace:!0}):t}var w1="focusScope.autoFocusOnMount",_1="focusScope.autoFocusOnUnmount",cM={bubbles:!1,cancelable:!0},ype="FocusScope",Hw=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,c]=b.useState(null),u=pr(i),d=pr(o),f=b.useRef(null),h=Qe(e,g=>c(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(_){if(p.paused||!s)return;const T=_.target;s.contains(T)?f.current=T:cs(f.current,{select:!0})},v=function(_){if(p.paused||!s)return;const T=_.relatedTarget;T!==null&&(s.contains(T)||cs(f.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&cs(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,s,p.paused]),b.useEffect(()=>{if(s){dM.add(p);const g=document.activeElement;if(!s.contains(g)){const x=new CustomEvent(w1,cM);s.addEventListener(w1,u),s.dispatchEvent(x),x.defaultPrevented||(vpe(Spe(zz(s)),{select:!0}),document.activeElement===g&&cs(s))}return()=>{s.removeEventListener(w1,u),setTimeout(()=>{const x=new CustomEvent(_1,cM);s.addEventListener(_1,d),s.dispatchEvent(x),x.defaultPrevented||cs(g??document.body,{select:!0}),s.removeEventListener(_1,d),dM.remove(p)},0)}}},[s,u,d,p]);const y=b.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[_,T]=xpe(w);_&&T?!g.shiftKey&&x===T?(g.preventDefault(),n&&cs(_,{select:!0})):g.shiftKey&&x===_&&(g.preventDefault(),n&&cs(T,{select:!0})):x===w&&g.preventDefault()}},[n,r,p.paused]);return l.jsx(_e.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});Hw.displayName=ype;function vpe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(cs(r,{select:e}),document.activeElement!==n)return}function xpe(t){const e=zz(t),n=uM(e,t),r=uM(e.reverse(),t);return[n,r]}function zz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uM(t,e){for(const n of t)if(!bpe(n,{upTo:e}))return n}function bpe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wpe(t){return t instanceof HTMLInputElement&&"select"in t}function cs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wpe(t)&&e&&t.select()}}var dM=_pe();function _pe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fM(t,e),t.unshift(e)},remove(e){var n;t=fM(t,e),(n=t[0])==null||n.resume()}}}function fM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Spe(t){return t.filter(e=>e.tagName!=="A")}var S1=0;function IC(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hM()),document.body.insertAdjacentElement("beforeend",t[1]??hM()),S1++,()=>{S1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),S1--}},[])}function hM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wv="right-scroll-bar-position",_v="width-before-scroll-bar",Epe="with-scroll-bars-hidden",Tpe="--removed-body-scroll-bar-size";function E1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ape(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ppe=typeof window<"u"?b.useLayoutEffect:b.useEffect,pM=new WeakMap;function jpe(t,e){var n=Ape(null,function(r){return t.forEach(function(i){return E1(i,r)})});return Ppe(function(){var r=pM.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||E1(s,null)}),o.forEach(function(s){i.has(s)||E1(s,a)})}pM.set(n,t)},[t]),n}function Cpe(t){return t}function Npe(t,e){e===void 0&&(e=Cpe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function Ipe(t){t===void 0&&(t={});var e=Npe(null);return e.options=yo({async:!0,ssr:!1},t),e}var Wz=function(t){var e=t.sideCar,n=lg(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,yo({},n))};Wz.isSideCarExport=!0;function kpe(t,e){return t.useMedium(e),Wz}var Hz=Ipe(),T1=function(){},qw=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:T1,onWheelCapture:T1,onTouchMoveCapture:T1}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,y=t.noIsolation,g=t.inert,v=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,_=t.gapMode,T=lg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,P=jpe([n,e]),S=yo(yo({},T),i);return b.createElement(b.Fragment,null,d&&b.createElement(E,{sideCar:Hz,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:_}),a?b.cloneElement(b.Children.only(s),yo(yo({},S),{ref:P})):b.createElement(w,yo({},S,{className:c,ref:P}),s))});qw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qw.classNames={fullWidth:_v,zeroRight:wv};var Ope=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rpe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ope();return e&&t.setAttribute("nonce",e),t}function Mpe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Dpe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $pe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Rpe())&&(Mpe(e,n),Dpe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Lpe=function(){var t=$pe();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qz=function(){var t=Lpe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Fpe={left:0,top:0,right:0,gap:0},A1=function(t){return parseInt(t||"",10)||0},Vpe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[A1(n),A1(r),A1(i)]},Bpe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fpe;var e=Vpe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Upe=qz(),od="data-scroll-locked",zpe=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Epe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wv,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(_v,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(wv," .").concat(wv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_v," .").concat(_v,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(od,`] {
    `).concat(Tpe,": ").concat(s,`px;
  }
`)},mM=function(){var t=parseInt(document.body.getAttribute(od)||"0",10);return isFinite(t)?t:0},Wpe=function(){b.useEffect(function(){return document.body.setAttribute(od,(mM()+1).toString()),function(){var t=mM()-1;t<=0?document.body.removeAttribute(od):document.body.setAttribute(od,t.toString())}},[])},Hpe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Wpe();var o=b.useMemo(function(){return Bpe(i)},[i]);return b.createElement(Upe,{styles:zpe(o,!e,i,n?"":"!important")})},nT=!1;if(typeof window<"u")try{var jy=Object.defineProperty({},"passive",{get:function(){return nT=!0,!0}});window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{nT=!1}var vu=nT?{passive:!1}:!1,qpe=function(t){return t.tagName==="TEXTAREA"},Kz=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qpe(t)&&n[e]==="visible")},Kpe=function(t){return Kz(t,"overflowY")},Gpe=function(t){return Kz(t,"overflowX")},gM=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Gz(t,r);if(i){var o=Yz(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ype=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Xpe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Gz=function(t,e){return t==="v"?Kpe(e):Gpe(e)},Yz=function(t,e){return t==="v"?Ype(e):Xpe(e)},Qpe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Jpe=function(t,e,n,r,i){var o=Qpe(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,c=e.contains(s),u=!1,d=a>0,f=0,h=0;do{if(!s)break;var p=Yz(t,s),y=p[0],g=p[1],v=p[2],x=g-v-o*y;(y||x)&&Gz(t,s)&&(f+=x,h+=y);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Cy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yM=function(t){return[t.deltaX,t.deltaY]},vM=function(t){return t&&"current"in t?t.current:t},Zpe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eme=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tme=0,xu=[];function nme(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(tme++)[0],o=b.useState(qz)[0],a=b.useRef(t);b.useEffect(function(){a.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=soe([t.lockRef.current],(t.shards||[]).map(vM),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=Cy(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-x[0],T="deltaY"in g?g.deltaY:w[1]-x[1],E,P=g.target,S=Math.abs(_)>Math.abs(T)?"h":"v";if("touches"in g&&S==="h"&&P.type==="range")return!1;var A=gM(S,P);if(!A)return!0;if(A?E=S:(E=S==="v"?"h":"v",A=gM(S,P)),!A)return!1;if(!r.current&&"changedTouches"in g&&(_||T)&&(r.current=E),!E)return!0;var C=r.current||E;return Jpe(C,v,g,C==="h"?_:T)},[]),c=b.useCallback(function(g){var v=g;if(!(!xu.length||xu[xu.length-1]!==o)){var x="deltaY"in v?yM(v):Cy(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&Zpe(E.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(a.current.shards||[]).map(vM).filter(Boolean).filter(function(E){return E.contains(v.target)}),T=_.length>0?s(v,_[0]):!a.current.noIsolation;T&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,w){var _={name:g,delta:v,target:x,should:w,shadowParent:rme(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(T){return T!==_})},1)},[]),d=b.useCallback(function(g){n.current=Cy(g),r.current=void 0},[]),f=b.useCallback(function(g){u(g.type,yM(g),g.target,s(g,t.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,Cy(g),g.target,s(g,t.lockRef.current))},[]);b.useEffect(function(){return xu.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,vu),document.addEventListener("touchmove",c,vu),document.addEventListener("touchstart",d,vu),function(){xu=xu.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,vu),document.removeEventListener("touchmove",c,vu),document.removeEventListener("touchstart",d,vu)}},[]);var p=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(o,{styles:eme(i)}):null,p?b.createElement(Hpe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function rme(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ime=kpe(Hz,nme);var Kw=b.forwardRef(function(t,e){return b.createElement(qw,yo({},t,{ref:e,sideCar:ime}))});Kw.classNames=qw.classNames;var ome=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bu=new WeakMap,Ny=new WeakMap,Iy={},P1=0,Xz=function(t){return t&&(t.host||Xz(t.parentNode))},ame=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Xz(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sme=function(t,e,n,r){var i=ame(e,Array.isArray(t)?t:[t]);Iy[n]||(Iy[n]=new WeakMap);var o=Iy[n],a=[],s=new Set,c=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",g=(bu.get(h)||0)+1,v=(o.get(h)||0)+1;bu.set(h,g),o.set(h,v),a.push(h),g===1&&y&&Ny.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),s.clear(),P1++,function(){a.forEach(function(f){var h=bu.get(f)-1,p=o.get(f)-1;bu.set(f,h),o.set(f,p),h||(Ny.has(f)||f.removeAttribute(r),Ny.delete(f)),p||f.removeAttribute(n)}),P1--,P1||(bu=new WeakMap,bu=new WeakMap,Ny=new WeakMap,Iy={})}},kC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ome(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sme(r,i,n,"aria-hidden")):function(){return null}},Gw="Dialog",[Qz]=Dr(Gw),[lme,io]=Qz(Gw),Jz=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=b.useRef(null),c=b.useRef(null),[u,d]=Aa({prop:r,defaultProp:i??!1,onChange:o,caller:Gw});return l.jsx(lme,{scope:e,triggerRef:s,contentRef:c,contentId:To(),titleId:To(),descriptionId:To(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};Jz.displayName=Gw;var Zz="DialogTrigger",e9=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=io(Zz,n),o=Qe(e,i.triggerRef);return l.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":MC(i.open),...r,ref:o,onClick:pe(t.onClick,i.onOpenToggle)})});e9.displayName=Zz;var OC="DialogPortal",[cme,t9]=Qz(OC,{forceMount:void 0}),n9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=io(OC,e);return l.jsx(cme,{scope:e,forceMount:n,children:b.Children.map(r,a=>l.jsx(Ei,{present:n||o.open,children:l.jsx(eg,{asChild:!0,container:i,children:a})}))})};n9.displayName=OC;var Px="DialogOverlay",r9=b.forwardRef((t,e)=>{const n=t9(Px,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=io(Px,t.__scopeDialog);return o.modal?l.jsx(Ei,{present:r||o.open,children:l.jsx(dme,{...i,ref:e})}):null});r9.displayName=Px;var ume=jc("DialogOverlay.RemoveScroll"),dme=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=io(Px,n);return l.jsx(Kw,{as:ume,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(_e.div,{"data-state":MC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Dc="DialogContent",i9=b.forwardRef((t,e)=>{const n=t9(Dc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=io(Dc,t.__scopeDialog);return l.jsx(Ei,{present:r||o.open,children:o.modal?l.jsx(fme,{...i,ref:e}):l.jsx(hme,{...i,ref:e})})});i9.displayName=Dc;var fme=b.forwardRef((t,e)=>{const n=io(Dc,t.__scopeDialog),r=b.useRef(null),i=Qe(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return kC(o)},[]),l.jsx(o9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault())})}),hme=b.forwardRef((t,e)=>{const n=io(Dc,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return l.jsx(o9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),o9=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=io(Dc,n),c=b.useRef(null),u=Qe(e,c);return IC(),l.jsxs(l.Fragment,{children:[l.jsx(Hw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:l.jsx(gf,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":MC(s.open),...a,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(pme,{titleId:s.titleId}),l.jsx(gme,{contentRef:c,descriptionId:s.descriptionId})]})]})}),RC="DialogTitle",a9=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=io(RC,n);return l.jsx(_e.h2,{id:i.titleId,...r,ref:e})});a9.displayName=RC;var s9="DialogDescription",l9=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=io(s9,n);return l.jsx(_e.p,{id:i.descriptionId,...r,ref:e})});l9.displayName=s9;var c9="DialogClose",u9=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=io(c9,n);return l.jsx(_e.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});u9.displayName=c9;function MC(t){return t?"open":"closed"}var d9="DialogTitleWarning",[Oze,f9]=yQ(d9,{contentName:Dc,titleName:RC,docsSlug:"dialog"}),pme=({titleId:t})=>{const e=f9(d9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mme="DialogDescriptionWarning",gme=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${f9(mme).contentName}}.`;return b.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},h9=Jz,p9=e9,m9=n9,Yw=r9,Xw=i9,Qw=a9,Jw=l9,g9=u9;const yme=h9,vme=p9,xme=m9,y9=b.forwardRef(({className:t,...e},n)=>l.jsx(Yw,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));y9.displayName=Yw.displayName;const bme=yf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v9=b.forwardRef(({side:t="right",className:e,children:n,...r},i)=>l.jsxs(xme,{children:[l.jsx(y9,{}),l.jsxs(Xw,{ref:i,className:we(bme({side:t}),e),...r,children:[n,l.jsxs(g9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(rg,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));v9.displayName=Xw.displayName;const wme=b.forwardRef(({className:t,...e},n)=>l.jsx(Qw,{ref:n,className:we("text-lg font-semibold text-foreground",t),...e}));wme.displayName=Qw.displayName;const _me=b.forwardRef(({className:t,...e},n)=>l.jsx(Jw,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));_me.displayName=Jw.displayName;var x9={exports:{}},b9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=b;function Sme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Eme=typeof Object.is=="function"?Object.is:Sme,Tme=Dd.useState,Ame=Dd.useEffect,Pme=Dd.useLayoutEffect,jme=Dd.useDebugValue;function Cme(t,e){var n=e(),r=Tme({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Pme(function(){i.value=n,i.getSnapshot=e,j1(i)&&o({inst:i})},[t,n,e]),Ame(function(){return j1(i)&&o({inst:i}),t(function(){j1(i)&&o({inst:i})})},[t]),jme(n),n}function j1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Eme(t,n)}catch{return!0}}function Nme(t,e){return e()}var Ime=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nme:Cme;b9.useSyncExternalStore=Dd.useSyncExternalStore!==void 0?Dd.useSyncExternalStore:Ime;x9.exports=b9;var kme=x9.exports;function Ome(){return kme.useSyncExternalStore(Rme,()=>!0,()=>!1)}function Rme(){return()=>{}}var DC="Avatar",[Mme]=Dr(DC),[Dme,w9]=Mme(DC),_9=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=b.useState("idle");return l.jsx(Dme,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:l.jsx(_e.span,{...r,ref:e})})});_9.displayName=DC;var S9="AvatarImage",E9=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,a=w9(S9,n),s=$me(r,o),c=pr(u=>{i(u),a.onImageLoadingStatusChange(u)});return sn(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(_e.img,{...o,ref:e,src:r}):null});E9.displayName=S9;var T9="AvatarFallback",A9=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=w9(T9,n),[a,s]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&o.imageLoadingStatus!=="loaded"?l.jsx(_e.span,{...i,ref:e}):null});A9.displayName=T9;function xM(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $me(t,{referrerPolicy:e,crossOrigin:n}){const r=Ome(),i=b.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,s]=b.useState(()=>xM(o,t));return sn(()=>{s(xM(o,t))},[o,t]),sn(()=>{const c=f=>()=>{s(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,e]),a}var P9=_9,j9=E9,C9=A9;const $C=b.forwardRef(({className:t,...e},n)=>l.jsx(P9,{ref:n,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));$C.displayName=P9.displayName;const N9=b.forwardRef(({className:t,...e},n)=>l.jsx(j9,{ref:n,className:we("aspect-square h-full w-full",t),...e}));N9.displayName=j9.displayName;const LC=b.forwardRef(({className:t,...e},n)=>l.jsx(C9,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));LC.displayName=C9.displayName;var Lme=b.createContext(void 0);function Zw(t){const e=b.useContext(Lme);return t||e||"ltr"}var C1="rovingFocusGroup.onEntryFocus",Fme={bubbles:!1,cancelable:!0},_g="RovingFocusGroup",[rT,I9,Vme]=ew(_g),[Bme,e0]=Dr(_g,[Vme]),[Ume,zme]=Bme(_g),k9=b.forwardRef((t,e)=>l.jsx(rT.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(rT.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Wme,{...t,ref:e})})}));k9.displayName=_g;var Wme=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),p=Qe(e,h),y=Zw(o),[g,v]=Aa({prop:a,defaultProp:s??null,onChange:c,caller:_g}),[x,w]=b.useState(!1),_=pr(u),T=I9(n),E=b.useRef(!1),[P,S]=b.useState(0);return b.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(C1,_),()=>A.removeEventListener(C1,_)},[_]),l.jsx(Ume,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(A=>v(A),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:b.useCallback(()=>S(A=>A-1),[]),children:l.jsx(_e.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{E.current=!0}),onFocus:pe(t.onFocus,A=>{const C=!E.current;if(A.target===A.currentTarget&&C&&!x){const I=new CustomEvent(C1,Fme);if(A.currentTarget.dispatchEvent(I),!I.defaultPrevented){const N=T().filter(B=>B.focusable),k=N.find(B=>B.active),R=N.find(B=>B.id===g),U=[k,R,...N].filter(Boolean).map(B=>B.ref.current);M9(U,d)}}E.current=!1}),onBlur:pe(t.onBlur,()=>w(!1))})})}),O9="RovingFocusGroupItem",R9=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,c=To(),u=o||c,d=zme(O9,n),f=d.currentTabStopId===u,h=I9(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=d;return b.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),l.jsx(rT.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:pe(t.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:pe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Kme(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const T=_.indexOf(v.currentTarget);_=d.loop?Gme(_,T+1):_.slice(T+1)}setTimeout(()=>M9(_))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});R9.displayName=O9;var Hme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qme(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Kme(t,e,n){const r=qme(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Hme[r]}function M9(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Gme(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var D9=k9,$9=R9,iT=["Enter"," "],Yme=["ArrowDown","PageUp","Home"],L9=["ArrowUp","PageDown","End"],Xme=[...Yme,...L9],Qme={ltr:[...iT,"ArrowRight"],rtl:[...iT,"ArrowLeft"]},Jme={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sg="Menu",[am,Zme,ege]=ew(Sg),[Zc,F9]=Dr(Sg,[ege,wf,e0]),t0=wf(),V9=e0(),[tge,eu]=Zc(Sg),[nge,Eg]=Zc(Sg),B9=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=t,s=t0(e),[c,u]=b.useState(null),d=b.useRef(!1),f=pr(o),h=Zw(i);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(MB,{...s,children:l.jsx(tge,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(nge,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};B9.displayName=Sg;var rge="MenuAnchor",FC=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=t0(n);return l.jsx(tj,{...i,...r,ref:e})});FC.displayName=rge;var VC="MenuPortal",[ige,U9]=Zc(VC,{forceMount:void 0}),z9=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=eu(VC,e);return l.jsx(ige,{scope:e,forceMount:n,children:l.jsx(Ei,{present:n||o.open,children:l.jsx(eg,{asChild:!0,container:i,children:r})})})};z9.displayName=VC;var yi="MenuContent",[oge,BC]=Zc(yi),W9=b.forwardRef((t,e)=>{const n=U9(yi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=eu(yi,t.__scopeMenu),a=Eg(yi,t.__scopeMenu);return l.jsx(am.Provider,{scope:t.__scopeMenu,children:l.jsx(Ei,{present:r||o.open,children:l.jsx(am.Slot,{scope:t.__scopeMenu,children:a.modal?l.jsx(age,{...i,ref:e}):l.jsx(sge,{...i,ref:e})})})})}),age=b.forwardRef((t,e)=>{const n=eu(yi,t.__scopeMenu),r=b.useRef(null),i=Qe(e,r);return b.useEffect(()=>{const o=r.current;if(o)return kC(o)},[]),l.jsx(UC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sge=b.forwardRef((t,e)=>{const n=eu(yi,t.__scopeMenu);return l.jsx(UC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lge=jc("MenuContent.ScrollLock"),UC=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...g}=t,v=eu(yi,n),x=Eg(yi,n),w=t0(n),_=V9(n),T=Zme(n),[E,P]=b.useState(null),S=b.useRef(null),A=Qe(e,S,v.onContentChange),C=b.useRef(0),I=b.useRef(""),N=b.useRef(0),k=b.useRef(null),R=b.useRef("right"),$=b.useRef(0),U=y?Kw:b.Fragment,B=y?{as:lge,allowPinchZoom:!0}:void 0,V=L=>{var oe,Pe;const H=I.current+L,z=T().filter(ie=>!ie.disabled),W=document.activeElement,K=(oe=z.find(ie=>ie.ref.current===W))==null?void 0:oe.textValue,re=z.map(ie=>ie.textValue),de=bge(re,H,K),be=(Pe=z.find(ie=>ie.textValue===de))==null?void 0:Pe.ref.current;(function ie(ae){I.current=ae,window.clearTimeout(C.current),ae!==""&&(C.current=window.setTimeout(()=>ie(""),1e3))})(H),be&&setTimeout(()=>be.focus())};b.useEffect(()=>()=>window.clearTimeout(C.current),[]),IC();const F=b.useCallback(L=>{var z,W;return R.current===((z=k.current)==null?void 0:z.side)&&_ge(L,(W=k.current)==null?void 0:W.area)},[]);return l.jsx(oge,{scope:n,searchRef:I,onItemEnter:b.useCallback(L=>{F(L)&&L.preventDefault()},[F]),onItemLeave:b.useCallback(L=>{var H;F(L)||((H=S.current)==null||H.focus(),P(null))},[F]),onTriggerLeave:b.useCallback(L=>{F(L)&&L.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:b.useCallback(L=>{k.current=L},[]),children:l.jsx(U,{...B,children:l.jsx(Hw,{asChild:!0,trapped:i,onMountAutoFocus:pe(o,L=>{var H;L.preventDefault(),(H=S.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(gf,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(D9,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:pe(c,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(nj,{role:"menu","aria-orientation":"vertical","data-state":a8(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:A,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,L=>{const z=L.target.closest("[data-radix-menu-content]")===L.currentTarget,W=L.ctrlKey||L.altKey||L.metaKey,K=L.key.length===1;z&&(L.key==="Tab"&&L.preventDefault(),!W&&K&&V(L.key));const re=S.current;if(L.target!==re||!Xme.includes(L.key))return;L.preventDefault();const be=T().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);L9.includes(L.key)&&be.reverse(),vge(be)}),onBlur:pe(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:pe(t.onPointerMove,sm(L=>{const H=L.target,z=$.current!==L.clientX;if(L.currentTarget.contains(H)&&z){const W=L.clientX>$.current?"right":"left";R.current=W,$.current=L.clientX}}))})})})})})})});W9.displayName=yi;var cge="MenuGroup",zC=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(_e.div,{role:"group",...r,ref:e})});zC.displayName=cge;var uge="MenuLabel",H9=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(_e.div,{...r,ref:e})});H9.displayName=uge;var jx="MenuItem",bM="menu.itemSelect",n0=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=b.useRef(null),a=Eg(jx,t.__scopeMenu),s=BC(jx,t.__scopeMenu),c=Qe(e,o),u=b.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(bM,{bubbles:!0,cancelable:!0});f.addEventListener(bM,p=>r==null?void 0:r(p),{once:!0}),LP(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(q9,{...i,ref:c,disabled:n,onClick:pe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(t.onKeyDown,f=>{const h=s.searchRef.current!=="";n||h&&f.key===" "||iT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});n0.displayName=jx;var q9=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,a=BC(jx,n),s=V9(n),c=b.useRef(null),u=Qe(e,c),[d,f]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[o.children]),l.jsx(am.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:l.jsx($9,{asChild:!0,...s,focusable:!r,children:l.jsx(_e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:pe(t.onPointerMove,sm(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,sm(y=>a.onItemLeave(y))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),dge="MenuCheckboxItem",K9=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return l.jsx(J9,{scope:t.__scopeMenu,checked:n,children:l.jsx(n0,{role:"menuitemcheckbox","aria-checked":Cx(n)?"mixed":n,...i,ref:e,"data-state":HC(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(Cx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});K9.displayName=dge;var G9="MenuRadioGroup",[fge,hge]=Zc(G9,{value:void 0,onValueChange:()=>{}}),Y9=b.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=pr(r);return l.jsx(fge,{scope:t.__scopeMenu,value:n,onValueChange:o,children:l.jsx(zC,{...i,ref:e})})});Y9.displayName=G9;var X9="MenuRadioItem",Q9=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=hge(X9,t.__scopeMenu),o=n===i.value;return l.jsx(J9,{scope:t.__scopeMenu,checked:o,children:l.jsx(n0,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":HC(o),onSelect:pe(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});Q9.displayName=X9;var WC="MenuItemIndicator",[J9,pge]=Zc(WC,{checked:!1}),Z9=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=pge(WC,n);return l.jsx(Ei,{present:r||Cx(o.checked)||o.checked===!0,children:l.jsx(_e.span,{...i,ref:e,"data-state":HC(o.checked)})})});Z9.displayName=WC;var mge="MenuSeparator",e8=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});e8.displayName=mge;var gge="MenuArrow",t8=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=t0(n);return l.jsx(rj,{...i,...r,ref:e})});t8.displayName=gge;var yge="MenuSub",[Rze,n8]=Zc(yge),zh="MenuSubTrigger",r8=b.forwardRef((t,e)=>{const n=eu(zh,t.__scopeMenu),r=Eg(zh,t.__scopeMenu),i=n8(zh,t.__scopeMenu),o=BC(zh,t.__scopeMenu),a=b.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),c(null)}},[s,c]),l.jsx(FC,{asChild:!0,...u,children:l.jsx(q9,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":a8(n.open),...t,ref:Zb(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,sm(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,sm(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(y=n.content)==null?void 0:y.dataset.side,v=g==="right",x=v?-5:5,w=h[v?"left":"right"],_=h[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var p;const h=o.searchRef.current!=="";t.disabled||h&&f.key===" "||Qme[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});r8.displayName=zh;var i8="MenuSubContent",o8=b.forwardRef((t,e)=>{const n=U9(yi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=eu(yi,t.__scopeMenu),a=Eg(yi,t.__scopeMenu),s=n8(i8,t.__scopeMenu),c=b.useRef(null),u=Qe(e,c);return l.jsx(am.Provider,{scope:t.__scopeMenu,children:l.jsx(Ei,{present:r||o.open,children:l.jsx(am.Slot,{scope:t.__scopeMenu,children:l.jsx(UC,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Jme[a.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(p=s.trigger)==null||p.focus(),d.preventDefault())})})})})})});o8.displayName=i8;function a8(t){return t?"open":"closed"}function Cx(t){return t==="indeterminate"}function HC(t){return Cx(t)?"indeterminate":t?"checked":"unchecked"}function vge(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function xge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function bge(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=xge(t,Math.max(o,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function wge(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],c=e[a],u=s.x,d=s.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function _ge(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return wge(n,e)}function sm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Sge=B9,Ege=FC,Tge=z9,Age=W9,Pge=zC,jge=H9,Cge=n0,Nge=K9,Ige=Y9,kge=Q9,Oge=Z9,Rge=e8,Mge=t8,Dge=r8,$ge=o8,r0="DropdownMenu",[Lge]=Dr(r0,[F9]),vr=F9(),[Fge,s8]=Lge(r0),l8=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=t,c=vr(e),u=b.useRef(null),[d,f]=Aa({prop:i,defaultProp:o??!1,onChange:a,caller:r0});return l.jsx(Fge,{scope:e,triggerId:To(),triggerRef:u,contentId:To(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:s,children:l.jsx(Sge,{...c,open:d,onOpenChange:f,dir:r,modal:s,children:n})})};l8.displayName=r0;var c8="DropdownMenuTrigger",u8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=s8(c8,n),a=vr(n);return l.jsx(Ege,{asChild:!0,...a,children:l.jsx(_e.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Zb(e,o.triggerRef),onPointerDown:pe(t.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:pe(t.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});u8.displayName=c8;var Vge="DropdownMenuPortal",d8=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vr(e);return l.jsx(Tge,{...r,...n})};d8.displayName=Vge;var f8="DropdownMenuContent",h8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=s8(f8,n),o=vr(n),a=b.useRef(!1);return l.jsx(Age,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,s=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h8.displayName=f8;var Bge="DropdownMenuGroup",Uge=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Pge,{...i,...r,ref:e})});Uge.displayName=Bge;var zge="DropdownMenuLabel",p8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(jge,{...i,...r,ref:e})});p8.displayName=zge;var Wge="DropdownMenuItem",m8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Cge,{...i,...r,ref:e})});m8.displayName=Wge;var Hge="DropdownMenuCheckboxItem",g8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Nge,{...i,...r,ref:e})});g8.displayName=Hge;var qge="DropdownMenuRadioGroup",Kge=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Ige,{...i,...r,ref:e})});Kge.displayName=qge;var Gge="DropdownMenuRadioItem",y8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(kge,{...i,...r,ref:e})});y8.displayName=Gge;var Yge="DropdownMenuItemIndicator",v8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Oge,{...i,...r,ref:e})});v8.displayName=Yge;var Xge="DropdownMenuSeparator",x8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Rge,{...i,...r,ref:e})});x8.displayName=Xge;var Qge="DropdownMenuArrow",Jge=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Mge,{...i,...r,ref:e})});Jge.displayName=Qge;var Zge="DropdownMenuSubTrigger",b8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx(Dge,{...i,...r,ref:e})});b8.displayName=Zge;var eye="DropdownMenuSubContent",w8=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return l.jsx($ge,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});w8.displayName=eye;var tye=l8,nye=u8,rye=d8,_8=h8,S8=p8,E8=m8,T8=g8,A8=y8,P8=v8,j8=x8,C8=b8,N8=w8;const I8=tye,k8=nye,iye=b.forwardRef(({className:t,inset:e,children:n,...r},i)=>l.jsxs(C8,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(np,{className:"ml-auto h-4 w-4"})]}));iye.displayName=C8.displayName;const oye=b.forwardRef(({className:t,...e},n)=>l.jsx(N8,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));oye.displayName=N8.displayName;const qC=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(rye,{children:l.jsx(_8,{ref:r,sideOffset:e,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qC.displayName=_8.displayName;const lm=b.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(E8,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));lm.displayName=E8.displayName;const aye=b.forwardRef(({className:t,children:e,checked:n,...r},i)=>l.jsxs(T8,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(P8,{children:l.jsx(ng,{className:"h-4 w-4"})})}),e]}));aye.displayName=T8.displayName;const sye=b.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(A8,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(P8,{children:l.jsx(vJ,{className:"h-2 w-2 fill-current"})})}),e]}));sye.displayName=A8.displayName;const lye=b.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(S8,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));lye.displayName=S8.displayName;const cye=b.forwardRef(({className:t,...e},n)=>l.jsx(j8,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));cye.displayName=j8.displayName;function O8(){const[t,e]=b.useState(0);return b.useEffect(()=>{const n=hg();let r;const i=n.onAuthStateChanged(o=>{if(r==null||r(),!o){e(0);return}const a=Nt(nt,`users/${o.uid}/private/credits`);r=eo(a,s=>{var u,d;const c=(d=(u=s.data())==null?void 0:u.creditsSummary)==null?void 0:d.totalAvailable;e(c??0)})});return()=>{i(),r==null||r()}},[]),l.jsxs("div",{className:"bg-muted px-3 py-1 rounded-full text-sm font-medium",children:["Credits: ",t]})}const uye={scan:"VITE_FEATURE_SCAN",nutrition:"VITE_FEATURE_NUTRITION",workouts:"VITE_FEATURE_WORKOUTS",coach:"VITE_FEATURE_COACH",health:"VITE_FEATURE_HEALTH",reminders:"VITE_FEATURE_REMINDERS",i18n:"VITE_FEATURE_I18N",marketing:"VITE_FEATURE_MARKETING",account:"VITE_FEATURE_ACCOUNT"};function dye(t){var n,r;const e=((r=(n=import.meta)==null?void 0:n.env)==null?void 0:r[t])??(globalThis==null?void 0:globalThis[t]);if(typeof e=="string"){const i=e.toLowerCase();if(i==="1"||i==="true"||i==="yes")return!0;if(i==="0"||i==="false"||i==="no")return!1}return typeof e=="boolean"?e:!0}function i0(t){return dye(uye[t])}const fye=[{to:"/home",label:"Home"},{to:"/scan",label:"Scan",feature:"scan"},{to:"/today",label:"Today",feature:"health"},{to:"/meals",label:"Meals",feature:"nutrition"},{to:"/workouts",label:"Workouts",feature:"workouts"},{to:"/coach",label:"Coach",feature:"coach"},{to:"/history",label:"History",feature:"scan"},{to:"/plans",label:"Plans",feature:"account"},{to:"/settings",label:"Settings",feature:"account"}];function Xe({children:t}){const e=Gt(),[n,r]=b.useState(!1),i=fye.filter(a=>!a.feature||i0(a.feature)),o=({mobile:a=!1})=>l.jsx(l.Fragment,{children:i.map(s=>l.jsx(vre,{to:s.to,className:({isActive:c})=>`transition-opacity ${c?"underline underline-offset-8 decoration-2 font-medium":"opacity-80 hover:opacity-100"} ${a?"block py-2":""}`,onClick:()=>a&&r(!1),children:s.label},s.to))});return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 h-14 flex items-center justify-between",children:[l.jsxs("button",{className:"flex items-center gap-2 font-semibold",onClick:()=>e("/home"),children:[l.jsx("img",{src:"/logo.svg",alt:"MyBodyScan",className:"w-6 h-6"}),"MyBodyScan"]}),l.jsx("nav",{className:"hidden md:flex items-center gap-6 text-sm",children:l.jsx(o,{})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(O8,{}),l.jsx("div",{className:"hidden md:block",children:l.jsxs(I8,{children:[l.jsx(k8,{asChild:!0,children:l.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx($C,{className:"h-8 w-8",children:l.jsx(LC,{children:l.jsx(WP,{className:"h-4 w-4"})})})})}),l.jsxs(qC,{align:"end",children:[l.jsx(lm,{onClick:()=>e("/settings"),children:"Settings"}),l.jsx(lm,{onClick:lM,children:"Sign out"})]})]})}),l.jsx("div",{className:"md:hidden",children:l.jsxs(yme,{open:n,onOpenChange:r,children:[l.jsx(vme,{asChild:!0,children:l.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(OJ,{className:"h-4 w-4"})})}),l.jsx(v9,{side:"right",className:"w-64",children:l.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[l.jsx("nav",{className:"flex flex-col gap-2 text-sm",children:l.jsx(o,{mobile:!0})}),l.jsx("hr",{className:"border-border"}),l.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[l.jsx("button",{className:"text-left py-2 opacity-80 hover:opacity-100 transition-opacity",onClick:()=>{e("/settings"),r(!1)},children:"Settings"}),l.jsx("button",{className:"text-left py-2 opacity-80 hover:opacity-100 transition-opacity",onClick:()=>{lM(),r(!1)},children:"Sign out"})]})]})})]})})]})]})}),l.jsx("main",{className:"flex-1",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-6",children:t})})]})}const hye=()=>{const t=Be.currentUser;return l.jsx(Yt,{to:t?"/home":"/auth",replace:!0})},pye=()=>l.jsx(hye,{}),mye=()=>{const[t,e]=b.useState(1.5),n=Be.currentUser;return b.useEffect(()=>{if(!n)return;const r=setInterval(()=>{e(i=>Math.max(0,i-.1))},100);return()=>clearInterval(r)},[n]),n?t<=0?l.jsx(Yt,{to:"/home",replace:!0}):l.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("div",{className:"text-muted-foreground",children:"Taking you to the app..."}),l.jsx("div",{className:"w-32 h-1 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-100 ease-out",style:{width:`${(1.5-t)/1.5*100}%`}})})]})}):l.jsx(Yt,{to:"/auth",replace:!0})},Ze=b.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ze.displayName="Input";var gye="Label",R8=b.forwardRef((t,e)=>l.jsx(_e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));R8.displayName=gye;var M8=R8;const yye=yf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=b.forwardRef(({className:t,...e},n)=>l.jsx(M8,{ref:n,className:we(yye(),t),...e}));ze.displayName=M8.displayName;const Fe=({title:t,description:e,canonical:n})=>(b.useEffect(()=>{if(document.title=t,e){let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",e)}if(n){let r=document.querySelector('link[rel="canonical"]');r||(r=document.createElement("link"),r.rel="canonical",document.head.appendChild(r)),r.href=n}},[t,e,n]),null),vye=()=>{var y;const t=Gt(),n=((y=no().state)==null?void 0:y.from)||"/home",[r,i]=b.useState("signin"),[o,a]=b.useState(""),[s,c]=b.useState(""),[u,d]=b.useState(!1),{user:f}=wg();b.useEffect(()=>{f&&t("/today",{replace:!0})},[f,t]);const h=async g=>{g.preventDefault(),d(!0);try{r==="signin"?await dpe(o,s):await upe(o,s),t(n,{replace:!0})}catch(v){se({title:r==="signin"?"Sign in failed":"Create account failed",description:(v==null?void 0:v.message)||"Please try again."})}finally{d(!1)}},p=async()=>{d(!0);try{await cpe(),t(n,{replace:!0})}catch(g){se({title:"Google sign in failed",description:(g==null?void 0:g.message)||"Please try again."})}finally{d(!1)}};return l.jsxs("main",{className:"min-h-screen flex items-center justify-center bg-background p-6",children:[l.jsx(Fe,{title:"Sign In  MyBodyScan",description:"Access your MyBodyScan account to start and review scans.",canonical:window.location.href}),l.jsxs(te,{className:"w-full max-w-md shadow-md",children:[l.jsx(he,{children:l.jsxs("div",{className:"text-center",children:[l.jsx(me,{className:"text-2xl mb-2",children:r==="signin"?"Welcome back":"Create your account"}),l.jsx(gs,{className:"text-slate-600",children:"Track body fat, weight and progressprivate and secure."})]})}),l.jsxs(ne,{children:[l.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[l.jsx(X,{size:"sm",variant:r==="signin"?"default":"outline",onClick:()=>i("signin"),children:"Sign in"}),l.jsx(X,{size:"sm",variant:r==="signup"?"default":"outline",onClick:()=>i("signup"),children:"Create account"})]}),l.jsx("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:l.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Accurate body fat estimates from photos/video"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Progress tracking & reminders"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Private by defaultyour data, your control"})]})]})}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"email",children:"Email"}),l.jsx(Ze,{id:"email",type:"email",value:o,onChange:g=>a(g.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"password",children:"Password"}),l.jsx(Ze,{id:"password",type:"password",value:s,onChange:g=>c(g.target.value),required:!0})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(X,{type:"submit",className:"mbs-btn mbs-btn-primary w-full",disabled:u,children:u?r==="signin"?"Signing in...":"Creating...":r==="signin"?"Sign in":"Create account"}),l.jsx(X,{type:"button",variant:"link",onClick:async()=>{try{await fpe(o),se({title:"Reset link sent",description:"Check your email for reset instructions."})}catch(g){se({title:"Couldn't send reset",description:(g==null?void 0:g.message)||"Please try again."})}},children:"Forgot password?"})]})]}),l.jsxs("div",{className:"mt-4 grid gap-2",children:[l.jsx(X,{variant:"secondary",onClick:void 0,disabled:u||!0,children:"Sign in with Apple (coming soon)"}),l.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Apple sign-in will activate once approved."}),l.jsx(X,{variant:"secondary",onClick:p,disabled:u,children:"Continue with Google"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(X,{variant:"ghost",className:"w-full",onClick:()=>{hpe(),t("/today")},children:" Explore demo (no sign-up)"}),l.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Browse demo data. Create a free account to unlock scanning and save your progress."})]})]})]}),l.jsxs("div",{className:"mt-4 text-center text-xs text-muted-foreground",children:[l.jsx("a",{href:"/legal/privacy",className:"underline hover:text-primary",children:"Privacy"})," ",l.jsx("a",{href:"/legal/terms",className:"underline hover:text-primary",children:"Terms"})]})]})},xye=yf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hr({className:t,variant:e,...n}){return l.jsx("div",{className:we(xye({variant:e}),t),...n})}const D8=.45359237,fp=2.54;function $d(t){return t/D8}function KC(t){return t*D8}function GC(t){return t/fp}function YC(t){const e=Math.floor(t/12),n=Math.round(t-e*12);return{ft:e,inches:n}}function bye(t,e){return(t*12+e)*fp}function XC(t,e=0){return t==null?"":`${$d(t).toFixed(e)} lb`}function QC(t){if(t==null)return"";const{ft:e,inches:n}=YC(GC(t));return`${e} ${n}`}function Ld(t,e=1){return t==null?"":t.toFixed(e)}function gh(...t){for(const e of t)if(typeof e=="number"&&Number.isFinite(e))return e;return null}function ko(t){const e=(t==null?void 0:t.metrics)??{},n=(t==null?void 0:t.result)??{},r=(t==null?void 0:t.results)??n,i=(t==null?void 0:t.measurements)??{},o=t??{},a=gh(e.bf_percent,e.bodyFatPct,e.body_fat,r.bf_percent,r.bodyFatPct,o.bodyFatPercentage,o.body_fat,o.bodyfat,i.bodyFatPct),s=gh(e.bmi,r.bmi,o.bmi,i.bmi),c=gh(e.weight_kg,e.weightKg,r.weight_kg,r.weightKg,o.weightKg,o.weight_kg,i.weightKg,i.weight_kg),d=gh(e.weight_lb,e.weightLb,r.weight_lb,r.weightLb,o.weight_lbs,o.weightLb,o.weight,i.weightLb,i.weight_lbs)??(c!=null?$d(c):null),f=typeof e.method=="string"?e.method:typeof o.method=="string"?o.method:typeof r.method=="string"?r.method:null,h=gh(e.confidence,o.confidence,r.confidence);return{bodyFatPercent:a,bmi:s,weightKg:c,weightLb:d,method:f,confidence:h}}const wye=()=>{const{user:t}=wg(),e=Gt(),[n,r]=b.useState(null),i=b.useRef(!1),o=n?ko(n.raw):null,a=(n==null?void 0:n.status)==="done"||(n==null?void 0:n.status)==="completed",s=n!=null&&n.createdAt?n.createdAt.toLocaleDateString():"",c=(o==null?void 0:o.bodyFatPercent)!=null?o.bodyFatPercent.toFixed(1):"",u=(o==null?void 0:o.weightKg)!=null?XC(o.weightKg,0):(o==null?void 0:o.weightLb)!=null?`${o.weightLb.toFixed(0)} lb`:"",d=(o==null?void 0:o.bmi)!=null?Ld(o.bmi,1):"";return b.useEffect(()=>{if(!(t!=null&&t.uid))return;const f=t.uid,h=Qc(wl(nt,"users",f,"scans"),Jc("createdAt","desc"),bg(1)),p=eo(h,y=>{var w;if(y.empty){r(null);return}const g=y.docs[0],v=g.data(),x=(w=v==null?void 0:v.createdAt)!=null&&w.toDate?v.createdAt.toDate():null;i.current||(console.log("Home lastScan:",v),i.current=!0),r({id:g.id,createdAt:x,status:(v==null?void 0:v.status)??"unknown",raw:v})},y=>{console.error("Home last scan error",y),(y==null?void 0:y.code)==="permission-denied"&&(se({title:"Permission deniedplease sign in again"}),e("/auth",{replace:!0}))});return()=>p()},[t]),l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Home  MyBodyScan",description:"Your latest body scan and quick actions.",canonical:window.location.href}),l.jsx("div",{className:"mb-4 flex justify-center",children:l.jsx(te,{className:"w-40",children:l.jsx(ne,{className:"p-4 text-center",children:l.jsx("img",{src:"/logo.svg",alt:"MyBodyScan Logo",className:"mx-auto h-10 w-auto max-w-full object-contain"})})})}),l.jsx("header",{className:"mb-6 text-center",children:l.jsx("h1",{className:"text-3xl font-semibold",children:"MyBodyScan"})}),l.jsxs("section",{className:"space-y-4",children:[l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{children:"Last scan"}),l.jsx(gs,{children:"The most recent result for your account"})]}),l.jsxs(ne,{children:[!n&&l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"No scans yet  Start a Scan to see your first result."})}),n&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:s}),a?l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold",children:c}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Body Fat"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold",children:u}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-semibold",children:d}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"BMI"})]})]}):l.jsxs("div",{className:"space-y-1",children:[l.jsx(hr,{variant:"secondary",children:n.status}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Check History for progress."})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(X,{onClick:()=>e("/scan/new"),children:"Start a Scan"}),l.jsx(X,{variant:"secondary",onClick:()=>e("/history"),children:"View History"})]})]})]})]}),l.jsxs("div",{className:"grid gap-3",children:[l.jsx(X,{onClick:()=>e("/scan/new"),children:"Start a Scan"}),l.jsx("a",{href:"/onboarding",className:"block text-center text-sm text-slate-500 hover:text-slate-700 mt-2",children:"Personalize results (1 min)"}),l.jsx(X,{variant:"secondary",onClick:()=>e("/history"),children:"History"}),l.jsx(X,{variant:"outline",onClick:()=>e("/plans"),children:"Plans"}),l.jsx(X,{variant:"outline",onClick:()=>e("/settings"),children:"Settings"})]})]})]})},wM=()=>{const t=Gt();return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Choose Capture  MyBodyScan",description:"Pick photos or video to start your scan.",canonical:window.location.href}),l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Start a Scan"}),l.jsxs("div",{className:"grid gap-4",children:[l.jsxs(te,{className:"shadow-md",children:[l.jsx(he,{children:l.jsx(me,{children:"Photos"})}),l.jsx(ne,{children:l.jsx(X,{className:"w-full",onClick:()=>t("/capture/photos"),children:"Capture Photos"})})]}),l.jsxs(te,{className:"shadow-md",children:[l.jsx(he,{children:l.jsx(me,{children:"Video"})}),l.jsx(ne,{children:l.jsx(X,{className:"w-full",onClick:()=>t("/capture/video"),children:"Record Video"})})]})]})]})},_ye="/assets/silhouette-front-C6BufFH5.png";async function $8(){return{scanId:crypto.randomUUID(),uploadPathPrefix:"",status:"queued"}}async function Sye(t,e){return!0}async function Eye(t,e){return{scanId:t,status:"ready"}}async function Tye(t){return{scanId:crypto.randomUUID(),result:{bodyFatPct:18.7,weightKg:78.1,bmi:24.6,mock:!0}}}const Vl=["Front","Left","Right","Back"],_M=()=>{const t=Gt(),[e,n]=b.useState(0),[r,i]=b.useState({}),[o,a]=b.useState(!1),s=h=>{var g;const p=(g=h.target.files)==null?void 0:g[0];if(!p)return;const y=Vl[e].toLowerCase();i(v=>({...v,[y]:p}))},c=()=>n(h=>Math.min(h+1,Vl.length-1)),u=()=>n(h=>Math.max(h-1,0)),d=r.front&&r.left&&r.right&&r.back,f=async()=>{var p;const h=(p=Be.currentUser)==null?void 0:p.uid;if(!h){se({title:"Sign in required"}),t("/auth",{replace:!0});return}if(!d){se({title:"Missing photos",description:"Please capture all 4 sides."});return}a(!0);try{const y=[["front",r.front],["left",r.left],["right",r.right],["back",r.back]],g=[];for(const[x,w]of y){const _=lB(w.name).split(".").pop()||"jpg",T=`uploads/${h}/${x}.${_}`;await rz(iz(Uz,T),w),g.push(T)}const{scanId:v}=await Tye(g[0]);t(`/scan/${v}`)}catch(y){console.error("PhotoCapture error",y),(y==null?void 0:y.code)==="permission-denied"?(se({title:"Sign in required"}),t("/auth",{replace:!0})):se({title:"Failed to create scan",description:(y==null?void 0:y.message)??"Try again."})}finally{a(!1)}};return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Capture Photos  MyBodyScan",description:"Capture four photos to create your body scan.",canonical:window.location.href}),l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Capture Photos"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Hold your phone upright (portrait). Stand 3-4 feet away. Capture all four sides clearly."}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center justify-between",children:["Step ",e+1,"/4  ",Vl[e],d&&l.jsx("span",{className:"text-sm font-normal text-primary",children:" All 4 uploaded"})]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"relative w-full aspect-[3/4] overflow-hidden rounded-lg bg-muted",children:[l.jsx("img",{src:_ye,alt:"capture silhouette overlay",className:"absolute inset-0 h-full w-full object-contain opacity-60 pointer-events-none",loading:"lazy"}),l.jsxs("div",{className:"absolute bottom-3 inset-x-3 flex items-center justify-between",children:[l.jsx(X,{variant:"secondary",onClick:u,disabled:e===0,children:"Back"}),l.jsxs("label",{className:"inline-flex",children:[l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:s,className:"hidden","aria-label":`Capture ${Vl[e]} photo`}),l.jsx(X,{type:"button",className:"bg-primary hover:bg-primary/90",children:r[Vl[e].toLowerCase()]?"Retake":"Capture"})]}),l.jsx(X,{variant:"secondary",onClick:c,disabled:e===Vl.length-1,children:"Next"})]})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2 text-center text-xs text-muted-foreground",children:Vl.map(h=>{const p=!!r[h.toLowerCase()];return l.jsxs("div",{className:`rounded-md border p-2 transition-colors ${p?"border-primary bg-primary/10 text-primary":"border-border"}`,children:[p&&l.jsx("span",{className:"block text-xs",children:""}),h]},h)})}),l.jsx(X,{className:"w-full",onClick:f,disabled:!d||o,"aria-label":d?"Analyze photos":"Complete all 4 photos first",children:o?"Creating scan...":d?"Analyze Photos":"Complete all 4 photos"})]})]})]})};var i4,o4;const SM=((o4=(i4=import.meta)==null?void 0:i4.env)==null?void 0:o4.VITE_FUNCTIONS_BASE_URL)??"",Nx=typeof SM=="string"?SM.replace(/\/+$/,""):"";function L8(t){if(!Nx)return console.warn("[ENV] VITE_FUNCTIONS_BASE_URL missing; skipping network call for",t),"";const e=t.startsWith("/")?t:`/${t}`;return`${Nx}${e}`}async function JC(t,e){var i;const n=L8(t);if(!n)return se({title:"Server not configured"}),new Response(null,{status:503});const r=await((i=Be.currentUser)==null?void 0:i.getIdToken());if(!r)throw new Error("Authentication required");return fetch(n,{...e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,...(e==null?void 0:e.headers)||{}}})}async function F8(t){const e=bC(dl),n=QE(e,"startScan"),{data:r}=await n(t);return r}async function ZC(t){const e=await t.text();if(!e)return{};try{return JSON.parse(e)}catch{return{raw:e}}}async function Aye(t){const e=await JC("/beginPaidScan",{method:"POST",body:JSON.stringify(t)}),n=await ZC(e);if(!e.ok){const r=(n==null?void 0:n.error)||(n==null?void 0:n.reason)||"authorization_failed";throw new Error(r)}return n}async function Pye(){const t=await JC("/recordGateFailure",{method:"POST"}),e=await ZC(t);if(!t.ok)throw new Error((e==null?void 0:e.error)||"gate_failure_not_recorded");return e}async function EM(t){const e=await JC("/refundIfNoResult",{method:"POST",body:JSON.stringify({scanId:t})}),n=await ZC(e);if(!e.ok)throw new Error((n==null?void 0:n.error)||"refund_failed");return n}const jye=50;let Sv=[];function Ev(t,e,n){Sv.push({t:Date.now(),level:t,msg:e,ctx:n}),Sv.length>jye&&Sv.shift()}function Cye(){return[...Sv]}function vi(t,e){try{const{getAnalytics:n,logEvent:r}=window.firebaseAnalytics||{};n&&r&&r(n(),t,e||{})}catch{}}const Nye=Object.freeze(Object.defineProperty({__proto__:null,track:vi},Symbol.toStringTag,{value:"Module"}));async function Iye(t,e){if(It()){vi("demo_block",{action:"checkout"});try{se({title:"Sign up to use this feature",description:"Create a free account to continue."})}catch{}window.location.assign("/auth");return}const{getAuth:n}=await Jb(async()=>{const{getAuth:s}=await Promise.resolve().then(()=>y6);return{getAuth:s}},void 0),r=n().currentUser;if(!r)throw new Error("Not signed in");const i=await r.getIdToken(),o=await fetch("https://us-central1-mybodyscan-f3daf.cloudfunctions.net/createCheckoutSession",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({priceId:t,mode:e,successUrl:window.location.origin+"/checkout/success",cancelUrl:window.location.origin+"/checkout/canceled"})}),a=await o.json();if(!o.ok)throw new Error(a.error||"Checkout failed");window.location.assign(a.url)}async function eN(){if(It()){vi("demo_block",{action:"scan"});try{se({title:"Sign up to use this feature",description:"Create a free account to start scanning."})}catch{}throw window.location.assign("/auth"),new Error("demo-blocked")}const{getAuth:t}=await Jb(async()=>{const{getAuth:r}=await Promise.resolve().then(()=>y6);return{getAuth:r}},void 0),e=t().currentUser;if(!e)throw new Error("Not signed in");const n=await e.getIdToken();try{const r=await fetch("https://us-central1-mybodyscan-f3daf.cloudfunctions.net/useCredit",{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(r.status===402)throw Ev("warn","useCredit:no_credits"),new Error("No credits available");const i=await r.json();return Ev("info","useCredit:success",{remaining:i.remaining}),i.remaining}catch(r){throw Ev("warn","useCredit:error",{message:r==null?void 0:r.message}),r}}const as=10,TM=()=>{const t=Gt(),[e,n]=b.useState(null),[r,i]=b.useState(null),o=b.useRef(null),[a,s]=b.useState(!1);b.useEffect(()=>{if(!e)return;const u=URL.createObjectURL(e),d=o.current;d.preload="metadata",d.onloadedmetadata=()=>{URL.revokeObjectURL(u),i(d.duration),d.duration>as&&(se({title:"Video too long",description:`Please keep it under ${as}s.`}),n(null),i(null))},d.src=u},[e]);const c=async()=>{var d;const u=(d=Be.currentUser)==null?void 0:d.uid;if(!u||!e||r==null){u||(se({title:"Sign in required"}),t("/auth",{replace:!0}));return}s(!0);try{await eN();const{scanId:f}=await F8({filename:e.name,size:e.size,contentType:e.type}),h=lB(e.name).split(".").pop()||"mp4",p=`scans/${u}/${f}/original.${h}`;await rz(iz(Uz,p),e),t(`/scan/${f}`)}catch(f){console.error("VideoCapture error",f),(f==null?void 0:f.message)==="No credits available"?(se({title:"No credits",description:"Please purchase more"}),t("/plans")):(f==null?void 0:f.code)==="permission-denied"?(se({title:"Sign in required"}),t("/auth",{replace:!0})):se({title:"Failed to create scan",description:(f==null?void 0:f.message)??"Try again."})}finally{s(!1)}};return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Record Video  MyBodyScan",description:"Record a short video for your body scan.",canonical:window.location.href}),l.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Record Video"}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Hold your phone upright (portrait). Slowly rotate 360 in front of camera. Max ",as," seconds."]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{children:["Up to ",as,"s"]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"relative w-full aspect-video overflow-hidden rounded-lg bg-muted",children:[l.jsx("video",{ref:o,className:"h-full w-full object-contain",controls:!0}),l.jsx("div",{className:"absolute bottom-3 inset-x-3 flex items-center justify-center",children:l.jsxs("label",{className:"inline-flex",children:[l.jsx("input",{type:"file",accept:"video/*",capture:"environment",className:"hidden",onChange:u=>{var d;return n(((d=u.target.files)==null?void 0:d[0])||null)},"aria-label":"Record or choose video file"}),l.jsx(X,{type:"button",className:"bg-primary hover:bg-primary/90",children:e?"Change Video":"Choose / Record"})]})})]}),l.jsx("div",{className:"text-center text-sm",children:r!=null?l.jsxs("span",{className:r<=as?"text-primary":"text-destructive",children:["Duration: ",r.toFixed(1),"s ",r>as&&"(Too long)"]}):l.jsx("span",{className:"text-muted-foreground",children:"No video selected"})}),l.jsx(X,{className:"w-full",onClick:c,disabled:!e||r==null||r>as||a,"aria-label":e&&r!=null&&r<=as?"Analyze video":"Select a valid video first",children:a?"Creating scan...":e&&r!=null?"Analyze Video":"Select Video"})]})]})]})},AM=()=>{const{scanId:t}=cj(),e=Gt(),[n,r]=b.useState("queued");return b.useEffect(()=>{var s;const i=(s=Be.currentUser)==null?void 0:s.uid;if(!i||!t)return;const o=Nt(nt,"users",i,"scans",t),a=eo(o,c=>{const u=c.data(),d=(u==null?void 0:u.status)??"queued";r(d),d==="done"&&e(`/results/${t}`,{replace:!0})},c=>{console.error("Processing snapshot error",c),(c==null?void 0:c.code)==="permission-denied"&&(se({title:"Sign in required"}),e("/auth",{replace:!0}))});return()=>a()},[t,e]),l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto flex flex-col items-center justify-center text-center",children:[l.jsx(Fe,{title:"Processing  MyBodyScan",description:"Analyzing your scan (about 12 minutes).",canonical:window.location.href}),l.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-muted border-t-primary animate-spin","aria-label":"Processing scan"}),l.jsx("h1",{className:"mt-6 text-2xl font-semibold",children:"Analyzing your scan"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"This can take ~12 minutes."}),l.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 rounded-full px-3 py-1 bg-secondary text-secondary-foreground",children:[l.jsx("span",{className:`h-2 w-2 rounded-full ${n==="done"?"bg-primary":n==="error"?"bg-destructive":"bg-warning animate-pulse"}`}),l.jsx("span",{className:"text-sm font-medium",children:n==="queued"?"In queue...":n==="processing"?"Processing...":n==="done"?"Complete!":n==="error"?"Failed":n})]}),n==="error"&&l.jsxs("div",{className:"mt-8 text-center space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Something went wrong during processing. Please try again."}),l.jsx(X,{variant:"secondary",onClick:()=>e("/scan/new"),"aria-label":"Start a new scan",children:"Try Again"})]})]})},tN=b.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));tN.displayName="Textarea";function kye(){const[t,e]=b.useState(null),[n,r]=b.useState(!0),[i,o]=b.useState(null),[a,s]=b.useState(null);return b.useEffect(()=>{const c=Tf(Be,u=>{s(u),u||(e(null),r(!1),o(null))});return()=>c()},[]),b.useEffect(()=>{if(!a)return;r(!0),o(null);const c=Qc(wl(nt,"users",a.uid,"scans"),Jc("createdAt","desc"),bg(1)),u=eo(c,d=>{if(d.empty)e(null);else{const f=d.docs[0];e({id:f.id,...f.data()})}r(!1)},d=>{console.error("Error fetching latest scan:",d),o(d.message),r(!1)});return()=>u()},[a]),{scan:t,loading:n,error:i,user:a}}const Oye=t=>t?t.toDate?t.toDate().toLocaleString():t instanceof Date?t.toLocaleString():"":"",Rye=()=>{const[t,e]=b.useState(0),[n,r]=b.useState(0),i=["Lining up your measurements","Estimating body fat","Checking symmetry and posture","Crunching numbers","Almost there!"];return b.useEffect(()=>{const o=setInterval(()=>{e(s=>Math.min(s+1.1111111111111112,100))},1e3),a=setInterval(()=>{r(s=>(s+1)%i.length)},8e3);return()=>{clearInterval(o),clearInterval(a)}},[]),l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("div",{className:"max-w-xs mx-auto mb-6",children:[l.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-3",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${t}%`}})}),l.jsxs("p",{className:"text-sm font-medium mb-2",children:[Math.round(t),"%"]})]}),l.jsx("p",{className:"text-muted-foreground animate-fade-in",children:i[n]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This usually takes ~12 minutes."})]})},Mye=()=>{const t=Gt(),{scan:e,loading:n,error:r,user:i}=kye(),[o,a]=b.useState(""),[s,c]=b.useState(!1);b.useEffect(()=>{e!=null&&e.note&&a(e.note)},[e==null?void 0:e.note]);const u=async()=>{if(!(!i||!e||!o.trim())){c(!0);try{const y=Nt(nt,"users",i.uid,"scans",e.id);await bue(y,{note:o.trim(),noteUpdatedAt:ul()}),se({title:"Note saved successfully"})}catch(y){console.error("Error saving note:",y),se({title:"Failed to save note",variant:"destructive"})}finally{c(!1)}}};if(!i&&!n)return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Results  MyBodyScan",description:"Review your body scan results and add notes.",canonical:window.location.href}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Results"}),l.jsx(te,{children:l.jsxs(ne,{className:"pt-6",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"Sign in required to view your results."}),l.jsx(X,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In"})]})})]})]});if(n)return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Results  MyBodyScan",description:"Review your body scan results and add notes.",canonical:window.location.href}),l.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Results"}),l.jsxs(te,{className:"mb-6",children:[l.jsxs(he,{children:[l.jsx(tn,{className:"h-6 w-32"}),l.jsx(tn,{className:"h-4 w-24"})]}),l.jsx(ne,{children:l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(tn,{className:"h-12 w-16 mx-auto mb-2"}),l.jsx(tn,{className:"h-4 w-16 mx-auto"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(tn,{className:"h-12 w-16 mx-auto mb-2"}),l.jsx(tn,{className:"h-4 w-16 mx-auto"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(tn,{className:"h-12 w-16 mx-auto mb-2"}),l.jsx(tn,{className:"h-4 w-16 mx-auto"})]})]})})]})]});if(r)return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Results  MyBodyScan",description:"Review your body scan results and add notes.",canonical:window.location.href}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Results"}),l.jsx(te,{children:l.jsxs(ne,{className:"pt-6",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to load your results. Please try again."}),l.jsx(X,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full",children:"Retry"})]})})]})]});if(!e)return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Results  MyBodyScan",description:"Review your body scan results and add notes.",canonical:window.location.href}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Results"}),l.jsx(te,{children:l.jsxs(ne,{className:"pt-6 text-center",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No scans yet. Start your first body scan to see results here."}),l.jsx(X,{onClick:()=>t("/scan/new"),className:"w-full",children:"Start Your First Scan"})]})})]})]});const d=ko(e),f=d.bodyFatPercent!=null?d.bodyFatPercent.toFixed(1):null,h=d.weightKg!=null?XC(d.weightKg):d.weightLb!=null?`${Math.round(d.weightLb)} lb`:"",p=Ld(d.bmi??void 0);return l.jsxs("main",{className:"min-h-screen p-6 max-w-md mx-auto",children:[l.jsx(Fe,{title:"Results  MyBodyScan",description:"Review your body scan results and add notes.",canonical:window.location.href}),l.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Results"}),l.jsxs(te,{className:"mb-6",children:[l.jsx(he,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(me,{className:"text-lg",children:Oye(e.completedAt||e.createdAt)}),l.jsx(hr,{variant:e.status==="completed"?"default":e.status==="processing"?"secondary":"destructive",children:e.status})]})}),l.jsx(ne,{children:e.status==="processing"?l.jsx(Rye,{}):e.status==="failed"?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("p",{className:"text-destructive mb-4",children:"Scan analysis failed"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.error||"We couldn't process your scan. Please try again with better lighting or clearer angles."}),l.jsx(X,{onClick:()=>t("/scan/new"),variant:"outline",children:"Try Again"})]}):l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsx(te,{children:l.jsxs(ne,{className:"pt-4 pb-4",children:[l.jsx("p",{className:"text-3xl font-semibold text-primary",children:f?`${f}%`:""}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Body Fat %"})]})}),l.jsx(te,{children:l.jsxs(ne,{className:"pt-4 pb-4",children:[l.jsx("p",{className:"text-3xl font-semibold text-primary",children:h}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Weight (lb)"})]})}),l.jsx(te,{children:l.jsxs(ne,{className:"pt-4 pb-4",children:[l.jsx("p",{className:"text-3xl font-semibold text-primary",children:p}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"BMI"})]})})]})})]}),e.status==="completed"&&l.jsxs(te,{className:"mb-6",children:[l.jsx(he,{children:l.jsx(me,{className:"text-lg",children:"Notes"})}),l.jsx(ne,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(tN,{placeholder:"Add a note about this scan...",value:o,onChange:y=>a(y.target.value),className:"min-h-[80px]"}),l.jsx(X,{onClick:u,disabled:!o.trim()||s,variant:"secondary",className:"w-full",children:s?"Saving...":"Save Note"})]})})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[l.jsx(X,{variant:"secondary",onClick:()=>t("/"),children:"Home"}),l.jsx(X,{variant:"secondary",onClick:()=>t("/history"),children:"History"}),l.jsx(X,{variant:"outline",onClick:()=>t("/scan/new"),children:"New Scan"})]})]})};function Dye(){return It()?l.jsx("span",{className:"ml-2 rounded-full bg-secondary px-2 py-0.5 text-xs text-secondary-foreground",children:"Demo"}):null}function $n(){const{user:t}=wg(),e=Gt(),n=no(),r=[{label:"Today",path:"/today"},{label:"Plans",path:"/plans"},{label:"Workouts",path:"/workouts"},{label:"Meals",path:"/meals"},{label:"History",path:"/history"}],i=a=>n.pathname===a,o=async()=>{await tT(),e("/auth")};return l.jsx("header",{className:"border-b border-border bg-card",children:l.jsxs("div",{className:"max-w-md mx-auto p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"MyBodyScan"}),l.jsx(O8,{}),l.jsx(Dye,{})]}),l.jsxs(I8,{children:[l.jsx(k8,{asChild:!0,children:l.jsx(X,{variant:"ghost",size:"icon",children:l.jsxs($C,{className:"h-6 w-6",children:[l.jsx(N9,{src:(t==null?void 0:t.photoURL)||""}),l.jsx(LC,{children:l.jsx(WP,{className:"h-4 w-4"})})]})})}),l.jsxs(qC,{align:"end",children:[l.jsxs(lm,{onClick:()=>e("/settings"),children:[l.jsx(UP,{className:"mr-2 h-4 w-4"}),"Settings"]}),l.jsxs(lm,{onClick:o,children:[l.jsx(kJ,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})]}),l.jsx("div",{className:"hidden md:flex items-center gap-2",children:r.map(a=>l.jsx(X,{variant:i(a.path)?"default":"ghost",size:"sm",onClick:()=>e(a.path),children:a.label},a.path))})]})})}const $ye=[{path:"/home",icon:CJ,label:"Home"},{path:"/scan",icon:Fp,label:"Scan",feature:"scan"},{path:"/today",icon:hJ,label:"Today",feature:"health"},{path:"/meals",icon:Xv,label:"Meals",feature:"nutrition"},{path:"/workouts",icon:rp,label:"Workouts",feature:"workouts"},{path:"/coach",icon:fJ,label:"Coach",feature:"coach"},{path:"/history",icon:JV,label:"History",feature:"scan"},{path:"/plans",icon:wJ,label:"Plans",feature:"account"},{path:"/settings",icon:UP,label:"Settings",feature:"account"}];function nr(){const t=no(),e=$ye.filter(n=>!n.feature||i0(n.feature));return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border md:hidden",children:l.jsx("div",{className:"flex items-center justify-around",children:e.map(({path:n,icon:r,label:i})=>{const o=t.pathname===n||t.pathname.startsWith(`${n}/`);return l.jsxs(Ar,{to:n,className:we("flex flex-col items-center gap-1 px-3 py-2 min-h-[44px] text-xs transition-colors","hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",o?"text-primary font-medium":"text-muted-foreground"),children:[l.jsx(r,{size:20}),l.jsx("span",{children:i})]},n)})})})}function If(){const t=Gt();return It()?l.jsx(te,{className:"bg-muted/50 border-muted",children:l.jsxs(ne,{className:"flex items-center justify-between p-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"You're exploring MyBodyScan in demo mode. Sign up anytime to unlock scans and save your progress."})}),l.jsx(X,{size:"sm",variant:"default",className:"ml-4 text-xs",onClick:()=>t("/auth"),children:"Create free account"})]})}):null}const PM={en:{"auth.welcome":"Welcome back","auth.create_account":"Create your account","auth.signin":"Sign in","auth.signup":"Create account","auth.email":"Email","auth.password":"Password","auth.forgot_password":"Forgot password?","auth.continue_apple":"Continue with Apple","auth.continue_google":"Continue with Google","today.title":"Today's Plan","today.workout":"Workout","today.meals":"Meals","today.coachingTip":"Coaching Tip","today.scan":"Scan","today.logMeal":"Log Meal","today.logWorkout":"Log Workout","plans.title":"Choose Your Plan","plans.description":"Get started with accurate body composition scanning","plans.starter":"Starter Scan","plans.pro":"Pro Monthly","plans.elite":"Elite Annual","plans.subscribe":"Subscribe","plans.buyNow":"Buy Now","plans.savings":"Save hundreds every month","settings.title":"Settings","settings.notifications":"Notifications","settings.language":"Language","settings.legal":"Legal & Support","settings.delete_account":"Delete my account & data","settings.sign_out":"Sign out","settings.export_data":"Export my data","workouts.title":"Workouts","workouts.noWorkouts":"No workout plan yet","workouts.createPlan":"Create Workout Plan","meals.title":"Meals","meals.search":"Search food or scan barcode","meals.scanBarcode":"Scan Barcode","meals.dailyProgress":"Daily Progress","meals.addMeal":"Add Meal","meals.logMeal":"Log a Meal","meals.noMeals":"No meals logged yet","meals.targets":"Daily Targets","meals.weeklyChart":"This Week","nutrition.protein":"Protein","nutrition.carbs":"Carbs","nutrition.fat":"Fat","nutrition.calories":"Calories","nutrition.servings":"Servings","nutrition.grams":"Grams","nutrition.per100g":"Per 100g","nutrition.perPortion":"Per portion","scan.title":"Body Scan","scan.newScan":"New Scan","scan.takePhotos":"Take 4 Photos","scan.photosRequired":"4 photos required (front, left, right, back)","scan.bodyFat":"Body Fat","scan.weight":"Weight","scan.bmi":"BMI","scan.leanMass":"Lean Mass","scan.muscleMass":"Muscle Mass","scan.bmr":"BMR","scan.tee":"Total Energy Expenditure","scan.visceralFat":"Visceral Fat","history.title":"Scan History","history.noScans":"No scans yet","history.compare":"Compare","history.selectTwo":"Select two scans to compare","coach.title":"Personal Coach","coach.onboarding":"Setup Your Plan","coach.goal":"Your Goal","coach.goalCut":"Cut (Lose Fat)","coach.goalRecomp":"Recomp (Build Muscle)","coach.goalGain":"Gain (Build Mass)","coach.difficulty":"Difficulty","coach.difficultyEasy":"Easy (-250 kcal)","coach.difficultyModerate":"Moderate (-500 kcal)","coach.difficultyAggressive":"Aggressive (-750 kcal)","coach.daysPerWeek":"Days per week","coach.sessionLength":"Session length","coach.equipment":"Available equipment","coach.injuries":"Injuries or limitations","coach.weakSpots":"Areas to focus on","coach.cardio":"Cardio preference","coach.dietType":"Diet type","coach.weeklyCheckin":"Weekly Check-in","coach.updated":"Coach updated your plan","notifications.scanReminder":"Scan reminder","notifications.workoutReminder":"Workout reminder","notifications.checkinReminder":"Weekly check-in","notifications.renewalReminder":"Renewal reminder","legal.consent":"By continuing, you agree to our Terms, Privacy Policy, and Disclaimer","legal.notMedicalAdvice":"This is not medical advice. Consult a healthcare professional.","legal.terms":"Terms of Service","legal.privacy":"Privacy Policy","legal.disclaimer":"Medical Disclaimer","legal.accept":"I Accept","common.save":"Save","common.cancel":"Cancel","common.next":"Next","common.back":"Back","common.finish":"Finish","common.loading":"Loading...","common.error":"Error","common.success":"Success"},zh:{"auth.welcome":"","auth.signin":"","auth.signup":"","plans.title":"","meals.title":"","workouts.title":"","scan.title":"","settings.title":"","common.save":"","common.cancel":"","common.next":"","common.back":""},hi:{"auth.welcome":"   ","auth.signin":"  ","auth.signup":" ","plans.title":"  ","meals.title":"","workouts.title":"","scan.title":" ","settings.title":"","common.save":" ","common.cancel":" ","common.next":"","common.back":""},es:{"auth.welcome":"Bienvenido de nuevo","auth.signin":"Iniciar sesin","auth.signup":"Crear cuenta","plans.title":"Elige tu plan","meals.title":"Comidas","workouts.title":"Entrenamientos","scan.title":"Escaneo corporal","settings.title":"Configuracin","common.save":"Guardar","common.cancel":"Cancelar","common.next":"Siguiente","common.back":"Atrs"},fr:{"auth.welcome":"Bon retour","auth.signin":"Se connecter","auth.signup":"Crer un compte","plans.title":"Choisissez votre plan","meals.title":"Repas","workouts.title":"Entranements","scan.title":"Scan corporel","settings.title":"Paramtres","common.save":"Enregistrer","common.cancel":"Annuler","common.next":"Suivant","common.back":"Retour"},ar:{"auth.welcome":" ","auth.signin":" ","auth.signup":" ","plans.title":" ","meals.title":"","workouts.title":"","scan.title":" ","settings.title":"","common.save":"","common.cancel":"","common.next":"","common.back":""},bn:{"auth.welcome":" ","auth.signin":"  ","auth.signup":"  ","plans.title":"   ","meals.title":"","workouts.title":"","scan.title":" ","settings.title":"","common.save":" ","common.cancel":"","common.next":"","common.back":""},pt:{"auth.welcome":"Bem-vindo de volta","auth.signin":"Entrar","auth.signup":"Criar conta","plans.title":"Escolha seu plano","meals.title":"Refeies","workouts.title":"Treinos","scan.title":"Escaneamento corporal","settings.title":"Configuraes","common.save":"Salvar","common.cancel":"Cancelar","common.next":"Prximo","common.back":"Voltar"},ru:{"auth.welcome":"  ","auth.signin":"","auth.signup":" ","plans.title":"  ","meals.title":"","workouts.title":"","scan.title":" ","settings.title":"","common.save":"","common.cancel":"","common.next":"","common.back":""},ur:{"auth.welcome":"   ","auth.signin":"  ","auth.signup":" ","plans.title":"   ","meals.title":"","workouts.title":"","scan.title":" ","settings.title":"","common.save":" ","common.cancel":"","common.next":"","common.back":""}},ky=i0("i18n")?PM:{en:PM.en};function Uo(){const[t,e]=b.useState("en"),n=i=>ky[t][i]||i,r=i=>{e(i),localStorage.setItem("mbs-language",i)};return b.useEffect(()=>{const i=localStorage.getItem("mbs-language");if(i&&ky[i]){e(i);return}const o=navigator.language.split("-")[0];ky[o]?(e(o),localStorage.setItem("mbs-language",o)):e("en")},[]),{t:n,language:t,changeLanguage:r,availableLanguages:Object.keys(ky)}}function fl(){const{t}=Uo();return l.jsxs(pw,{className:"mb-4",children:[l.jsx(nB,{className:"h-4 w-4"}),l.jsx(mw,{className:"text-xs",children:t("legal.notMedicalAdvice")})]})}const Lye={photo:"Photo","photo+measure":"Photo + Tape",bmi_fallback:"BMI Fallback"};function Fye(t){return t==null?{label:"Unknown",tone:"secondary"}:t>=.85?{label:"High",tone:"default"}:t>=.7?{label:"Medium",tone:"outline"}:{label:"Low",tone:"secondary"}}function Vye(t){if(!t)return"";try{return new Date(t*1e3).toLocaleDateString()}catch{return""}}function jM(t){return t==="4"?"Precise (4 photos)":"Quick (2 photos)"}function Bye(){const[t,e]=b.useState([]);b.useEffect(()=>{const r=Be.currentUser;if(!r)return;const i=wl(nt,"users",r.uid,"scans"),o=Qc(i,Jc("completedAt","desc"),bg(25)),a=eo(o,s=>{const c=[];s.forEach(u=>{const d=u.data(),f=ko(d);!d.charged||f.bodyFatPercent==null||c.push({id:u.id,...d})}),e(c)});return()=>a()},[]);const n=b.useMemo(()=>t.filter(r=>{const i=ko(r);return r.charged&&i.bodyFatPercent!=null}),[t]);return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"History  MyBodyScan",description:"Review your photo scan history."}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex w-full max-w-3xl flex-col gap-4 p-6",children:[l.jsx(fl,{}),l.jsx(If,{}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-semibold",children:"History"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Track previous photo scans and revisit your body-fat estimates."})]}),n.length===0?l.jsx(te,{children:l.jsx(ne,{className:"py-6 text-center text-sm text-muted-foreground",children:"Complete a scan to see it listed here."})}):l.jsx("div",{className:"space-y-3",children:n.map(r=>{var u;const i=ko(r),o=Fye(i.confidence??r.confidence),a=Lye[i.method||r.method||""]||i.method||r.method||"Photo",s=i.bodyFatPercent??null,c=i.bmi??null;return l.jsx(Ar,{to:`/results/${r.id}`,className:"block rounded-lg border transition hover:border-primary",children:l.jsxs(te,{children:[l.jsxs(he,{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx(me,{className:"text-lg",children:Vye((u=r.completedAt)==null?void 0:u.seconds)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:jM(r.mode)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hr,{children:a}),l.jsx(hr,{variant:o.tone,children:o.label})]})]}),l.jsxs(ne,{className:"grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Body Fat"}),l.jsx("p",{className:"text-lg font-semibold",children:s!=null?`${s.toFixed(1)}%`:""})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"BMI"}),l.jsx("p",{className:"text-lg font-semibold",children:c!=null?Ld(c):""})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Mode"}),l.jsx("p",{className:"text-lg font-semibold",children:jM(r.mode)})]})]})]})},r.id)})})]}),l.jsx(nr,{})]})}function Uye(){const{t}=Uo(),e=async(r,i)=>{var o;try{vi("checkout_start",{plan:r}),await Iye(r,i)}catch(a){(o=a==null?void 0:a.message)!=null&&o.includes("Backend URL not configured")?se({title:"Service unavailable",description:"Payments are not available in development mode.",variant:"destructive"}):se({title:"Error",description:(a==null?void 0:a.message)||"Failed to start checkout",variant:"destructive"})}},n=[{name:"Single Scan",price:"$9.99",period:"one-time",credits:"1 scan credit",priceId:"price_single_scan",mode:"payment",features:["1 body composition scan","Detailed analysis","Progress tracking"],description:"Perfect for trying out MyBodyScan"},{name:"Extra Scan",price:"$9.99",period:"one-time",credits:"1 scan credit",priceId:"price_extra_scan",mode:"payment",features:["Additional scan credit","For existing subscribers","Same detailed analysis"],description:"For subscribers who need extra scans",subscriberOnly:!0},{name:"Monthly",price:"$14.99",originalPrice:"$24.99",period:"first month, then $24.99/mo",credits:"Unlimited scans + Coach + Nutrition",priceId:"price_monthly_intro",mode:"subscription",features:["Unlimited body scans","AI Coach & workout plans","Nutrition tracking & advice","Progress analytics","Priority support"]},{name:"Annual",price:"$199.99",period:"per year",credits:"Everything included",priceId:"price_annual",mode:"subscription",popular:!0,features:["All Monthly features","Save $99.89 vs monthly","Advanced analytics","Export data","Early access to new features"],badge:"Best Value"}];return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(Fe,{title:"Plans - MyBodyScan",description:"Choose your scanning plan"}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:t("plans.title")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t("plans.description")}),It()&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Demo mode  purchase requires sign-up."})]}),l.jsx("div",{className:"space-y-4",children:n.filter(r=>!r.subscriberOnly||!1).map(r=>l.jsxs(te,{className:r.popular?"border-primary shadow-lg":"",children:[l.jsxs(he,{className:"relative",children:[(r.popular||r.badge)&&l.jsx(hr,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground",children:r.badge||"Most Popular"}),l.jsxs(me,{className:"flex items-center justify-between",children:[l.jsx("span",{children:r.name}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[r.originalPrice&&l.jsx("span",{className:"text-sm text-muted-foreground line-through",children:r.originalPrice}),l.jsx("div",{className:"text-lg font-bold",children:r.price})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:r.period})]})]}),l.jsx("p",{className:"text-sm text-accent font-medium",children:r.credits}),r.description&&l.jsx("p",{className:"text-xs text-muted-foreground",children:r.description})]}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("ul",{className:"space-y-2",children:r.features.map(i=>l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx(ng,{className:"h-4 w-4 text-accent flex-shrink-0"}),l.jsx("span",{children:i})]},i))}),l.jsx(X,{className:"w-full",variant:r.popular?"default":"outline",onClick:()=>e(r.priceId,r.mode),children:r.mode==="subscription"?t("plans.subscribe"):t("plans.buyNow")})]})]},r.name))}),l.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-primary/10 to-accent/10 rounded-lg",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"Save Hundreds Every Month"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center py-2",children:[l.jsx("span",{className:"text-muted-foreground",children:" Dietitian visits"}),l.jsx("span",{className:"font-semibold",children:"~$300/month"})]}),l.jsxs("div",{className:"flex justify-between items-center py-2",children:[l.jsx("span",{className:"text-muted-foreground",children:" Personal trainer"}),l.jsx("span",{className:"font-semibold",children:"~$240/month"})]}),l.jsxs("div",{className:"flex justify-between items-center py-2",children:[l.jsx("span",{className:"text-muted-foreground",children:" DEXA scans"}),l.jsx("span",{className:"font-semibold",children:"~$150/scan"})]}),l.jsx("hr",{className:"border-border my-2"}),l.jsxs("div",{className:"flex justify-between items-center py-2 text-lg",children:[l.jsx("span",{className:"text-primary font-bold",children:"MyBodyScan"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-bold text-primary",children:"$24.99/month"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"(first month $14.99)"}),l.jsx("div",{className:"text-sm font-semibold text-accent",children:"or $199.99/year"})]})]})]}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"All-in-one nutrition coaching, personalized workouts, and progress scans  save hundreds every month."})]}),l.jsx("div",{className:"text-center p-4 bg-muted rounded-lg",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Questions about pricing? ",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Contact our support team for help"})]})})]}),l.jsx(nr,{})]})}function CM(t,[e,n]){return Math.min(n,Math.max(e,t))}function nN(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zye=[" ","Enter","ArrowUp","ArrowDown"],Wye=[" ","Enter"],$c="Select",[o0,a0,Hye]=ew($c),[kf]=Dr($c,[Hye,wf]),s0=wf(),[qye,Sl]=kf($c),[Kye,Gye]=kf($c),V8=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=t,g=s0(e),[v,x]=b.useState(null),[w,_]=b.useState(null),[T,E]=b.useState(!1),P=Zw(u),[S,A]=Aa({prop:r,defaultProp:i??!1,onChange:o,caller:$c}),[C,I]=Aa({prop:a,defaultProp:s,onChange:c,caller:$c}),N=b.useRef(null),k=v?y||!!v.closest("form"):!0,[R,$]=b.useState(new Set),U=Array.from(R).map(B=>B.props.value).join(";");return l.jsx(MB,{...g,children:l.jsxs(qye,{required:p,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:T,onValueNodeHasChildrenChange:E,contentId:To(),value:C,onValueChange:I,open:S,onOpenChange:A,dir:P,triggerPointerDownPosRef:N,disabled:h,children:[l.jsx(o0.Provider,{scope:e,children:l.jsx(Kye,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(B=>{$(V=>new Set(V).add(B))},[]),onNativeOptionRemove:b.useCallback(B=>{$(V=>{const F=new Set(V);return F.delete(B),F})},[]),children:n})}),k?l.jsxs(uW,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:B=>I(B.target.value),disabled:h,form:y,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},U):null]})})};V8.displayName=$c;var B8="SelectTrigger",U8=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=s0(n),a=Sl(B8,n),s=a.disabled||r,c=Qe(e,a.onTriggerChange),u=a0(n),d=b.useRef("touch"),[f,h,p]=fW(g=>{const v=u().filter(_=>!_.disabled),x=v.find(_=>_.value===a.value),w=hW(v,g,x);w!==void 0&&a.onValueChange(w.value)}),y=g=>{s||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(tj,{asChild:!0,...o,children:l.jsx(_e.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":dW(a.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:pe(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&zye.includes(g.key)&&(y(),g.preventDefault())})})})});U8.displayName=B8;var z8="SelectValue",W8=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,c=Sl(z8,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Qe(e,c.onValueNodeChange);return sn(()=>{u(d)},[u,d]),l.jsx(_e.span,{...s,ref:f,style:{pointerEvents:"none"},children:dW(c.value)?l.jsx(l.Fragment,{children:a}):o})});W8.displayName=z8;var Yye="SelectIcon",H8=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(_e.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});H8.displayName=Yye;var Xye="SelectPortal",q8=t=>l.jsx(eg,{asChild:!0,...t});q8.displayName=Xye;var Lc="SelectContent",K8=b.forwardRef((t,e)=>{const n=Sl(Lc,t.__scopeSelect),[r,i]=b.useState();if(sn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Kc.createPortal(l.jsx(G8,{scope:t.__scopeSelect,children:l.jsx(o0.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(Y8,{...t,ref:e})});K8.displayName=Lc;var Ri=10,[G8,El]=kf(Lc),Qye="SelectContentImpl",Jye=jc("SelectContent.RemoveScroll"),Y8=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=t,w=Sl(Lc,n),[_,T]=b.useState(null),[E,P]=b.useState(null),S=Qe(e,oe=>T(oe)),[A,C]=b.useState(null),[I,N]=b.useState(null),k=a0(n),[R,$]=b.useState(!1),U=b.useRef(!1);b.useEffect(()=>{if(_)return kC(_)},[_]),IC();const B=b.useCallback(oe=>{const[Pe,...ie]=k().map(G=>G.ref.current),[ae]=ie.slice(-1),ue=document.activeElement;for(const G of oe)if(G===ue||(G==null||G.scrollIntoView({block:"nearest"}),G===Pe&&E&&(E.scrollTop=0),G===ae&&E&&(E.scrollTop=E.scrollHeight),G==null||G.focus(),document.activeElement!==ue))return},[k,E]),V=b.useCallback(()=>B([A,_]),[B,A,_]);b.useEffect(()=>{R&&V()},[R,V]);const{onOpenChange:F,triggerPointerDownPosRef:L}=w;b.useEffect(()=>{if(_){let oe={x:0,y:0};const Pe=ae=>{var ue,G;oe={x:Math.abs(Math.round(ae.pageX)-(((ue=L.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((G=L.current)==null?void 0:G.y)??0))}},ie=ae=>{oe.x<=10&&oe.y<=10?ae.preventDefault():_.contains(ae.target)||F(!1),document.removeEventListener("pointermove",Pe),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",ie,{capture:!0})}}},[_,F,L]),b.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[H,z]=fW(oe=>{const Pe=k().filter(ue=>!ue.disabled),ie=Pe.find(ue=>ue.ref.current===document.activeElement),ae=hW(Pe,oe,ie);ae&&setTimeout(()=>ae.ref.current.focus())}),W=b.useCallback((oe,Pe,ie)=>{const ae=!U.current&&!ie;(w.value!==void 0&&w.value===Pe||ae)&&(C(oe),ae&&(U.current=!0))},[w.value]),K=b.useCallback(()=>_==null?void 0:_.focus(),[_]),re=b.useCallback((oe,Pe,ie)=>{const ae=!U.current&&!ie;(w.value!==void 0&&w.value===Pe||ae)&&N(oe)},[w.value]),de=r==="popper"?oT:X8,be=de===oT?{side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return l.jsx(G8,{scope:n,content:_,viewport:E,onViewportChange:P,itemRefCallback:W,selectedItem:A,onItemLeave:K,itemTextRefCallback:re,focusSelectedItem:V,selectedItemText:I,position:r,isPositioned:R,searchRef:H,children:l.jsx(Kw,{as:Jye,allowPinchZoom:!0,children:l.jsx(Hw,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:pe(i,oe=>{var Pe;(Pe=w.trigger)==null||Pe.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(gf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(de,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...x,...be,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:pe(x.onKeyDown,oe=>{const Pe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Pe&&oe.key.length===1&&z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ae=k().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ue=oe.target,G=ae.indexOf(ue);ae=ae.slice(G+1)}setTimeout(()=>B(ae)),oe.preventDefault()}})})})})})})});Y8.displayName=Qye;var Zye="SelectItemAlignedPosition",X8=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Sl(Lc,n),a=El(Lc,n),[s,c]=b.useState(null),[u,d]=b.useState(null),f=Qe(e,S=>d(S)),h=a0(n),p=b.useRef(!1),y=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=a,_=b.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&u&&g&&v&&x){const S=o.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(o.dir!=="rtl"){const ue=I.left-A.left,G=C.left-ue,je=S.left-G,Ae=S.width+je,ot=Math.max(Ae,A.width),at=window.innerWidth-Ri,kt=CM(G,[Ri,Math.max(Ri,at-ot)]);s.style.minWidth=Ae+"px",s.style.left=kt+"px"}else{const ue=A.right-I.right,G=window.innerWidth-C.right-ue,je=window.innerWidth-S.right-G,Ae=S.width+je,ot=Math.max(Ae,A.width),at=window.innerWidth-Ri,kt=CM(G,[Ri,Math.max(Ri,at-ot)]);s.style.minWidth=Ae+"px",s.style.right=kt+"px"}const N=h(),k=window.innerHeight-Ri*2,R=g.scrollHeight,$=window.getComputedStyle(u),U=parseInt($.borderTopWidth,10),B=parseInt($.paddingTop,10),V=parseInt($.borderBottomWidth,10),F=parseInt($.paddingBottom,10),L=U+B+R+F+V,H=Math.min(v.offsetHeight*5,L),z=window.getComputedStyle(g),W=parseInt(z.paddingTop,10),K=parseInt(z.paddingBottom,10),re=S.top+S.height/2-Ri,de=k-re,be=v.offsetHeight/2,oe=v.offsetTop+be,Pe=U+B+oe,ie=L-Pe;if(Pe<=re){const ue=N.length>0&&v===N[N.length-1].ref.current;s.style.bottom="0px";const G=u.clientHeight-g.offsetTop-g.offsetHeight,je=Math.max(de,be+(ue?K:0)+G+V),Ae=Pe+je;s.style.height=Ae+"px"}else{const ue=N.length>0&&v===N[0].ref.current;s.style.top="0px";const je=Math.max(re,U+g.offsetTop+(ue?W:0)+be)+ie;s.style.height=je+"px",g.scrollTop=Pe-re+g.offsetTop}s.style.margin=`${Ri}px 0`,s.style.minHeight=H+"px",s.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,s,u,g,v,x,o.dir,r]);sn(()=>_(),[_]);const[T,E]=b.useState();sn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const P=b.useCallback(S=>{S&&y.current===!0&&(_(),w==null||w(),y.current=!1)},[_,w]);return l.jsx(tve,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:l.jsx(_e.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});X8.displayName=Zye;var eve="SelectPopperPosition",oT=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ri,...o}=t,a=s0(n);return l.jsx(nj,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oT.displayName=eve;var[tve,rN]=kf(Lc,{}),aT="SelectViewport",Q8=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=El(aT,n),a=rN(aT,n),s=Qe(e,o.onViewportChange),c=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(o0.Slot,{scope:n,children:l.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Ri*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+p,_=Math.min(y,w),T=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Q8.displayName=aT;var J8="SelectGroup",[nve,rve]=kf(J8),ive=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=To();return l.jsx(nve,{scope:n,id:i,children:l.jsx(_e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ive.displayName=J8;var Z8="SelectLabel",eW=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=rve(Z8,n);return l.jsx(_e.div,{id:i.id,...r,ref:e})});eW.displayName=Z8;var Ix="SelectItem",[ove,tW]=kf(Ix),nW=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=Sl(Ix,n),c=El(Ix,n),u=s.value===r,[d,f]=b.useState(o??""),[h,p]=b.useState(!1),y=Qe(e,w=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,w,r,i)}),g=To(),v=b.useRef("touch"),x=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(ove,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(o0.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(_e.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:pe(a.onFocus,()=>p(!0)),onBlur:pe(a.onBlur,()=>p(!1)),onClick:pe(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:pe(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:pe(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:pe(a.onPointerMove,w=>{var _;v.current=w.pointerType,i?(_=c.onItemLeave)==null||_.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(a.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:pe(a.onKeyDown,w=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&w.key===" "||(Wye.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});nW.displayName=Ix;var Wh="SelectItemText",rW=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Sl(Wh,n),s=El(Wh,n),c=tW(Wh,n),u=Gye(Wh,n),[d,f]=b.useState(null),h=Qe(e,x=>f(x),c.onItemTextChange,x=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=b.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return sn(()=>(g(y),()=>v(y)),[g,v,y]),l.jsxs(l.Fragment,{children:[l.jsx(_e.span,{id:c.textId,...o,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Kc.createPortal(o.children,a.valueNode):null]})});rW.displayName=Wh;var iW="SelectItemIndicator",oW=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return tW(iW,n).isSelected?l.jsx(_e.span,{"aria-hidden":!0,...r,ref:e}):null});oW.displayName=iW;var sT="SelectScrollUpButton",aW=b.forwardRef((t,e)=>{const n=El(sT,t.__scopeSelect),r=rN(sT,t.__scopeSelect),[i,o]=b.useState(!1),a=Qe(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?l.jsx(lW,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});aW.displayName=sT;var lT="SelectScrollDownButton",sW=b.forwardRef((t,e)=>{const n=El(lT,t.__scopeSelect),r=rN(lT,t.__scopeSelect),[i,o]=b.useState(!1),a=Qe(e,r.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?l.jsx(lW,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});sW.displayName=lT;var lW=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=El("SelectScrollButton",n),a=b.useRef(null),s=a0(n),c=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),sn(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),l.jsx(_e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),ave="SelectSeparator",cW=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(_e.div,{"aria-hidden":!0,...r,ref:e})});cW.displayName=ave;var cT="SelectArrow",sve=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=s0(n),o=Sl(cT,n),a=El(cT,n);return o.open&&a.position==="popper"?l.jsx(rj,{...i,...r,ref:e}):null});sve.displayName=cT;var lve="SelectBubbleInput",uW=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=b.useRef(null),o=Qe(r,i),a=nN(e);return b.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[a,e]),l.jsx(_e.select,{...n,style:{...jV,...n.style},ref:o,defaultValue:e})});uW.displayName=lve;function dW(t){return t===""||t===void 0}function fW(t){const e=pr(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const s=n.current+a;e(s),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(s)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function hW(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=cve(t,Math.max(o,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function cve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var uve=V8,pW=U8,dve=W8,fve=H8,hve=q8,mW=K8,pve=Q8,gW=eW,yW=nW,mve=rW,gve=oW,vW=aW,xW=sW,bW=cW;const vs=uve,xs=dve,ra=b.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(pW,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(fve,{asChild:!0,children:l.jsx(QV,{className:"h-4 w-4 opacity-50"})})]}));ra.displayName=pW.displayName;const wW=b.forwardRef(({className:t,...e},n)=>l.jsx(vW,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(gJ,{className:"h-4 w-4"})}));wW.displayName=vW.displayName;const _W=b.forwardRef(({className:t,...e},n)=>l.jsx(xW,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(QV,{className:"h-4 w-4"})}));_W.displayName=xW.displayName;const ia=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(hve,{children:l.jsxs(mW,{ref:i,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(wW,{}),l.jsx(pve,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(_W,{})]})}));ia.displayName=mW.displayName;const yve=b.forwardRef(({className:t,...e},n)=>l.jsx(gW,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yve.displayName=gW.displayName;const Rt=b.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(yW,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gve,{children:l.jsx(ng,{className:"h-4 w-4"})})}),l.jsx(mve,{children:e})]}));Rt.displayName=yW.displayName;const vve=b.forwardRef(({className:t,...e},n)=>l.jsx(bW,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));vve.displayName=bW.displayName;const Of=h9,l0=p9,xve=m9,SW=b.forwardRef(({className:t,...e},n)=>l.jsx(Yw,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));SW.displayName=Yw.displayName;const tu=b.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(xve,{children:[l.jsx(SW,{}),l.jsxs(Xw,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(g9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(rg,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tu.displayName=Xw.displayName;const nu=({className:t,...e})=>l.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nu.displayName="DialogHeader";const EW=({className:t,...e})=>l.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});EW.displayName="DialogFooter";const ru=b.forwardRef(({className:t,...e},n)=>l.jsx(Qw,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));ru.displayName=Qw.displayName;const TW=b.forwardRef(({className:t,...e},n)=>l.jsx(Jw,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));TW.displayName=Jw.displayName;function AW(){const[t,e]=b.useState(0),[n,r]=b.useState(!0),[i,o]=b.useState(null),[a,s]=b.useState(null),c=Bz.projectId;return b.useEffect(()=>{const u=Tf(Be,d=>{s((d==null?void 0:d.uid)??null),d||(e(0),r(!1))},d=>{o(d.message),r(!1)});return()=>u()},[]),b.useEffect(()=>{if(!a)return;r(!0);const u=Nt(nt,`users/${a}/private/credits`),d=eo(u,f=>{var p,y;const h=(y=(p=f.data())==null?void 0:p.creditsSummary)==null?void 0:y.totalAvailable;e(h??0),r(!1)},f=>{console.error("Error fetching credits:",f),o(f.message),r(!1)});return()=>d()},[a]),{credits:t,loading:n,error:i,uid:a,projectId:c}}function PW(t){const e=[];e.push("version=0.0.0");const r=Be.currentUser;r&&(e.push(`uid=${r.uid}`),r.email&&e.push(`email=${r.email}`)),e.push(`route=${window.location.pathname}`),e.push(`timestamp=${new Date().toISOString()}`),e.push(`device=${navigator.userAgent}`);const i=window.__breadcrumbs||window.__mbsBreadcrumbs||window.__mbsLogs||[];return Array.isArray(i)&&i.length&&e.push("logs="+i.slice(-5).join(" | ")),`mailto:support@mybodyscanapp.com?subject=MyBodyScan%20Support&body=${encodeURIComponent(e.join(`
`))}`}async function bve(){const t=hg().currentUser,e={uid:(t==null?void 0:t.uid)||"signed-out",email:(t==null?void 0:t.email)||"",tz:Intl.DateTimeFormat().resolvedOptions().timeZone,ua:navigator.userAgent,path:window.location.pathname,ts:new Date().toISOString(),breadcrumbs:Cye()};return JSON.stringify(e,null,2)}async function jW(){const t=await bve();await navigator.clipboard.writeText(t)}function NM({title:t,description:e,children:n}){return l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{className:"text-base font-semibold",children:t}),e&&l.jsx("div",{className:"text-sm text-muted-foreground",children:e})]}),l.jsx(ne,{children:n})]})}var c0="Switch",[wve]=Dr(c0),[_ve,Sve]=wve(c0),CW=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),y=Qe(e,_=>p(_)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,w]=Aa({prop:i,defaultProp:o??!1,onChange:u,caller:c0});return l.jsxs(_ve,{scope:n,checked:x,disabled:s,children:[l.jsx(_e.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":OW(x),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:y,onClick:pe(t.onClick,_=>{w(T=>!T),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&l.jsx(kW,{control:h,bubbles:!g.current,name:r,value:c,checked:x,required:a,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});CW.displayName=c0;var NW="SwitchThumb",IW=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Sve(NW,n);return l.jsx(_e.span,{"data-state":OW(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});IW.displayName=NW;var Eve="SwitchBubbleInput",kW=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const a=b.useRef(null),s=Qe(a,o),c=nN(n),u=JP(e);return b.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kW.displayName=Eve;function OW(t){return t?"checked":"unchecked"}var RW=CW,Tve=IW;const iN=b.forwardRef(({className:t,...e},n)=>l.jsx(RW,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(Tve,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));iN.displayName=RW.displayName;function Oy({label:t,description:e,checked:n,onChange:r}){return l.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-medium text-foreground",children:t}),e&&l.jsx("div",{className:"text-xs text-muted-foreground",children:e})]}),l.jsx(iN,{checked:n,onCheckedChange:r})]})}function Kn({name:t,fallback:e=null,children:n}){return i0(t)?l.jsx(l.Fragment,{children:n}):l.jsx(l.Fragment,{children:e})}const Ave="https://linear.app/mybodyscan/issue/REMINDERS-SHIM";function Pve(t){console.info(`[shim] ${t}()  replace with reminders service. TODO: ${Ave}`)}async function jve(t){return Pve("scheduleReminderMock"),{reminderId:`demo-reminder-${Date.now()}`,...t,status:"scheduled"}}function u0(){var o;const[t,e]=b.useState(null),[n,r]=b.useState(null),i=((o=Be.currentUser)==null?void 0:o.uid)||null;return b.useEffect(()=>{if(!i)return;const a=Nt(nt,"users",i,"coach","profile"),s=eo(a,d=>{e(d.data()||null)}),c=Nt(nt,"users",i,"coach","plan","current"),u=eo(c,d=>{r(d.data()||null)});return()=>{s(),u()}},[i]),{profile:t,plan:n}}const Cve=()=>{const[t,e]=b.useState({scanReminder:!0,workoutReminder:!0,checkinReminder:!0,renewalReminder:!0}),[n,r]=b.useState(!1),[i,o]=b.useState(!1),{uid:a}=AW(),{t:s,language:c,changeLanguage:u,availableLanguages:d}=Uo(),f=Gt(),{profile:h}=u0(),[p,y]=b.useState(""),[g,v]=b.useState(!1);b.useEffect(()=>{(h==null?void 0:h.weight_kg)!=null&&y(Math.round($d(h.weight_kg)).toString())},[h==null?void 0:h.weight_kg]);const x=async P=>{o(!0);try{const S=new Date(Date.now()+36e5).toISOString(),A=await jve({type:P,sendAt:S,channel:"push"});se({title:"Reminder scheduled",description:`${P} reminder queued (${A.reminderId}).`})}catch(S){se({title:"Unable to schedule",description:(S==null?void 0:S.message)||"Try again later",variant:"destructive"})}finally{o(!1)}},w=async()=>{if(!Be.currentUser){se({title:"Sign in required",description:"Sign in to update your profile.",variant:"destructive"}),f("/auth");return}const P=parseFloat(p);if(!Number.isFinite(P)||P<=0){se({title:"Enter your weight",description:"Weight must be a positive number in pounds.",variant:"destructive"});return}v(!0);try{const S=Number(KC(P).toFixed(2)),A=Nt(nt,"users",Be.currentUser.uid,"coach","profile");await _l(A,{weight_kg:S},{merge:!0}),se({title:"Weight updated"})}catch(S){console.error("save_weight",S),se({title:"Unable to save weight",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(It()){se({title:"Create a free account to save settings."}),f("/auth");return}await tT(),f("/auth")},T=async()=>{if(It()){se({title:"Create a free account to export data."}),f("/auth");return}try{const P=await fetch("/api/exportData",{method:"POST",headers:{Authorization:`Bearer ${await a}`}});if(P.ok){const S=await P.blob(),A=window.URL.createObjectURL(S),C=document.createElement("a");C.href=A,C.download=`mybodyscan-data-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(A),se({title:"Data exported successfully"})}}catch{se({title:"Export failed",variant:"destructive"})}},E=async()=>{if(It()){se({title:"Create a free account to manage account."}),f("/auth");return}try{(await fetch("/api/deleteAccount",{method:"POST",headers:{Authorization:`Bearer ${await a}`}})).ok?(se({title:"Account deleted successfully"}),await tT(),f("/")):se({title:"Delete failed",variant:"destructive"})}catch{se({title:"Delete failed",variant:"destructive"})}r(!1)};return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(Fe,{title:"Settings - MyBodyScan",description:"Manage your preferences and data."}),It()&&l.jsx("div",{className:"rounded bg-muted p-2 text-center text-xs",children:"Demo settings  sign up to save changes."}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:s("settings.title")}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Body metrics"})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Height"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:QC(h==null?void 0:h.height_cm)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"weight",children:"Current weight (lb)"}),l.jsx(Ze,{id:"weight",type:"number",inputMode:"decimal",placeholder:"Enter weight in pounds",value:p,onChange:P=>y(P.target.value)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Saved securely in kilograms for calculations."})]}),l.jsx(X,{onClick:w,disabled:g,className:"w-full",children:g?"Saving...":"Save weight"})]})]}),l.jsx(NM,{title:s("settings.notifications"),children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oy,{label:s("notifications.scanReminder"),description:"Every 10 days since last scan",checked:t.scanReminder,onChange:P=>e(S=>({...S,scanReminder:P}))}),l.jsx(Oy,{label:s("notifications.workoutReminder"),description:"8am on planned workout days",checked:t.workoutReminder,onChange:P=>e(S=>({...S,workoutReminder:P}))}),l.jsx(Oy,{label:s("notifications.checkinReminder"),description:"Weekly check-in reminders",checked:t.checkinReminder,onChange:P=>e(S=>({...S,checkinReminder:P}))}),l.jsx(Oy,{label:s("notifications.renewalReminder"),description:"3 days before renewal",checked:t.renewalReminder,onChange:P=>e(S=>({...S,renewalReminder:P}))})]})}),l.jsx(Kn,{name:"reminders",children:l.jsx(NM,{title:"Quick reminders",description:"Send yourself a demo push to preview the flow.",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(X,{size:"sm",variant:"outline",disabled:i,onClick:()=>x("scan"),children:"Schedule scan reminder"}),l.jsx(X,{size:"sm",variant:"outline",disabled:i,onClick:()=>x("workout"),children:"Schedule workout reminder"}),l.jsx(X,{size:"sm",variant:"outline",disabled:i,onClick:()=>x("meal"),children:"Schedule meal reminder"})]})})}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:s("settings.language")})}),l.jsx(ne,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{children:"Interface language"}),l.jsxs(vs,{value:c,onValueChange:u,children:[l.jsx(ra,{children:l.jsx(xs,{})}),l.jsx(ia,{children:d.map(P=>l.jsx(Rt,{value:P,children:P==="en"?"English":P},P))})]})]})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:s("settings.legal")})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("a",{href:"/legal/privacy",className:"block text-sm underline hover:text-primary",children:"Privacy Policy"}),l.jsx("a",{href:"/legal/terms",className:"block text-sm underline hover:text-primary",children:"Terms of Service"}),l.jsx("a",{href:"/legal/refund",className:"block text-sm underline hover:text-primary",children:"Refund Policy"}),l.jsx("a",{href:"/help",className:"block text-sm underline hover:text-primary",children:"Help Center"}),l.jsx(X,{variant:"outline",onClick:()=>{window.location.href=PW()},className:"w-full",children:"Report a problem"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(X,{variant:"outline",onClick:T,className:"w-full flex items-center gap-2",children:[l.jsx(_J,{className:"w-4 h-4"}),s("settings.export_data")]}),l.jsxs(Of,{open:n,onOpenChange:r,children:[l.jsx(l0,{asChild:!0,children:l.jsxs(X,{variant:"destructive",className:"w-full flex items-center gap-2",children:[l.jsx(eB,{className:"w-4 h-4"}),s("settings.delete_account")]})}),l.jsxs(tu,{children:[l.jsxs(nu,{children:[l.jsx(ru,{children:"Delete Account"}),l.jsx(TW,{children:"Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data."})]}),l.jsxs(EW,{children:[l.jsx(X,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),l.jsx(X,{variant:"destructive",onClick:E,children:"Delete Account"})]})]})]}),l.jsx(X,{variant:"outline",onClick:_,className:"w-full",children:s("settings.sign_out")}),l.jsx(X,{variant:"outline",onClick:async()=>{await jW(),se({title:"Copied diagnostics"})},className:"w-full",children:"Copy diagnostics"})]})]})]})]}),l.jsx(nr,{})]})},Nve=()=>{const t=no();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Oops! Page not found"}),l.jsx(Ar,{to:"/",className:"text-primary underline",children:"Return to Home"})]})})};function Ive(){return l.jsx("footer",{className:"border-t bg-background",children:l.jsx("div",{className:"mx-auto max-w-3xl px-4 py-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-muted-foreground",children:[l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("span",{children:" 2024 MyBodyScan"})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Ar,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy"}),l.jsx(Ar,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms"}),l.jsx(Ar,{to:"/legal/disclaimer",className:"hover:text-foreground transition-colors",children:"Health & Safety"}),l.jsx("a",{href:"mailto:support@mybodyscan.com",className:"hover:text-foreground transition-colors",children:"Support"})]})]})})})}function ki({children:t}){const e=Gt(),n=()=>{Be.currentUser?e("/home"):e("/auth",{state:{from:location.pathname}})};return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur border-b",children:l.jsxs("div",{className:"mx-auto max-w-3xl px-4 h-12 flex items-center justify-between",children:[l.jsxs("button",{className:"flex items-center gap-2 font-semibold",onClick:()=>e("/"),children:[l.jsx("img",{src:"/logo.svg",alt:"MyBodyScan",className:"w-6 h-6"}),"MyBodyScan"]}),l.jsx("nav",{className:"flex items-center gap-2 text-sm",children:l.jsx(X,{size:"sm",variant:"default",onClick:n,children:"Launch App"})})]})}),l.jsx("main",{className:"flex-1 mx-auto max-w-3xl px-4 py-8",children:t}),l.jsx(Ive,{})]})}const kve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Privacy Policy  MyBodyScan",description:"We collect account email and user media to provide estimates; stored securely; never sold; delete on request.",canonical:"https://mybodyscanapp.com/privacy"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none",children:[l.jsx("h1",{children:"Privacy Policy"}),l.jsx("p",{children:"We collect your account email and user media (photos/videos) solely to provide estimates such as body fat %, weight, and BMI. Your data is stored securely, never sold, and retained only as needed to operate the service."}),l.jsxs("p",{children:["You can request data deletion at any time by contacting ",l.jsx("a",{href:"mailto:support@mybodyscanapp.com",children:"support@mybodyscanapp.com"}),"."]})]})]}),Ove=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Terms of Service  MyBodyScan",description:"General-wellness only; not medical advice. No refunds once a scan is processed except as required by law.",canonical:"https://mybodyscanapp.com/terms"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none",children:[l.jsx("h1",{children:"Terms of Service"}),l.jsx("p",{children:"MyBodyScan provides general-wellness information and is not a medical device. Results are estimates and should not be used for diagnosis or treatment. Always consult a qualified professional for medical advice."}),l.jsx("p",{children:"Purchases are non-refundable once a scan has been processed, except where required by applicable law."})]})]}),Rve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Support  MyBodyScan",description:"Get help with MyBodyScan. Contact support@mybodyscanapp.com or call our support line.",canonical:"https://mybodyscanapp.com/support"}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("article",{className:"rounded-lg border p-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Support"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Email: ",l.jsx("a",{className:"underline",href:"mailto:support@mybodyscanapp.com",children:"support@mybodyscanapp.com"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone: (555) 555-1234"}),l.jsx(X,{className:"mt-4",onClick:async()=>{await jW(),se({title:"Copied diagnostics"})},children:"Copy diagnostics"})]}),l.jsxs("article",{className:"rounded-lg border p-4",children:[l.jsx("h2",{className:"font-medium",children:"FAQ"}),l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"How long does a scan take?"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Most scans complete within a minute after upload."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"How do I delete my account?"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email ",l.jsx("a",{className:"underline",href:"mailto:support@mybodyscanapp.com",children:"support@mybodyscanapp.com"})," from your account email and well process the deletion."]})]})]})]})]})]}),Mve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Disclaimer  MyBodyScan",description:"Health information notice",canonical:"https://mybodyscanapp.com/legal/disclaimer"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none",children:[l.jsx("h1",{children:"Health Disclaimer"}),l.jsx("p",{children:"Not medical advice; see a doctor if under 18, pregnant or breastfeeding, with eating disorder history, heart/kidney/liver disease, diabetes on medication, or recent surgery."}),l.jsx("p",{children:"Stop and seek emergency care if chest pain, fainting, or severe dizziness. Calorie bounds are enforced."})]})]}),Dve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Privacy Policy  MyBodyScan",description:"How MyBodyScan handles your account, credits and scan metadata.",canonical:"https://mybodyscanapp.com/legal/privacy"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none p-6",children:[l.jsx("h1",{children:"Privacy Policy"}),l.jsx("p",{children:"We store your account details, credit balances and basic scan metadata only. We do not keep medical information."}),l.jsxs("p",{children:["To remove your data, email ",l.jsx("a",{href:"mailto:support@mybodyscanapp.com",children:"support@mybodyscanapp.com"})," from your account address."]}),l.jsx("p",{children:"Credits expire 12 months after purchase and transaction logs are kept only as required for payments."}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This app is not medical advice."})]})]}),$ve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Terms of Service  MyBodyScan",description:"License and subscription terms for using MyBodyScan.",canonical:"https://mybodyscanapp.com/legal/terms"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none p-6",children:[l.jsx("h1",{children:"Terms of Service"}),l.jsx("p",{children:"You receive a personal, non-transferable license to use the app."}),l.jsx("p",{children:"Subscriptions renew monthly or annually until cancelled. No refunds are offered except where required by law."}),l.jsx("p",{children:"Keep your account secure and use the service responsibly."}),l.jsx("p",{children:"We may terminate accounts for misuse or non-payment."}),l.jsx("p",{children:"These terms are governed by the laws of your jurisdiction."})]})]}),Lve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Refund Policy  MyBodyScan",description:"Refund information for digital purchases on MyBodyScan.",canonical:"https://mybodyscanapp.com/legal/refund"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none p-6",children:[l.jsx("h1",{children:"Refund Policy"}),l.jsx("p",{children:"All purchases of digital goods are final and non-refundable."}),l.jsxs("p",{children:["For billing issues, contact ",l.jsx("a",{href:"mailto:support@mybodyscanapp.com",children:"support@mybodyscanapp.com"}),"."]}),l.jsx("p",{children:"Consumer rights required by law are not affected."})]})]}),Fve=()=>l.jsxs(l.Fragment,{children:[l.jsx(Fe,{title:"Help Center  MyBodyScan",description:"Answers to common questions and support.",canonical:"https://mybodyscanapp.com/help"}),l.jsxs("article",{className:"prose prose-neutral dark:prose-invert max-w-none p-6",children:[l.jsx("h1",{children:"Help Center"}),l.jsx("h2",{children:"Why cant I scan?"}),l.jsx("p",{children:"You need an available credit; buy one on the Plans page."}),l.jsx("h2",{children:"How many scans per plan?"}),l.jsx("p",{children:"Starter includes 1, Pro 3 per month, and Elite 36 per year. Credits roll over for 12 months."}),l.jsx("h2",{children:"What photos do I need?"}),l.jsx("p",{children:"Use good lighting, a plain background, and capture your full body."}),l.jsx("h2",{children:"Calories look different than I entered"}),l.jsx("p",{children:"Entries are reconciled to your macro targets so totals may shift slightly."}),l.jsx("h2",{children:"Delete my data"}),l.jsxs("p",{children:["Use Settings  Delete or email ",l.jsx("a",{href:"mailto:support@mybodyscanapp.com",children:"support@mybodyscanapp.com"}),"."]}),l.jsx(X,{className:"mt-4",onClick:()=>{window.location.href=PW()},children:"Report a problem"})]})]});function Vve(){const t=Gt();return b.useEffect(()=>{const e=setTimeout(()=>t("/scan/new"),4e3);return()=>clearTimeout(e)},[t]),l.jsxs("main",{className:"mx-auto max-w-2xl p-6",children:[l.jsx(Fe,{title:"Checkout Success  MyBodyScan",description:"Your payment succeeded. Redirecting you back to the app."}),l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Payment successful"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Thanks! Youll be redirected shortly. You can also jump back now."}),l.jsx("div",{className:"flex gap-2",children:l.jsx(X,{onClick:()=>t(Be.currentUser?"/scan/new":"/auth"),children:"Return to App"})})]})}function Bve(){const t=Gt();return b.useEffect(()=>{const e=setTimeout(()=>t("/scan/new"),4e3);return()=>clearTimeout(e)},[t]),l.jsxs("main",{className:"mx-auto max-w-2xl p-6",children:[l.jsx(Fe,{title:"Checkout Canceled  MyBodyScan",description:"Your payment was canceled. You can try again anytime."}),l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Payment canceled"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"No charge was made. Youll be redirected shortly. You can also jump back now."}),l.jsx("div",{className:"flex gap-2",children:l.jsx(X,{onClick:()=>t(Be.currentUser?"/scan/new":"/auth"),children:"Return to App"})})]})}var Uve="Separator",IM="horizontal",zve=["horizontal","vertical"],MW=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=IM,...i}=t,o=Wve(r)?r:IM,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(_e.div,{"data-orientation":o,...s,...i,ref:e})});MW.displayName=Uve;function Wve(t){return zve.includes(t)}var DW=MW;const $W=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>l.jsx(DW,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));$W.displayName=DW.displayName;const Hve=1080,qve=18,Kve=14,kM=[40,215],OM=[.5,2.5];function uT(t,e){if(typeof document>"u")throw new Error("Canvas unavailable in this environment");const n=document.createElement("canvas");return n.width=t,n.height=e,n}function Yl(t,e,n){return .2126*t+.7152*e+.0722*n}async function LW(t){if(typeof window>"u")throw new Error("Browser APIs required for image analysis");const e=new Image,n=URL.createObjectURL(t);e.crossOrigin="anonymous",await new Promise((c,u)=>{e.onload=()=>c(),e.onerror=d=>u(d instanceof ErrorEvent?d.error:new Error("image_load_failed")),e.src=n});const r=e.naturalWidth||e.width,i=e.naturalHeight||e.height,a=uT(r,i).getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("Canvas context unavailable");a.drawImage(e,0,0,r,i);const s=a.getImageData(0,0,r,i);return URL.revokeObjectURL(n),{width:r,height:i,data:s}}function Gve(t){const{data:e,width:n,height:r}=t;let i=0,o=0,a=0;for(let c=1;c<r-1;c++)for(let u=1;u<n-1;u++){const d=(c*n+u)*4,f=Yl(e[d],e[d+1],e[d+2]),h=(c*n+(u-1))*4,p=(c*n+(u+1))*4,y=((c-1)*n+u)*4,g=((c+1)*n+u)*4,v=Yl(e[h],e[h+1],e[h+2])+Yl(e[p],e[p+1],e[p+2])+Yl(e[y],e[y+1],e[y+2])+Yl(e[g],e[g+1],e[g+2])-4*f;i+=v,o+=v*v,a+=1}if(!a)return 0;const s=i/a;return o/a-s*s}function Yve(t){const e=t.data.data,{width:n,height:r}=t,i=n*r,o=new Array(r).fill(n),a=new Array(r).fill(-1);let s=0,c=0,u=0,d=0,f=r,h=0;for(let A=0;A<r;A++)for(let C=0;C<n;C++){const I=(A*n+C)*4,N=Yl(e[I],e[I+1],e[I+2]);s+=N,c+=N*N,N<235&&(u+=1,d+=C,o[A]>C&&(o[A]=C),a[A]<C&&(a[A]=C),f>A&&(f=A),h<A&&(h=A))}const p=s/i,y=c/i-p*p,g=Math.sqrt(Math.max(y,0));let v=0,x=0,w=0;const _=Math.max(h-f,0),T=A=>{if(_<=0)return 0;const C=Math.min(r-1,Math.max(0,Math.round(f+_*A))),I=o[C],N=a[C];return I>=N||I===n||N<0?0:N-I};v=T(.22),x=T(.48),w=T(.62);const E=u/i,P=u?d/u:n/2,S=Math.abs(P-n/2)/n;return{brightness:p,contrast:g,sharpness:Gve(t.data),aspectRatio:r/n,centerOffsetRatio:S,subjectCoverage:E,subjectHeightPx:_,shoulderWidth:v,waistWidth:x,hipWidth:w,height:r,width:n}}function Xve(t){const e=new Set;let n=1;if(t.longEdge<Hve&&(e.add("Use a higher-resolution photo (long edge 1080px)"),n-=.35),(t.aspectRatio<OM[0]||t.aspectRatio>OM[1])&&(e.add("Retake in portrait orientation with full body visible"),n-=.15),(t.brightness<kM[0]||t.brightness>kM[1])&&(e.add("Adjust lighting so the subject is evenly lit"),n-=.2),t.contrast<qve&&(e.add("Increase contrast with a neutral background"),n-=.2),t.sharpness<Kve&&(e.add("Photo is blurry  steady the camera and retake"),n-=.25),t.centerOffsetRatio>.18&&(e.add("Stand centered in the frame"),n-=.1),(t.subjectCoverage<.18||t.subjectCoverage>.6)&&(e.add("Stand closer so your body fills most of the frame"),n-=.1),t.subjectHeightPx<t.height*.6&&(e.add("Ensure your full body from head to toe is visible"),n-=.2),t.imageIndex===0){const i=t.waistWidth>0?t.shoulderWidth/t.waistWidth:0;(!Number.isFinite(i)||i<1.02)&&(e.add("Raise arms slightly away from torso"),n-=.15),(t.waistWidth<=0||t.hipWidth<=0)&&(e.add("Torso not detected  try a cleaner background"),n-=.2)}return{score:Math.max(0,Math.min(1,n)),reasons:Array.from(e)}}async function Qve(t){if(!t.length)return{pass:!1,score:0,reasons:["Add the required photos before submitting"]};const e=new Set;let n=0;for(let o=0;o<t.length;o++){const a=t[o],s=await LW(a),c=Yve(s),u=Xve({...c,longEdge:Math.max(c.width,c.height),imageIndex:o});u.reasons.forEach(d=>e.add(d)),n+=u.score}const r=Math.max(0,Math.min(1,n/t.length));return{pass:r>=.7&&e.size===0,score:r,reasons:Array.from(e)}}async function Jve(t){const e=await LW(t),n=8,i=uT(n,n).getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("Canvas context unavailable");const o=uT(e.width,e.height),a=o.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("Canvas context unavailable");a.putImageData(e.data,0,0),i.drawImage(o,0,0,n,n);const c=i.getImageData(0,0,n,n).data;let u=0;const d=[];for(let y=0;y<c.length;y+=4){const g=Yl(c[y],c[y+1],c[y+2]);d.push(g),u+=g}const f=u/d.length;let h="";for(const y of d)h+=y>=f?"1":"0";return(h.match(/.{1,4}/g)||[]).map(y=>parseInt(y.padEnd(4,"0"),2).toString(16)).join("")}const Zve={neck:.18,waist:.48,hip:.62};function exe(t,e){if(typeof document>"u")throw new Error("Canvas unavailable");const n=document.createElement("canvas");return n.width=t,n.height=e,n}function Nu(t,e,n){return .2126*t+.7152*e+.0722*n}async function yh(t){if(typeof window>"u")throw new Error("Browser APIs unavailable");const e=new Image,n=URL.createObjectURL(t);e.crossOrigin="anonymous",await new Promise((c,u)=>{e.onload=()=>c(),e.onerror=d=>u(d instanceof ErrorEvent?d.error:new Error("image_load_failed")),e.src=n});const r=e.naturalWidth||e.width,i=e.naturalHeight||e.height,a=exe(r,i).getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("Canvas context unavailable");a.drawImage(e,0,0,r,i);const s=a.getImageData(0,0,r,i);return URL.revokeObjectURL(n),{width:r,height:i,data:s}}function txe(t){const{data:e,width:n,height:r}=t;let i=0,o=0,a=0;for(let c=1;c<r-1;c++)for(let u=1;u<n-1;u++){const d=(c*n+u)*4,f=Nu(e[d],e[d+1],e[d+2]),h=(c*n+(u-1))*4,p=(c*n+(u+1))*4,y=((c-1)*n+u)*4,g=((c+1)*n+u)*4,v=Nu(e[h],e[h+1],e[h+2])+Nu(e[p],e[p+1],e[p+2])+Nu(e[y],e[y+1],e[y+2])+Nu(e[g],e[g+1],e[g+2])-4*f;i+=v,o+=v*v,a+=1}if(!a)return 0;const s=i/a;return o/a-s*s}function vh(t){const{width:e,height:n,data:r}=t,i=r.data,o=new Array(n).fill(e),a=new Array(n).fill(-1);let s=n,c=0,u=0;for(let y=0;y<n;y++)for(let g=0;g<e;g++){const v=(y*e+g)*4;Nu(i[v],i[v+1],i[v+2])<235&&(u+=1,o[y]>g&&(o[y]=g),a[y]<g&&(a[y]=g),s>y&&(s=y),c<y&&(c=y))}const d=Math.max(c-s,0),f={};for(const[y,g]of Object.entries(Zve)){const v=Math.min(n-1,Math.max(0,Math.round(s+d*g))),x=o[v],w=a[v];f[y]={ratio:g,widthPx:x>=w||x===e||w<0?0:w-x}}const h=u/(e*n),p=Math.min(1,txe(t.data)/25);return{subjectHeightPx:d,bandWidths:f,clarity:p,coverage:h}}function nxe(t,e){if(!Number.isFinite(t)||!Number.isFinite(e)||t<=0||e<=0)return NaN;const n=Math.max(t,e),r=Math.min(t,e),i=Math.pow((n-r)/(n+r),2);return Math.PI*(n+r)*(1+3*i/(10+Math.sqrt(4-3*i)))}function N1(t){const e=t.filter(n=>Number.isFinite(n));return e.length?e.reduce((n,r)=>n+r,0)/e.length:NaN}async function rxe(t){const e=[],{mode:n,front:r,side:i,back:o,left:a,right:s,heightCm:c}=t;if(!c||c<120)return{confidence:0,qc:["missing_height"]};const u={front:null,side:null,back:null,left:null,right:null};try{u.front=vh(await yh(r)),u.side=vh(await yh(i)),n==="4"&&(o&&(u.back=vh(await yh(o))),a&&(u.left=vh(await yh(a))),s&&(u.right=vh(await yh(s))))}catch{return e.push("image_load_failed"),{confidence:0,qc:e}}const d=u.front,f=u.side;if(!d||!f)return e.push("insufficient_images"),{confidence:0,qc:e};const h=d.subjectHeightPx/c,p=f.subjectHeightPx/c;(!Number.isFinite(h)||h<3)&&e.push("front_scale_unreliable"),(!Number.isFinite(p)||p<3)&&e.push("side_scale_unreliable");const y=(S,A)=>!Number.isFinite(A)||A<=0?NaN:S/A,g=S=>{const A=y(d.bandWidths[S].widthPx,h),C=u.back?y(u.back.bandWidths[S].widthPx,u.back.subjectHeightPx/c):NaN,N=[y(f.bandWidths[S].widthPx,p)];n==="4"&&(u.left&&N.push(y(u.left.bandWidths[S].widthPx,u.left.subjectHeightPx/c)),u.right&&N.push(y(u.right.bandWidths[S].widthPx,u.right.subjectHeightPx/c)));const k=N1([A,C]),R=N1(N);return{circumference:nxe(k/2,R/2),frontWidth:k,sideWidth:R}},v=g("neck"),x=g("waist"),w=g("hip"),_=[{name:"neck",value:v},{name:"waist",value:x},{name:"hip",value:w}];let T=.7;const E=[d.clarity,f.clarity];u.back&&E.push(u.back.clarity),u.left&&E.push(u.left.clarity),u.right&&E.push(u.right.clarity);const P=N1(E);Number.isFinite(P)&&(T=Math.min(.95,Math.max(.4,P*.9+.3)));for(const S of _)if(!Number.isFinite(S.value.circumference))e.push(`${S.name}_unreliable`),T-=.12;else{const A=S.value.circumference;(A<30||A>180)&&(e.push(`${S.name}_out_of_range`),T-=.1);const C=Math.abs((S.value.frontWidth??0)-(S.value.sideWidth??0));Number.isFinite(C)&&C>10&&(T-=.05,e.push(`${S.name}_variance_high`))}return(d.coverage<.18||f.coverage<.18)&&(e.push("subject_too_small"),T-=.1),T=Math.max(0,Math.min(1,T)),{neckCm:Number.isFinite(v.circumference)?Number(v.circumference.toFixed(1)):void 0,waistCm:Number.isFinite(x.circumference)?Number(x.circumference.toFixed(1)):void 0,hipCm:Number.isFinite(w.circumference)?Number(w.circumference.toFixed(1)):void 0,confidence:T,qc:e}}const ixe=Math.log(10);function kx(t){return Math.log(t)/ixe}function Tg(t,e,n){return Number.isFinite(t)?Math.min(Math.max(t,e),n):e}function dT(t,e){if(!t||!e)return NaN;const n=e/100,r=t/(n*n);return Number(r.toFixed(1))}function oxe(t,e,n){if(!t||!e||!n||t<=e)return NaN;const r=86.01*kx(t-e)-70.041*kx(n)+36.76;return Tg(Number(r.toFixed(1)),3,65)}function axe(t,e,n,r){if(!t||!e||!n||!r||t+n<=e)return NaN;const i=163.205*kx(t+n-e)-97.684*kx(r)-78.387;return Tg(Number(i.toFixed(1)),3,65)}function sxe(t,e){const n=[t,e].filter(i=>Number.isFinite(i));if(!n.length)return NaN;const r=n.reduce((i,o)=>i+o,0)/n.length;return Tg(Number(r.toFixed(1)),3,65)}function lxe(t,e,n){if(!t||!e)return NaN;const i=t/e*100,o=n==="female"?6:2.2,a=i*1.1+o;return Tg(Number(a.toFixed(1)),5,60)}function RM(t){const{sex:e,heightCm:n,neckCm:r,waistCm:i,hipCm:o,weightKg:a}=t;if(!n)return{bfPercent:NaN,method:"photo",confidence:0};const s=[r,i,o].filter(f=>Number.isFinite(f)).length;let c=NaN;e==="female"?c=axe(i??NaN,r??NaN,o??NaN,n):c=oxe(i??NaN,r??NaN,n);const u=lxe(i,n,e);if(Number.isFinite(c)){const f=sxe(c,u),h=Number.isFinite(u)?Math.abs(c-u):0,p=h>6?.72:h>3?.82:.9,y=s>=3?"photo+measure":"photo";return{bfPercent:f,method:y,confidence:p}}const d=dT(a??NaN,n);if(Number.isFinite(d)){const f=e==="female"?1.2*d+6.9-5.4:1.2*d+6.9-16.2;return{bfPercent:Tg(Number(f.toFixed(1)),3,65),method:"bmi_fallback",confidence:.5}}return{bfPercent:NaN,method:"photo",confidence:0}}const cxe=[{value:"2",label:"Quick (2 photos)",description:"Front + Side"},{value:"4",label:"Precise (4 photos)",description:"Front, Back, Left, Right"}];function uxe(t){return t==="2"?[{key:"front",label:"Front",helper:"Full body, arms out"},{key:"side",label:"Side",helper:"Profile view"}]:[{key:"front",label:"Front",helper:"Face camera"},{key:"back",label:"Back",helper:"Back to camera"},{key:"left",label:"Left",helper:"Left profile"},{key:"right",label:"Right",helper:"Right profile"}]}function I1(t){const e=t.filter(n=>Number.isFinite(n));if(e.length)return e.reduce((n,r)=>n+r,0)/e.length}function dxe(t){const e=t.neck?parseFloat(t.neck)*fp:void 0,n=t.waist?parseFloat(t.waist)*fp:void 0,r=t.hip?parseFloat(t.hip)*fp:void 0;return{neckCm:Number.isFinite(e)?e:void 0,waistCm:Number.isFinite(n)?n:void 0,hipCm:Number.isFinite(r)?r:void 0}}function fxe(){const t=Gt(),{toast:e}=$P(),{profile:n}=u0(),[r,i]=b.useState("2"),[o,a]=b.useState({front:null,side:null,back:null,left:null,right:null}),[s,c]=b.useState({neck:"",waist:"",hip:""}),[u,d]=b.useState(null),[f,h]=b.useState(0),[p,y]=b.useState("idle"),[g,v]=b.useState([]),x=b.useMemo(()=>uxe(r),[r]),w=b.useMemo(()=>r==="2"?[o.front,o.side].filter(R=>!!R):[o.front,o.back,o.left,o.right].filter(R=>!!R),[r,o]),_=x.every(({key:R})=>o[R]),T=n==null?void 0:n.height_cm,E=n==null?void 0:n.weight_kg,P=n==null?void 0:n.sex,S=E?XC(E):"",A=E&&T?Ld(dT(E,T)):"",C=(R,$)=>{a(U=>({...U,[R]:$}))},I=()=>{d(null),v([])},N=async()=>{if(!Be.currentUser){e({title:"Sign in required",description:"Please sign in to run a scan.",variant:"destructive"}),t("/auth");return}if(!_){e({title:"Missing photos",description:"Add all required angles before analyzing."});return}if(!T){e({title:"Add your height",description:"Height is required for body-fat estimates. Update your profile first.",variant:"destructive"}),t("/settings");return}if(P!=="male"&&P!=="female"){e({title:"Set your sex",description:"Update your profile sex so we can calculate body-fat percent.",variant:"destructive"}),t("/settings");return}const R=r==="2"?[o.front,o.side]:[o.front,o.back,o.left,o.right];I(),y("gating");try{const $=await Qve(R);if(d($),!$.pass){let ae;try{const je=await Pye();typeof(je==null?void 0:je.remaining)=="number"?(ae=je.remaining,h(3-je.remaining)):h(Ae=>Math.min(3,Ae+1))}catch(je){console.error("recordGateFailure",je),h(Ae=>Math.min(3,Ae+1))}const ue=$.reasons[0]||"Retake photos and try again.",G=ae!=null?`${ue} (${ae} attempt${ae===1?"":"s"} left today)`:ue;e({title:"Check photo quality",description:G,variant:"destructive"}),y("idle");return}const U=o.front??o.side??w[0];if(!U)throw new Error("no_primary_photo");y("authorizing");const{scanId:B}=await F8({filename:U.name,size:U.size,contentType:U.type||"image/jpeg"}),V=await Promise.all(R.map(ae=>Jve(ae)));try{await Aye({scanId:B,hashes:V,gateScore:$.score,mode:r})}catch(ae){y("idle");const ue=(ae==null?void 0:ae.message)??"authorization_failed";if(ue==="duplicate"){e({title:"Duplicate photos",description:"Those photos match a recent scan. Retake fresh photos to continue.",variant:"destructive"});return}if(ue==="cap"){e({title:"Quality cap reached",description:"Too many failed attempts today. Try again tomorrow with new photos.",variant:"destructive"});return}if(ue==="no_credits"){e({title:"Need more credits",description:"Add credits before running another scan.",variant:"destructive"});return}throw ae}y("analyzing");const F=await rxe({mode:r,front:o.front,side:r==="2"?o.side:o.left??o.right??o.side,back:r==="4"?o.back??void 0:void 0,left:r==="4"?o.left??void 0:void 0,right:r==="4"?o.right??void 0:void 0,heightCm:T,sex:P}),L=[...F.qc];let H=F.confidence,z={neckCm:F.neckCm,waistCm:F.waistCm,hipCm:F.hipCm},W="photo";const K=dxe(s),re=Object.values(K).some(ae=>Number.isFinite(ae));H<.7&&re&&(z={neckCm:I1([F.neckCm,K.neckCm]),waistCm:I1([F.waistCm,K.waistCm]),hipCm:I1([F.hipCm,K.hipCm])},H=Math.max(H,.75),W="photo+measure",L.push("manual_measurements_applied"));const de=RM({sex:P,heightCm:T,neckCm:z.neckCm,waistCm:z.waistCm,hipCm:z.hipCm,weightKg:E});let be=Number.isFinite(de.bfPercent)?de.bfPercent:null;H=Math.min(H,de.confidence||H),W!=="photo+measure"&&(W=de.method);let oe=E&&T?dT(E,T):void 0;if(H<.7)if(E&&window.confirm("Photo confidence is low. Use BMI-only fallback instead?")){const ae=RM({sex:P,heightCm:T,weightKg:E});Number.isFinite(ae.bfPercent)&&(be=ae.bfPercent),H=Math.min(.55,ae.confidence||.5),W="bmi_fallback",L.push("bmi_fallback_used")}else{await EM(B),e({title:"Retake required",description:"We couldn't get a confident reading. Try improving lighting and distance.",variant:"destructive"}),y("idle");return}if(be==null){await EM(B),e({title:"Unable to calculate",description:"We couldn't produce a valid body-fat estimate.",variant:"destructive"}),y("idle");return}y("saving"),v(L);const Pe=Be.currentUser.uid,ie=Nt(nt,"users",Pe,"scans",B);await _l(ie,{status:"completed",charged:!0,method:W,confidence:H,mode:r,gateScore:$.score,imageHashes:V,qc:L,analysis:{neck_cm:z.neckCm??null,waist_cm:z.waistCm??null,hip_cm:z.hipCm??null},result:{bf_percent:be,bmi:oe??null},completedAt:ul(),updatedAt:ul()},{merge:!0}),e({title:"Scan complete",description:"Results saved"}),t(`/results/${B}`)}catch($){console.error("scan_analyze_error",$);const U=($==null?void 0:$.message)??"Analysis failed";e({title:"Unable to complete scan",description:U,variant:"destructive"}),y("idle")}},k=p!=="idle";return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Fe,{title:"Photo Scan  MyBodyScan",description:"Analyze body composition from full-body photos"}),l.jsx(fl,{}),l.jsxs("main",{className:"mx-auto flex w-full max-w-3xl flex-col gap-6 p-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-semibold",children:"New Photo Scan"}),l.jsx("p",{className:"text-muted-foreground",children:"Upload clear, full-body photos in US units. Credits are charged only after quality checks pass."})]}),l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{children:"Choose Mode"}),l.jsx(gs,{children:"Both modes use 1 credit."})]}),l.jsx(ne,{className:"grid gap-3 sm:grid-cols-2",children:cxe.map(R=>l.jsxs("button",{type:"button",onClick:()=>i(R.value),className:we("rounded-lg border p-3 text-left transition",r===R.value?"border-primary bg-primary/5":"hover:bg-muted"),disabled:k,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:R.label}),r===R.value&&l.jsx(hr,{children:"Selected"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]},R.value))})]}),l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{children:"Upload Photos"}),l.jsx(gs,{children:"Neutral background, bright lighting, arms away from torso."})]}),l.jsx(ne,{className:"grid gap-4 sm:grid-cols-2",children:x.map(({key:R,label:$,helper:U})=>l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{children:$}),l.jsx(Ze,{type:"file",accept:"image/*",onChange:B=>{var V;return C(R,((V=B.target.files)==null?void 0:V[0])??null)},disabled:k}),l.jsx("p",{className:"text-xs text-muted-foreground",children:U}),o[R]&&l.jsx("img",{src:URL.createObjectURL(o[R]),alt:`${$} preview`,className:"h-32 w-full rounded-md object-cover"})]},R))})]}),l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{children:"Optional Tape Measurements"}),l.jsx(gs,{children:"Use inches. We blend these if photo confidence is low."})]}),l.jsx(ne,{className:"grid gap-3 sm:grid-cols-3",children:["neck","waist","hip"].map(R=>l.jsxs("div",{className:"space-y-1",children:[l.jsxs(ze,{className:"capitalize",children:[R," (in)"]}),l.jsx(Ze,{type:"number",min:"0",step:"0.1",value:s[R],onChange:$=>c(U=>({...U,[R]:$.target.value})),placeholder:"Optional",disabled:k})]},R))})]}),u&&!u.pass&&l.jsxs(pw,{variant:"destructive",children:[l.jsx(sU,{children:"Photo quality needs work"}),l.jsxs(mw,{className:"space-y-2",children:[l.jsx("p",{children:"Retake your photos with brighter, even lighting and a neutral background."}),u.reasons.length>0&&l.jsx("ul",{className:"list-disc space-y-1 pl-4 text-xs",children:u.reasons.map(R=>l.jsx("li",{children:R},R))}),l.jsx(Ar,{to:"/scan/tips",className:"text-xs font-medium text-primary underline",children:"Review photo tips"})]})]}),u&&l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{children:"Quality Check"}),l.jsxs(gs,{children:[u.pass?"Passed":"Needs attention","  Score ",(u.score*100).toFixed(0),"%"]})]}),l.jsx(ne,{children:u.reasons.length?l.jsx("ul",{className:"list-disc space-y-1 pl-4 text-sm text-destructive",children:u.reasons.map(R=>l.jsx("li",{children:R},R))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"All checks passed. Great lighting and framing!"})})]}),g.length>0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Analysis Notes"})}),l.jsx(ne,{children:l.jsx("ul",{className:"list-disc space-y-1 pl-4 text-sm text-muted-foreground",children:g.map(R=>l.jsx("li",{children:R},R))})})]}),l.jsxs(te,{children:[l.jsxs(he,{children:[l.jsx(me,{children:"Your Baseline"}),l.jsx(gs,{children:"We only show BMI when weight is known."})]}),l.jsxs(ne,{className:"grid gap-2 sm:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Height"}),l.jsx("p",{className:"text-lg font-medium",children:QC(T)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"}),l.jsx("p",{className:"text-lg font-medium",children:S})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"BMI"}),l.jsx("p",{className:"text-lg font-medium",children:A})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(X,{onClick:N,disabled:k||!_,className:"w-full",children:[p==="idle"&&"Analyze & Spend 1 Credit",p==="gating"&&"Checking quality...",p==="authorizing"&&"Reserving credit...",p==="analyzing"&&"Estimating measurements...",p==="saving"&&"Saving results..."]}),l.jsxs("p",{className:"text-center text-xs text-muted-foreground",children:["Need help? View ",l.jsx(Ar,{className:"underline",to:"/scan/tips",children:"photo tips"}),". Quality fails today: ",f,"/3."]})]}),l.jsx($W,{}),l.jsxs("div",{className:"rounded-lg border bg-muted/40 p-4 text-sm text-muted-foreground",children:[l.jsx("p",{className:"font-medium text-foreground",children:"Accuracy Tips"}),l.jsx("p",{children:"Bright, even lighting and a neutral background dramatically improve accuracy. Keep arms slightly away from the body and stand ~8 ft from the camera."})]})]})]})}const MM={photo:"Photo","photo+measure":"Photo + Tape",bmi_fallback:"BMI Fallback"};function DM(t){return t==null?{label:"Unknown",tone:"secondary"}:t>=.85?{label:"High",tone:"default"}:t>=.7?{label:"Medium",tone:"outline"}:{label:"Low",tone:"secondary"}}function $M(t){if(!t)return"";try{return new Date(t*1e3).toLocaleDateString()}catch{return""}}function hxe(){var y,g;const{scanId:t}=cj(),[e,n]=b.useState(null),[r,i]=b.useState([]),[o,a]=b.useState(!0);b.useEffect(()=>{const v=Be.currentUser;if(!v||!t)return;const x=Nt(nt,"users",v.uid,"scans",t),w=eo(x,T=>{T.exists()&&n({id:T.id,...T.data()}),a(!1)});return(async()=>{const T=[],E=Qc(wl(nt,"users",v.uid,"scans"),Jc("completedAt","desc"),bg(8));(await pC(E)).forEach(S=>{if(S.id===t)return;const A=S.data(),C=ko(A);A.charged&&C.bodyFatPercent!=null&&T.push({id:S.id,...A})}),i(T)})().catch(T=>console.error("loadHistory",T)),()=>w()},[t]);const s=b.useMemo(()=>e?ko(e):null,[e]),c=b.useMemo(()=>DM((s==null?void 0:s.confidence)??(e==null?void 0:e.confidence)),[s==null?void 0:s.confidence,e==null?void 0:e.confidence]);if(o)return l.jsx("main",{className:"flex min-h-screen items-center justify-center",children:l.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-muted border-t-primary"})});if(!e)return l.jsxs("main",{className:"mx-auto max-w-xl p-6 text-center",children:[l.jsx(Fe,{title:"Scan Result"}),l.jsx("p",{className:"text-lg font-medium",children:"Scan not found"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This scan may have been deleted."})]});const u=(s==null?void 0:s.bodyFatPercent)??null,d=Ld((s==null?void 0:s.bmi)??void 0),f=e.charged&&typeof u=="number",h=(s==null?void 0:s.method)??e.method,p=h?MM[h]||h:"Unknown";return l.jsxs("main",{className:"mx-auto flex min-h-screen w-full max-w-4xl flex-col gap-6 p-6",children:[l.jsx(Fe,{title:"Scan Results  MyBodyScan",description:"View your latest photo scan metrics."}),l.jsx(fl,{}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-semibold",children:"Scan Results"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Completed on ",$M((y=e.completedAt)==null?void 0:y.seconds)]})]}),l.jsxs(te,{children:[l.jsxs(he,{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsxs(me,{className:"flex items-center gap-3 text-2xl",children:["Result",l.jsx(hr,{variant:"secondary",children:p}),l.jsxs(hr,{variant:c.tone,children:["Confidence: ",c.label]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mode: ",e.mode==="4"?"Precise (4 photos)":"Quick (2 photos)"]})]}),l.jsx(Ar,{to:"/scan/tips",className:"text-sm text-primary underline",children:"How to improve accuracy"})]}),l.jsxs(ne,{className:"space-y-4",children:[e.status!=="completed"&&l.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-dashed p-3 text-sm text-muted-foreground",children:[l.jsx(DJ,{className:"h-4 w-4"}),"Processing  keep this tab open."]}),f?l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"rounded-lg border p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Body Fat"}),l.jsxs("p",{className:"text-3xl font-bold",children:[u==null?void 0:u.toFixed(1),"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on anthropometric estimation."})]}),l.jsxs("div",{className:"rounded-lg border p-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"BMI"}),l.jsx("p",{className:"text-2xl font-semibold",children:d}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Shown when weight is provided."})]})]}):l.jsx("div",{className:"rounded-lg border border-dashed p-4 text-sm text-muted-foreground",children:"No numeric results yet. Complete a photo scan that passes quality gates to view body-fat %."}),e.analysis&&l.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:["neck_cm","waist_cm","hip_cm"].map(v=>{var w;const x=(w=e.analysis)==null?void 0:w[v];return l.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:v.replace("_cm","").toUpperCase()}),l.jsx("p",{className:"text-sm font-medium",children:x?`${(x/2.54).toFixed(1)} in`:""})]},v)})}),(g=e.qc)!=null&&g.length?l.jsxs("div",{className:"rounded-lg border p-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Quality notes"}),l.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-sm text-muted-foreground",children:e.qc.map(v=>l.jsx("li",{children:v},v))})]}):null,l.jsxs("details",{className:"rounded-lg border p-3 text-sm text-muted-foreground",children:[l.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Accuracy tips"}),l.jsx("p",{className:"mt-2",children:"Bright, even lighting and a neutral background improve confidence. Keep arms slightly away from your torso and stand on a marked spot about 8 ft from the camera."}),l.jsx(Ar,{to:"/scan/tips",className:"mt-2 inline-flex text-xs font-medium text-primary underline",children:"View full tips"})]})]})]}),r.length>0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Recent Scans"})}),l.jsx(ne,{className:"space-y-3",children:r.map(v=>{var P;const x=ko(v),w=DM(x.confidence??v.confidence),_=MM[x.method||v.method||""]||x.method||v.method||"Photo",T=x.bodyFatPercent,E=x.bmi;return l.jsxs(Ar,{to:`/results/${v.id}`,className:"flex items-center justify-between rounded-lg border p-3 transition hover:bg-muted",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:$M((P=v.completedAt)==null?void 0:P.seconds)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:_+"  "+(v.mode==="4"?"Precise (4 photos)":"Quick (2 photos)")})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold",children:T!=null?`${T.toFixed(1)}%`:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:Ld(E??void 0)})]}),l.jsx(hr,{variant:w.tone,children:w.label})]})]},v.id)})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Need better results?"})}),l.jsxs(ne,{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Use consistent lighting, mark a standing distance, and wear fitted clothing. If you have a tape measure, add those values during the scan for higher confidence."}),l.jsx(Ar,{to:"/scan/tips",className:"mt-2 inline-block text-sm text-primary underline",children:"Review photo tips"})]})]})]})}var d0="Tabs",[pxe]=Dr(d0,[e0]),FW=e0(),[mxe,oN]=pxe(d0),VW=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:c="automatic",...u}=t,d=Zw(s),[f,h]=Aa({prop:r,onChange:i,defaultProp:o??"",caller:d0});return l.jsx(mxe,{scope:n,baseId:To(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(_e.div,{dir:d,"data-orientation":a,...u,ref:e})})});VW.displayName=d0;var BW="TabsList",UW=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=oN(BW,n),a=FW(n);return l.jsx(D9,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(_e.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});UW.displayName=BW;var zW="TabsTrigger",WW=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=oN(zW,n),s=FW(n),c=KW(a.baseId,r),u=GW(a.baseId,r),d=r===a.value;return l.jsx($9,{asChild:!0,...s,focusable:!i,active:d,children:l.jsx(_e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...o,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});WW.displayName=zW;var HW="TabsContent",qW=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=oN(HW,n),c=KW(s.baseId,r),u=GW(s.baseId,r),d=r===s.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Ei,{present:i||d,children:({present:h})=>l.jsx(_e.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});qW.displayName=HW;function KW(t,e){return`${t}-trigger-${e}`}function GW(t,e){return`${t}-content-${e}`}var gxe=VW,YW=UW,XW=WW,QW=qW;const JW=gxe,aN=b.forwardRef(({className:t,...e},n)=>l.jsx(YW,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aN.displayName=YW.displayName;const vc=b.forwardRef(({className:t,...e},n)=>l.jsx(XW,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));vc.displayName=XW.displayName;const hp=b.forwardRef(({className:t,...e},n)=>l.jsx(QW,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));hp.displayName=QW.displayName;function yxe({weightLbs:t,heightIn:e,age:n,gender:r}){return 66+6.23*t+12.7*e-6.8*n}function vxe({lbmLbs:t}){return 370+21.6*(t/2.205)}function xxe(t,e=1.4){return t*e}function bxe({weightLbs:t,bodyFatPct:e}){const n=t*(e/100);return{leanMassLbs:t-n,fatMassLbs:n}}function k1({calories:t,lbmLbs:e,weightLbs:n}){const r=Math.round(e),i=r*4,o=Math.round(.35*n),a=o*9,s=t-i-a,c=Math.round(Math.max(0,s/4)),u=c*4;return{proteinG:r,proteinKcal:i,fatG:o,fatKcal:a,carbsG:c,carbsKcal:u,totalKcal:i+a+u}}function wxe(t,e){const n=t/e;let r;return n<.5?r="Low":n<=.6?r="Moderate":r="High",{ratio:n,riskLevel:r}}function _xe(t,e){const n=e?vxe({lbmLbs:e}):yxe(t),r=xxe(n,t.activityFactor);return{bmr:Math.round(n),tdee:Math.round(r),cutCalories:Math.round(r-500),maintainCalories:Math.round(r),gainCalories:Math.round(r+300)}}function xh(t,e="in"){return t?`${t.toFixed(1)} ${e}`:""}function LM(){const{scanId:t}=cj(),e=Gt(),{user:n}=wg(),[r,i]=b.useState(null),[o,a]=b.useState(!0),[s,c]=b.useState(null);if(b.useEffect(()=>{if(!(n!=null&&n.uid))return;(async()=>{try{a(!0),c(null);const h=wl(nt,"users",n.uid,"scans"),p=async()=>{const B=await pC(Qc(h,Jc("completedAt","desc"),bg(5)));for(const V of B.docs){const F=V.data(),L=ko(F),H=(F==null?void 0:F.status)||null;if(L.bodyFatPercent!=null&&(F!=null&&F.charged)&&(H==="completed"||H==="done"))return{id:V.id,data:F}}return null},y=B=>{se(B),e("/history",{replace:!0})};let g=t??null;if(!g){const B=await p();B?(se({title:"Showing latest scan",description:"We loaded your most recent completed scan report."}),e(`/report/${B.id}`,{replace:!0})):y({title:"No completed scans",description:"Complete a scan to generate a report."});return}const v=Nt(nt,"users",n.uid,"reports",g),x=await ya(v);if(x.exists()){i(x.data());return}const w=Nt(nt,"users",n.uid,"scans",g),_=await ya(w);if(!_.exists()){const B=await p();B?(se({title:"Scan not found",description:"Showing your most recent completed scan instead."}),e(`/report/${B.id}`,{replace:!0})):y({title:"Scan not found",description:"Complete a scan to view reports."});return}const T=_.data(),E=ko(T),P=E.bodyFatPercent,S=E.weightLb;if(P==null||S==null){c("Insufficient scan data for report generation");return}const A={weightLbs:S,heightIn:70,age:30,gender:"male",activityFactor:1.4},{leanMassLbs:C,fatMassLbs:I}=bxe({weightLbs:S,bodyFatPct:P}),N=_xe(A,C),k={cut:k1({calories:N.cutCalories,lbmLbs:C,weightLbs:S}),maintain:k1({calories:N.maintainCalories,lbmLbs:C,weightLbs:S}),gain:k1({calories:N.gainCalories,lbmLbs:C,weightLbs:S})},R={waistIn:32,hipIn:38,chestIn:42,thighIn:24,armIn:14};let $;R.waistIn&&($=wxe(R.waistIn,A.heightIn));const U={scanId:g,weightLbs:S,bodyFatPct:P,leanMassLbs:C,fatMassLbs:I,energy:N,macros:k,measurements:R,waistHeightRatio:$,changes:null,generatedAt:new Date};await _l(v,U),i(U)}catch(h){console.error("Error loading report:",h),c(h.message||"Failed to load report")}finally{a(!1)}})()},[n==null?void 0:n.uid,t,e]),o)return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[l.jsx(tn,{className:"h-8 w-48"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((f,h)=>l.jsx(tn,{className:"h-32"},h))})]});if(s||!r)return l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsx(te,{children:l.jsx(ne,{className:"p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:s||"Report not available"})})})});const{energy:u,macros:d}=r;return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Pro Report"}),l.jsxs("p",{className:"text-muted-foreground mt-2",children:["Generated ",r.generatedAt.toLocaleDateString()]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(te,{children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[r.weightLbs," lbs"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Weight"})]})}),l.jsx(te,{children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[r.bodyFatPct.toFixed(1),"%"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Body Fat"})]})}),l.jsx(te,{children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[r.leanMassLbs.toFixed(1)," lbs"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Lean Mass"})]})}),l.jsx(te,{children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[r.fatMassLbs.toFixed(1)," lbs"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fat Mass"})]})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Energy & Calories"})}),l.jsxs(ne,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-lg font-semibold",children:[u.bmr," kcal/day"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"BMR (Basal Metabolic Rate)"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-lg font-semibold",children:[u.tdee," kcal/day"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"TDEE (Total Daily Energy)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(te,{className:"bg-red-50",children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsx("p",{className:"text-xl font-bold text-red-700",children:u.cutCalories}),l.jsx("p",{className:"text-sm text-red-600",children:"Cut (kcal/day)"})]})}),l.jsx(te,{className:"bg-blue-50",children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsx("p",{className:"text-xl font-bold text-blue-700",children:u.maintainCalories}),l.jsx("p",{className:"text-sm text-blue-600",children:"Maintain (kcal/day)"})]})}),l.jsx(te,{className:"bg-green-50",children:l.jsxs(ne,{className:"p-4 text-center",children:[l.jsx("p",{className:"text-xl font-bold text-green-700",children:u.gainCalories}),l.jsx("p",{className:"text-sm text-green-600",children:"Gain (kcal/day)"})]})})]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Macro Breakdown"})}),l.jsx(ne,{children:l.jsxs(JW,{defaultValue:"maintain",className:"w-full",children:[l.jsxs(aN,{className:"grid w-full grid-cols-3",children:[l.jsx(vc,{value:"cut",children:"Cut"}),l.jsx(vc,{value:"maintain",children:"Maintain"}),l.jsx(vc,{value:"gain",children:"Gain"})]}),["cut","maintain","gain"].map(f=>l.jsx(hp,{value:f,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[d[f].proteinG,"g"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Protein"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",d[f].proteinKcal," kcal)"]})]}),l.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[d[f].fatG,"g"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fat"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",d[f].fatKcal," kcal)"]})]}),l.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[d[f].carbsG,"g"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Carbs"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",d[f].carbsKcal," kcal)"]})]})]})},f))]})})]}),r.measurements&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Measurements"})}),l.jsx(ne,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Waist"}),l.jsx("p",{className:"text-muted-foreground",children:xh(r.measurements.waistIn)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Hip"}),l.jsx("p",{className:"text-muted-foreground",children:xh(r.measurements.hipIn)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Chest"}),l.jsx("p",{className:"text-muted-foreground",children:xh(r.measurements.chestIn)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Thigh"}),l.jsx("p",{className:"text-muted-foreground",children:xh(r.measurements.thighIn)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Arm"}),l.jsx("p",{className:"text-muted-foreground",children:xh(r.measurements.armIn)})]})]})})]}),r.waistHeightRatio&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Waist-to-Height Ratio"})}),l.jsx(ne,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:r.waistHeightRatio.ratio.toFixed(3)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ratio"})]}),l.jsxs(hr,{variant:r.waistHeightRatio.riskLevel==="Low"?"default":r.waistHeightRatio.riskLevel==="Moderate"?"secondary":"destructive",children:[r.waistHeightRatio.riskLevel," Risk"]})]})})]}),l.jsx("div",{className:"text-center text-sm text-muted-foreground pt-4 border-t",children:l.jsx("p",{children:"Image-based estimates are approximations, not medical diagnostics."})})]})}function Sxe(){const{credits:t,uid:e,projectId:n}=AW(),r=e?`users/${e}`:null;return l.jsxs("main",{className:"p-6 space-y-2",children:[l.jsx("h1",{className:"text-lg font-semibold",children:"Credits Debug"}),l.jsxs("div",{children:["projectId: ",n]}),l.jsxs("div",{children:["uid: ",e??"(none)"]}),l.jsxs("div",{children:["doc path: ",r??"users/{uid}"]}),l.jsxs("div",{children:["credits: ",t]}),!e&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Log in to watch live credits."})]})}var sN="Progress",lN=100,[Exe]=Dr(sN),[Txe,Axe]=Exe(sN),ZW=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=Pxe,...a}=t;(i||i===0)&&!FM(i)&&console.error(jxe(`${i}`,"Progress"));const s=FM(i)?i:lN;r!==null&&!VM(r,s)&&console.error(Cxe(`${r}`,"Progress"));const c=VM(r,s)?r:null,u=Ox(c)?o(c,s):void 0;return l.jsx(Txe,{scope:n,value:c,max:s,children:l.jsx(_e.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Ox(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":nH(c,s),"data-value":c??void 0,"data-max":s,...a,ref:e})})});ZW.displayName=sN;var eH="ProgressIndicator",tH=b.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Axe(eH,n);return l.jsx(_e.div,{"data-state":nH(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});tH.displayName=eH;function Pxe(t,e){return`${Math.round(t/e*100)}%`}function nH(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ox(t){return typeof t=="number"}function FM(t){return Ox(t)&&!isNaN(t)&&t>0}function VM(t,e){return Ox(t)&&!isNaN(t)&&t<=e&&t>=0}function jxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lN}\`.`}function Cxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rH=ZW,Nxe=tH;const f0=b.forwardRef(({className:t,value:e,...n},r)=>l.jsx(rH,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(Nxe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));f0.displayName=rH.displayName;function cN({valueCm:t,onChangeCm:e,disabled:n}){const[r,i]=b.useState(0),[o,a]=b.useState(0);return b.useEffect(()=>{if(t!=null){const{ft:s,inches:c}=YC(GC(t));i(s),a(c)}},[t]),b.useEffect(()=>{e(bye(r,o))},[r,o]),l.jsxs("div",{className:"flex gap-2 items-end",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm",children:"Feet"}),l.jsx(Ze,{type:"number",min:0,value:Number.isFinite(r)?r:0,onChange:s=>{const c=parseInt(s.target.value||"0",10);i(Number.isNaN(c)?0:c)},className:"w-20",disabled:n})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm",children:"Inches"}),l.jsx(Ze,{type:"number",min:0,max:11,value:Number.isFinite(o)?o:0,onChange:s=>{const c=parseInt(s.target.value||"0",10),u=Math.min(11,Math.max(0,Number.isNaN(c)?0:c));a(u)},className:"w-20",disabled:n})]}),l.jsx("div",{className:"text-xs opacity-70 ml-2",children:QC(t)})]})}const Ixe=()=>{const[t,e]=b.useState(1),[n,r]=b.useState({goal:"lose_fat",style:"ease_in",timeframe_weeks:12,sex:"male",age:30,height_cm:170,weight_kg:70,activity_level:"light",medical_flags:{},ack:{disclaimer:!1}}),[i,o]=b.useState(null),a=Gt(),s=(d,f)=>r(h=>({...h,[d]:f}));async function c(){const d=bC(dl),f=QE(d,"saveOnboarding"),h=QE(d,"computePlan"),p={...n},y=n.height_cm??0,g=n.weight_kg??0,{ft:v,inches:x}=YC(GC(y));p.units="us",p.height_ft=v,p.height_in=x,p.weight_lb=$d(g),await f(p);const{data:w}=await h({});o(w),e(4)}const u=t/4*100;return l.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("span",{children:["Step ",t," of 4"]}),l.jsxs("span",{children:[Math.round(u),"%"]})]}),l.jsx(f0,{value:u,className:"h-2"})]}),t===1&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(zP,{className:"h-5 w-5 text-primary"}),"What's your main goal?"]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Let's start with what you want to achieve. We'll create a personalized plan just for you."}),l.jsx("div",{className:"space-y-3",children:[{value:"lose_fat",label:"Lose body fat",desc:"Reduce fat while maintaining muscle"},{value:"gain_muscle",label:"Build muscle",desc:"Increase lean mass and strength"},{value:"improve_heart",label:"Improve cardiovascular health",desc:"Focus on heart health and endurance"}].map(d=>l.jsxs("label",{className:`block p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${n.goal===d.value?"border-primary bg-primary/5":""}`,children:[l.jsx("input",{type:"radio",name:"goal",value:d.value,checked:n.goal===d.value,onChange:f=>s("goal",f.target.value),className:"sr-only"}),l.jsx("div",{className:"font-medium",children:d.label}),l.jsx("div",{className:"text-sm text-muted-foreground",children:d.desc})]},d.value))}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"How intense do you want to go?"}),l.jsxs("select",{className:"mt-1 w-full p-2 border rounded-md",value:n.style,onChange:d=>s("style",d.target.value),children:[l.jsx("option",{value:"ease_in",children:"Take it easy - gradual changes"}),l.jsx("option",{value:"all_in",children:"Go all in - aggressive approach"})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"Timeframe (weeks)"}),l.jsx(Ze,{type:"number",min:"4",max:"52",value:n.timeframe_weeks,onChange:d=>s("timeframe_weeks",Number(d.target.value)),className:"mt-1"})]})]}),l.jsxs(X,{onClick:()=>e(2),className:"w-full",children:["Continue ",l.jsx(np,{className:"ml-2 h-4 w-4"})]})]})]}),t===2&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(WP,{className:"h-5 w-5 text-primary"}),"Tell us about yourself"]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"These details help us calculate your personalized calorie and macro targets."}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"Sex"}),l.jsxs("select",{className:"mt-1 w-full p-2 border rounded-md",value:n.sex,onChange:d=>s("sex",d.target.value),children:[l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"Age"}),l.jsx(Ze,{type:"number",min:"18",max:"100",value:n.age,onChange:d=>s("age",Number(d.target.value)),className:"mt-1"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"Height"}),l.jsx("div",{className:"mt-1",children:l.jsx(cN,{valueCm:n.height_cm,onChangeCm:d=>s("height_cm",d)})})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"Weight (lb)"}),l.jsx(Ze,{type:"number",min:"70",max:"600",value:n.weight_kg?Math.round($d(n.weight_kg)):"",onChange:d=>{if(d.target.value===""){s("weight_kg",void 0);return}const f=Number(d.target.value);Number.isNaN(f)||s("weight_kg",KC(f))},className:"mt-1"})]})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-sm font-medium",children:"How active are you?"}),l.jsxs("select",{className:"mt-1 w-full p-2 border rounded-md",value:n.activity_level,onChange:d=>s("activity_level",d.target.value),children:[l.jsx("option",{value:"sedentary",children:"Sedentary (desk job, no exercise)"}),l.jsx("option",{value:"light",children:"Light (1-3 days/week light exercise)"}),l.jsx("option",{value:"moderate",children:"Moderate (3-5 days/week exercise)"}),l.jsx("option",{value:"very",children:"Very active (6-7 days/week exercise)"}),l.jsx("option",{value:"extra",children:"Extremely active (2x/day or physical job)"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(X,{variant:"secondary",onClick:()=>e(1),className:"flex-1",children:"Back"}),l.jsxs(X,{onClick:()=>e(3),className:"flex-1",children:["Continue ",l.jsx(np,{className:"ml-2 h-4 w-4"})]})]})]})]}),t===3&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Health & Safety"})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Your safety is our priority. Please let us know about any conditions that might affect your nutrition plan."})}),l.jsx("div",{className:"space-y-3",children:[{key:"pregnant",label:"Currently pregnant or breastfeeding"},{key:"under18",label:"Under 18 years old"},{key:"eating_disorder_history",label:"History of eating disorders"},{key:"heart_condition",label:"Heart condition or cardiac issues"}].map(d=>l.jsxs("label",{className:"flex items-start gap-3 p-2 hover:bg-muted/30 rounded-md cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:n.medical_flags[d.key]||!1,onChange:f=>s("medical_flags",{...n.medical_flags,[d.key]:f.target.checked}),className:"mt-1"}),l.jsx("span",{className:"text-sm",children:d.label})]},d.key))}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("label",{className:"flex items-start gap-3 p-2 hover:bg-muted/30 rounded-md cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:n.ack.disclaimer,onChange:d=>s("ack",{...n.ack,disclaimer:d.target.checked}),className:"mt-1"}),l.jsxs("span",{className:"text-sm",children:["I understand this is not medical advice and I accept the"," ",l.jsx(Ar,{to:"/legal/disclaimer",className:"text-primary hover:underline",children:"full disclaimer"})]})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(X,{variant:"secondary",onClick:()=>e(2),className:"flex-1",children:"Back"}),l.jsxs(X,{onClick:c,disabled:!n.ack.disclaimer,className:"flex-1",children:["Create My Plan ",l.jsx(np,{className:"ml-2 h-4 w-4"})]})]})]})]}),t===4&&i&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(xJ,{className:"h-5 w-5 text-accent"}),"Your Personalized Plan"]})}),l.jsxs(ne,{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-primary",children:i.target_kcal}),l.jsx("div",{className:"text-muted-foreground",children:"calories per day"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-primary/5 rounded-lg",children:[l.jsx(hr,{variant:"secondary",className:"mb-2",children:"Protein"}),l.jsxs("div",{className:"font-semibold",children:[i.protein_g,"g"]})]}),l.jsxs("div",{className:"text-center p-3 bg-accent/5 rounded-lg",children:[l.jsx(hr,{variant:"secondary",className:"mb-2",children:"Fat"}),l.jsxs("div",{className:"font-semibold",children:[i.fat_g,"g"]})]}),l.jsxs("div",{className:"text-center p-3 bg-warning/5 rounded-lg",children:[l.jsx(hr,{variant:"secondary",className:"mb-2",children:"Carbs"}),l.jsxs("div",{className:"font-semibold",children:[i.carbs_g,"g"]})]})]}),l.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[l.jsxs("div",{children:["Weight: ",Math.round(i.weight_lb)," lb"]}),l.jsxs("div",{children:["Height: ",i.height_ft,"ft ",i.height_in,"in"]})]}),i.needs_clearance&&l.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[l.jsx("div",{className:"font-medium text-destructive text-sm",children:"Important"}),l.jsx("div",{className:"text-destructive text-sm",children:i.message})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(X,{onClick:()=>a("/coach/tracker"),className:"w-full",size:"lg",children:"Start Tracking"}),l.jsx(X,{variant:"secondary",onClick:()=>e(1),className:"w-full",children:"Edit My Answers"})]})]})]})]})};function Ti(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function hl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function iH(t,e){const n=Ti(t);return isNaN(e)?hl(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const oH=6048e5,kxe=864e5;let Oxe={};function h0(){return Oxe}function cm(t,e){var s,c,u,d;const n=h0(),r=(e==null?void 0:e.weekStartsOn)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ti(t),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Rx(t){return cm(t,{weekStartsOn:1})}function aH(t){const e=Ti(t),n=e.getFullYear(),r=hl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Rx(r),o=hl(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=Rx(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function BM(t){const e=Ti(t);return e.setHours(0,0,0,0),e}function UM(t){const e=Ti(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Rxe(t,e){const n=BM(t),r=BM(e),i=+n-UM(n),o=+r-UM(r);return Math.round((i-o)/kxe)}function Mxe(t){const e=aH(t),n=hl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Rx(n)}function Dxe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $xe(t){if(!Dxe(t)&&typeof t!="number")return!1;const e=Ti(t);return!isNaN(Number(e))}function Lxe(t){const e=Ti(t),n=hl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Fxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vxe=(t,e,n)=>{let r;const i=Fxe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function O1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Bxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wxe={date:O1({formats:Bxe,defaultWidth:"full"}),time:O1({formats:Uxe,defaultWidth:"full"}),dateTime:O1({formats:zxe,defaultWidth:"full"})},Hxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qxe=(t,e,n,r)=>Hxe[t];function bh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Kxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zxe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ebe={ordinalNumber:Zxe,era:bh({values:Kxe,defaultWidth:"wide"}),quarter:bh({values:Gxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bh({values:Yxe,defaultWidth:"wide"}),day:bh({values:Xxe,defaultWidth:"wide"}),dayPeriod:bh({values:Qxe,defaultWidth:"wide",formattingValues:Jxe,defaultFormattingWidth:"wide"})};function wh(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?nbe(s,f=>f.test(a)):tbe(s,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function tbe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nbe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rbe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const ibe=/^(\d+)(th|st|nd|rd)?/i,obe=/\d+/i,abe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sbe={any:[/^b/i,/^(a|c)/i]},lbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cbe={any:[/1/i,/2/i,/3/i,/4/i]},ube={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gbe={ordinalNumber:rbe({matchPattern:ibe,parsePattern:obe,valueCallback:t=>parseInt(t,10)}),era:wh({matchPatterns:abe,defaultMatchWidth:"wide",parsePatterns:sbe,defaultParseWidth:"any"}),quarter:wh({matchPatterns:lbe,defaultMatchWidth:"wide",parsePatterns:cbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wh({matchPatterns:ube,defaultMatchWidth:"wide",parsePatterns:dbe,defaultParseWidth:"any"}),day:wh({matchPatterns:fbe,defaultMatchWidth:"wide",parsePatterns:hbe,defaultParseWidth:"any"}),dayPeriod:wh({matchPatterns:pbe,defaultMatchWidth:"any",parsePatterns:mbe,defaultParseWidth:"any"})},ybe={code:"en-US",formatDistance:Vxe,formatLong:Wxe,formatRelative:qxe,localize:ebe,match:gbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vbe(t){const e=Ti(t);return Rxe(e,Lxe(e))+1}function xbe(t){const e=Ti(t),n=+Rx(e)-+Mxe(e);return Math.round(n/oH)+1}function sH(t,e){var d,f,h,p;const n=Ti(t),r=n.getFullYear(),i=h0(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=hl(t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=cm(a,e),c=hl(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=cm(c,e);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function bbe(t,e){var s,c,u,d;const n=h0(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=sH(t,e),o=hl(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),cm(o,e)}function wbe(t,e){const n=Ti(t),r=+cm(n,e)-+bbe(n,e);return Math.round(r/oH)+1}function ft(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ss={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ft(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ft(n+1,2)},d(t,e){return ft(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ft(t.getHours()%12||12,e.length)},H(t,e){return ft(t.getHours(),e.length)},m(t,e){return ft(t.getMinutes(),e.length)},s(t,e){return ft(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ft(i,e.length)}},wu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ss.y(t,e)},Y:function(t,e,n,r){const i=sH(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return ft(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):ft(o,e.length)},R:function(t,e){const n=aH(t);return ft(n,e.length)},u:function(t,e){const n=t.getFullYear();return ft(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ss.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wbe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ft(i,e.length)},I:function(t,e,n){const r=xbe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ft(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ss.d(t,e)},D:function(t,e,n){const r=vbe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ft(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ft(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ft(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ft(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=wu.noon:r===0?i=wu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=wu.evening:r>=12?i=wu.afternoon:r>=4?i=wu.morning:i=wu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ss.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ss.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ft(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ss.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ss.s(t,e)},S:function(t,e){return ss.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return HM(r);case"XXXX":case"XX":return Hl(r);case"XXXXX":case"XXX":default:return Hl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return HM(r);case"xxxx":case"xx":return Hl(r);case"xxxxx":case"xxx":default:return Hl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WM(r,":");case"OOOO":default:return"GMT"+Hl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WM(r,":");case"zzzz":default:return"GMT"+Hl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ft(r,e.length)},T:function(t,e,n){const r=t.getTime();return ft(r,e.length)}};function WM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+ft(o,2)}function HM(t,e){return t%60===0?(t>0?"-":"+")+ft(Math.abs(t)/60,2):Hl(t,e)}function Hl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ft(Math.trunc(r/60),2),o=ft(r%60,2);return n+i+e+o}const qM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_be=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return qM(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",qM(r,e)).replace("{{time}}",lH(i,e))},Sbe={p:lH,P:_be},Ebe=/^D+$/,Tbe=/^Y+$/,Abe=["D","DD","YY","YYYY"];function Pbe(t){return Ebe.test(t)}function jbe(t){return Tbe.test(t)}function Cbe(t,e,n){const r=Nbe(t,e,n);if(console.warn(r),Abe.includes(t))throw new RangeError(r)}function Nbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ibe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Obe=/^'([^]*?)'?$/,Rbe=/''/g,Mbe=/[a-zA-Z]/;function ar(t,e,n){var d,f,h,p;const r=h0(),i=r.locale??ybe,o=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Ti(t);if(!$xe(s))throw new RangeError("Invalid time value");let c=e.match(kbe).map(y=>{const g=y[0];if(g==="p"||g==="P"){const v=Sbe[g];return v(y,i.formatLong)}return y}).join("").match(Ibe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:Dbe(y)};if(zM[g])return{isToken:!0,value:y};if(g.match(Mbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(jbe(g)||Pbe(g))&&Cbe(g,e,String(t));const v=zM[g[0]];return v(s,g,i.localize,u)}).join("")}function Dbe(t){const e=t.match(Obe);return e?e[1].replace(Rbe,"'"):t}function Tv(t,e){return iH(t,-e)}var $be=Array.isArray,$r=$be,Lbe=typeof Gg=="object"&&Gg&&Gg.Object===Object&&Gg,cH=Lbe,Fbe=cH,Vbe=typeof self=="object"&&self&&self.Object===Object&&self,Bbe=Fbe||Vbe||Function("return this")(),zo=Bbe,Ube=zo,zbe=Ube.Symbol,Ag=zbe,KM=Ag,uH=Object.prototype,Wbe=uH.hasOwnProperty,Hbe=uH.toString,_h=KM?KM.toStringTag:void 0;function qbe(t){var e=Wbe.call(t,_h),n=t[_h];try{t[_h]=void 0;var r=!0}catch{}var i=Hbe.call(t);return r&&(e?t[_h]=n:delete t[_h]),i}var Kbe=qbe,Gbe=Object.prototype,Ybe=Gbe.toString;function Xbe(t){return Ybe.call(t)}var Qbe=Xbe,GM=Ag,Jbe=Kbe,Zbe=Qbe,ewe="[object Null]",twe="[object Undefined]",YM=GM?GM.toStringTag:void 0;function nwe(t){return t==null?t===void 0?twe:ewe:YM&&YM in Object(t)?Jbe(t):Zbe(t)}var Ha=nwe;function rwe(t){return t!=null&&typeof t=="object"}var qa=rwe,iwe=Ha,owe=qa,awe="[object Symbol]";function swe(t){return typeof t=="symbol"||owe(t)&&iwe(t)==awe}var Rf=swe,lwe=$r,cwe=Rf,uwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dwe=/^\w*$/;function fwe(t,e){if(lwe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cwe(t)?!0:dwe.test(t)||!uwe.test(t)||e!=null&&t in Object(e)}var uN=fwe;function hwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tl=hwe;const Mf=gt(Tl);var pwe=Ha,mwe=Tl,gwe="[object AsyncFunction]",ywe="[object Function]",vwe="[object GeneratorFunction]",xwe="[object Proxy]";function bwe(t){if(!mwe(t))return!1;var e=pwe(t);return e==ywe||e==vwe||e==gwe||e==xwe}var dN=bwe;const Le=gt(dN);var wwe=zo,_we=wwe["__core-js_shared__"],Swe=_we,R1=Swe,XM=function(){var t=/[^.]+$/.exec(R1&&R1.keys&&R1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ewe(t){return!!XM&&XM in t}var Twe=Ewe,Awe=Function.prototype,Pwe=Awe.toString;function jwe(t){if(t!=null){try{return Pwe.call(t)}catch{}try{return t+""}catch{}}return""}var dH=jwe,Cwe=dN,Nwe=Twe,Iwe=Tl,kwe=dH,Owe=/[\\^$.*+?()[\]{}|]/g,Rwe=/^\[object .+?Constructor\]$/,Mwe=Function.prototype,Dwe=Object.prototype,$we=Mwe.toString,Lwe=Dwe.hasOwnProperty,Fwe=RegExp("^"+$we.call(Lwe).replace(Owe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vwe(t){if(!Iwe(t)||Nwe(t))return!1;var e=Cwe(t)?Fwe:Rwe;return e.test(kwe(t))}var Bwe=Vwe;function Uwe(t,e){return t==null?void 0:t[e]}var zwe=Uwe,Wwe=Bwe,Hwe=zwe;function qwe(t,e){var n=Hwe(t,e);return Wwe(n)?n:void 0}var iu=qwe,Kwe=iu,Gwe=Kwe(Object,"create"),p0=Gwe,QM=p0;function Ywe(){this.__data__=QM?QM(null):{},this.size=0}var Xwe=Ywe;function Qwe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Jwe=Qwe,Zwe=p0,e0e="__lodash_hash_undefined__",t0e=Object.prototype,n0e=t0e.hasOwnProperty;function r0e(t){var e=this.__data__;if(Zwe){var n=e[t];return n===e0e?void 0:n}return n0e.call(e,t)?e[t]:void 0}var i0e=r0e,o0e=p0,a0e=Object.prototype,s0e=a0e.hasOwnProperty;function l0e(t){var e=this.__data__;return o0e?e[t]!==void 0:s0e.call(e,t)}var c0e=l0e,u0e=p0,d0e="__lodash_hash_undefined__";function f0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=u0e&&e===void 0?d0e:e,this}var h0e=f0e,p0e=Xwe,m0e=Jwe,g0e=i0e,y0e=c0e,v0e=h0e;function Df(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Df.prototype.clear=p0e;Df.prototype.delete=m0e;Df.prototype.get=g0e;Df.prototype.has=y0e;Df.prototype.set=v0e;var x0e=Df;function b0e(){this.__data__=[],this.size=0}var w0e=b0e;function _0e(t,e){return t===e||t!==t&&e!==e}var fN=_0e,S0e=fN;function E0e(t,e){for(var n=t.length;n--;)if(S0e(t[n][0],e))return n;return-1}var m0=E0e,T0e=m0,A0e=Array.prototype,P0e=A0e.splice;function j0e(t){var e=this.__data__,n=T0e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():P0e.call(e,n,1),--this.size,!0}var C0e=j0e,N0e=m0;function I0e(t){var e=this.__data__,n=N0e(e,t);return n<0?void 0:e[n][1]}var k0e=I0e,O0e=m0;function R0e(t){return O0e(this.__data__,t)>-1}var M0e=R0e,D0e=m0;function $0e(t,e){var n=this.__data__,r=D0e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var L0e=$0e,F0e=w0e,V0e=C0e,B0e=k0e,U0e=M0e,z0e=L0e;function $f(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$f.prototype.clear=F0e;$f.prototype.delete=V0e;$f.prototype.get=B0e;$f.prototype.has=U0e;$f.prototype.set=z0e;var g0=$f,W0e=iu,H0e=zo,q0e=W0e(H0e,"Map"),hN=q0e,JM=x0e,K0e=g0,G0e=hN;function Y0e(){this.size=0,this.__data__={hash:new JM,map:new(G0e||K0e),string:new JM}}var X0e=Y0e;function Q0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var J0e=Q0e,Z0e=J0e;function e_e(t,e){var n=t.__data__;return Z0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var y0=e_e,t_e=y0;function n_e(t){var e=t_e(this,t).delete(t);return this.size-=e?1:0,e}var r_e=n_e,i_e=y0;function o_e(t){return i_e(this,t).get(t)}var a_e=o_e,s_e=y0;function l_e(t){return s_e(this,t).has(t)}var c_e=l_e,u_e=y0;function d_e(t,e){var n=u_e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var f_e=d_e,h_e=X0e,p_e=r_e,m_e=a_e,g_e=c_e,y_e=f_e;function Lf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lf.prototype.clear=h_e;Lf.prototype.delete=p_e;Lf.prototype.get=m_e;Lf.prototype.has=g_e;Lf.prototype.set=y_e;var pN=Lf,fH=pN,v_e="Expected a function";function mN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(v_e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(mN.Cache||fH),n}mN.Cache=fH;var hH=mN;const x_e=gt(hH);var b_e=hH,w_e=500;function __e(t){var e=b_e(t,function(r){return n.size===w_e&&n.clear(),r}),n=e.cache;return e}var S_e=__e,E_e=S_e,T_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A_e=/\\(\\)?/g,P_e=E_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(T_e,function(n,r,i,o){e.push(i?o.replace(A_e,"$1"):r||n)}),e}),j_e=P_e;function C_e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var gN=C_e,ZM=Ag,N_e=gN,I_e=$r,k_e=Rf,eD=ZM?ZM.prototype:void 0,tD=eD?eD.toString:void 0;function pH(t){if(typeof t=="string")return t;if(I_e(t))return N_e(t,pH)+"";if(k_e(t))return tD?tD.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var O_e=pH,R_e=O_e;function M_e(t){return t==null?"":R_e(t)}var mH=M_e,D_e=$r,$_e=uN,L_e=j_e,F_e=mH;function V_e(t,e){return D_e(t)?t:$_e(t,e)?[t]:L_e(F_e(t))}var gH=V_e,B_e=Rf;function U_e(t){if(typeof t=="string"||B_e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var v0=U_e,z_e=gH,W_e=v0;function H_e(t,e){e=z_e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[W_e(e[n++])];return n&&n==r?t:void 0}var yN=H_e,q_e=yN;function K_e(t,e,n){var r=t==null?void 0:q_e(t,e);return r===void 0?n:r}var yH=K_e;const xi=gt(yH);function G_e(t){return t==null}var Y_e=G_e;const Me=gt(Y_e);var X_e=Ha,Q_e=$r,J_e=qa,Z_e="[object String]";function e1e(t){return typeof t=="string"||!Q_e(t)&&J_e(t)&&X_e(t)==Z_e}var t1e=e1e;const Fc=gt(t1e);var vH={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=Symbol.for("react.element"),xN=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),_0=Symbol.for("react.provider"),S0=Symbol.for("react.context"),n1e=Symbol.for("react.server_context"),E0=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),A0=Symbol.for("react.suspense_list"),P0=Symbol.for("react.memo"),j0=Symbol.for("react.lazy"),r1e=Symbol.for("react.offscreen"),xH;xH=Symbol.for("react.module.reference");function Ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vN:switch(t=t.type,t){case x0:case w0:case b0:case T0:case A0:return t;default:switch(t=t&&t.$$typeof,t){case n1e:case S0:case E0:case j0:case P0:case _0:return t;default:return e}}case xN:return e}}}pt.ContextConsumer=S0;pt.ContextProvider=_0;pt.Element=vN;pt.ForwardRef=E0;pt.Fragment=x0;pt.Lazy=j0;pt.Memo=P0;pt.Portal=xN;pt.Profiler=w0;pt.StrictMode=b0;pt.Suspense=T0;pt.SuspenseList=A0;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(t){return Ai(t)===S0};pt.isContextProvider=function(t){return Ai(t)===_0};pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vN};pt.isForwardRef=function(t){return Ai(t)===E0};pt.isFragment=function(t){return Ai(t)===x0};pt.isLazy=function(t){return Ai(t)===j0};pt.isMemo=function(t){return Ai(t)===P0};pt.isPortal=function(t){return Ai(t)===xN};pt.isProfiler=function(t){return Ai(t)===w0};pt.isStrictMode=function(t){return Ai(t)===b0};pt.isSuspense=function(t){return Ai(t)===T0};pt.isSuspenseList=function(t){return Ai(t)===A0};pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===x0||t===w0||t===b0||t===T0||t===A0||t===r1e||typeof t=="object"&&t!==null&&(t.$$typeof===j0||t.$$typeof===P0||t.$$typeof===_0||t.$$typeof===S0||t.$$typeof===E0||t.$$typeof===xH||t.getModuleId!==void 0)};pt.typeOf=Ai;vH.exports=pt;var i1e=vH.exports,o1e=Ha,a1e=qa,s1e="[object Number]";function l1e(t){return typeof t=="number"||a1e(t)&&o1e(t)==s1e}var bH=l1e;const c1e=gt(bH);var u1e=bH;function d1e(t){return u1e(t)&&t!=+t}var f1e=d1e;const Ff=gt(f1e);var Hi=function(e){return e===0?0:e>0?1:-1},nc=function(e){return Fc(e)&&e.indexOf("%")===e.length-1},ce=function(e){return c1e(e)&&!Ff(e)},h1e=function(e){return Me(e)},pn=function(e){return ce(e)||Fc(e)},p1e=0,ou=function(e){var n=++p1e;return"".concat(e||"").concat(n)},Vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(e)&&!Fc(e))return r;var o;if(nc(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Ff(o)&&(o=r),i&&o>n&&(o=n),o},bs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},m1e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Jt=function(e,n){return ce(e)&&ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function Mx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):xi(r,e))===n})}var g1e=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,c=-1/0,u=0,d=0,f=0;f<n;f++)u=e[f].cx||0,d=e[f].cy||0,r+=u,i+=d,o+=u*d,a+=u*u,s=Math.min(s,u),c=Math.max(c,u);var h=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:c,a:h,b:(i-h*r)/n}},y1e=function(e,n){return ce(e)&&ce(n)?e-n:Fc(e)&&Fc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ad(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function fT(t){"@babel/helpers - typeof";return fT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fT(t)}var v1e=["viewBox","children"],x1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nD=["points","pathLength"],M1={svg:v1e,polygon:nD,polyline:nD},bN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!Mf(r))return null;var i={};return Object.keys(r).forEach(function(o){bN.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},b1e=function(e,n,r){return function(i){return e(n,r,i),null}},um=function(e,n,r){if(!Mf(e)||fT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];bN.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=b1e(a,n,r))}),i},w1e=["children"],_1e=["children"];function rD(t,e){if(t==null)return{};var n=S1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hT(t){"@babel/helpers - typeof";return hT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hT(t)}var iD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},va=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oD=null,D1=null,wN=function t(e){if(e===oD&&Array.isArray(D1))return D1;var n=[];return b.Children.forEach(e,function(r){Me(r)||(i1e.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),D1=n,oD=e,n};function Rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return va(i)}):r=[va(e)],wN(t).forEach(function(i){var o=xi(i,"type.displayName")||xi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ur(t,e){var n=Rr(t,e);return n&&n[0]}var aD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ce(r)||r<=0||!ce(i)||i<=0)},E1e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],T1e=function(e){return e&&e.type&&Fc(e.type)&&E1e.indexOf(e.type)>=0},wH=function(e){return e&&hT(e)==="object"&&"clipDot"in e},A1e=function(e,n,r,i){var o,a=(o=M1==null?void 0:M1[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Le(e)&&(i&&a.includes(n)||x1e.includes(n))||r&&bN.includes(n)},De=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!Mf(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;A1e((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},pT=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return sD(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!sD(o,a))return!1}return!0},sD=function(e,n){if(Me(e)&&Me(n))return!0;if(!Me(e)&&!Me(n)){var r=e.props||{},i=r.children,o=rD(r,w1e),a=n.props||{},s=a.children,c=rD(a,_1e);return i&&s?ad(o,c)&&pT(i,s):!i&&!s?ad(o,c):!1}return!1},lD=function(e,n){var r=[],i={};return wN(e).forEach(function(o,a){if(T1e(o))r.push(o);else if(o){var s=va(o.type),c=n[s]||{},u=c.handler,d=c.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},P1e=function(e){var n=e&&e.type;return n&&iD[n]?iD[n]:null},j1e=function(e,n){return wN(n).indexOf(e)},C1e=["children","width","height","viewBox","className","style","title","desc"];function mT(){return mT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mT.apply(this,arguments)}function N1e(t,e){if(t==null)return{};var n=I1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,c=t.desc,u=N1e(t,C1e),d=i||{width:n,height:r,x:0,y:0},f=We("recharts-surface",o);return D.createElement("svg",mT({},De(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,c),e)}var k1e=["children","className"];function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(this,arguments)}function O1e(t,e){if(t==null)return{};var n=R1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var st=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=O1e(t,k1e),o=We("recharts-layer",r);return D.createElement("g",yT({className:o},De(i,!0),{ref:e}),n)}),xa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function M1e(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var D1e=M1e,$1e=D1e;function L1e(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:$1e(t,e,n)}var F1e=L1e,V1e="\\ud800-\\udfff",B1e="\\u0300-\\u036f",U1e="\\ufe20-\\ufe2f",z1e="\\u20d0-\\u20ff",W1e=B1e+U1e+z1e,H1e="\\ufe0e\\ufe0f",q1e="\\u200d",K1e=RegExp("["+q1e+V1e+W1e+H1e+"]");function G1e(t){return K1e.test(t)}var _H=G1e;function Y1e(t){return t.split("")}var X1e=Y1e,SH="\\ud800-\\udfff",Q1e="\\u0300-\\u036f",J1e="\\ufe20-\\ufe2f",Z1e="\\u20d0-\\u20ff",eSe=Q1e+J1e+Z1e,tSe="\\ufe0e\\ufe0f",nSe="["+SH+"]",vT="["+eSe+"]",xT="\\ud83c[\\udffb-\\udfff]",rSe="(?:"+vT+"|"+xT+")",EH="[^"+SH+"]",TH="(?:\\ud83c[\\udde6-\\uddff]){2}",AH="[\\ud800-\\udbff][\\udc00-\\udfff]",iSe="\\u200d",PH=rSe+"?",jH="["+tSe+"]?",oSe="(?:"+iSe+"(?:"+[EH,TH,AH].join("|")+")"+jH+PH+")*",aSe=jH+PH+oSe,sSe="(?:"+[EH+vT+"?",vT,TH,AH,nSe].join("|")+")",lSe=RegExp(xT+"(?="+xT+")|"+sSe+aSe,"g");function cSe(t){return t.match(lSe)||[]}var uSe=cSe,dSe=X1e,fSe=_H,hSe=uSe;function pSe(t){return fSe(t)?hSe(t):dSe(t)}var mSe=pSe,gSe=F1e,ySe=_H,vSe=mSe,xSe=mH;function bSe(t){return function(e){e=xSe(e);var n=ySe(e)?vSe(e):void 0,r=n?n[0]:e.charAt(0),i=n?gSe(n,1).join(""):e.slice(1);return r[t]()+i}}var wSe=bSe,_Se=wSe,SSe=_Se("toUpperCase"),ESe=SSe;const C0=gt(ESe);function bt(t){return function(){return t}}const CH=Math.cos,$x=Math.sin,oo=Math.sqrt,Lx=Math.PI,N0=2*Lx,bT=Math.PI,wT=2*bT,ql=1e-6,TSe=wT-ql;function NH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ASe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NH;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class PSe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NH:ASe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ql)if(!(Math.abs(f*c-u*d)>ql)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,y=i-s,g=c*c+u*u,v=p*p+y*y,x=Math.sqrt(g),w=Math.sqrt(h),_=o*Math.tan((bT-Math.acos((g+h-v)/(2*x*w)))/2),T=_/w,E=_/x;Math.abs(T-1)>ql&&this._append`L${e+T*d},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*p>d*y)},${this._x1=e+E*c},${this._y1=n+E*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=e+s,d=n+c,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ql||Math.abs(this._y1-d)>ql)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%wT+wT),h>TSe?this._append`A${r},${r},0,1,${f},${e-s},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>ql&&this._append`A${r},${r},0,${+(h>=bT)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _N(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new PSe(e)}function SN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IH(t){this._context=t}IH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function I0(t){return new IH(t)}function kH(t){return t[0]}function OH(t){return t[1]}function RH(t,e){var n=bt(!0),r=null,i=I0,o=null,a=_N(s);t=typeof t=="function"?t:t===void 0?kH:bt(t),e=typeof e=="function"?e:e===void 0?OH:bt(e);function s(c){var u,d=(c=SN(c)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,c),+e(f,u,c));if(p)return o=null,p+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bt(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}function Ry(t,e,n){var r=null,i=bt(!0),o=null,a=I0,s=null,c=_N(u);t=typeof t=="function"?t:t===void 0?kH:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?OH:bt(+n);function u(f){var h,p,y,g=(f=SN(f)).length,v,x=!1,w,_=new Array(g),T=new Array(g);for(o==null&&(s=a(w=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(_[y],T[y]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(v,h,f),T[h]=+e(v,h,f),s.point(r?+r(v,h,f):_[h],n?+n(v,h,f):T[h]))}if(w)return s=null,w+""||null}function d(){return RH().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:bt(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class MH{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function jSe(t){return new MH(t,!0)}function CSe(t){return new MH(t,!1)}const EN={draw(t,e){const n=oo(e/Lx);t.moveTo(n,0),t.arc(0,0,n,0,N0)}},NSe={draw(t,e){const n=oo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},DH=oo(1/3),ISe=DH*2,kSe={draw(t,e){const n=oo(e/ISe),r=n*DH;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OSe={draw(t,e){const n=oo(e),r=-n/2;t.rect(r,r,n,n)}},RSe=.8908130915292852,$H=$x(Lx/10)/$x(7*Lx/10),MSe=$x(N0/10)*$H,DSe=-CH(N0/10)*$H,$Se={draw(t,e){const n=oo(e*RSe),r=MSe*n,i=DSe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=N0*o/5,s=CH(a),c=$x(a);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},$1=oo(3),LSe={draw(t,e){const n=-oo(e/($1*3));t.moveTo(0,n*2),t.lineTo(-$1*n,-n),t.lineTo($1*n,-n),t.closePath()}},oi=-.5,ai=oo(3)/2,_T=1/oo(12),FSe=(_T/2+1)*3,VSe={draw(t,e){const n=oo(e/FSe),r=n/2,i=n*_T,o=r,a=n*_T+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(oi*r-ai*i,ai*r+oi*i),t.lineTo(oi*o-ai*a,ai*o+oi*a),t.lineTo(oi*s-ai*c,ai*s+oi*c),t.lineTo(oi*r+ai*i,oi*i-ai*r),t.lineTo(oi*o+ai*a,oi*a-ai*o),t.lineTo(oi*s+ai*c,oi*c-ai*s),t.closePath()}};function BSe(t,e){let n=null,r=_N(i);t=typeof t=="function"?t:bt(t||EN),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Fx(){}function Vx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function LH(t){this._context=t}LH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function USe(t){return new LH(t)}function FH(t){this._context=t}FH.prototype={areaStart:Fx,areaEnd:Fx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zSe(t){return new FH(t)}function VH(t){this._context=t}VH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WSe(t){return new VH(t)}function BH(t){this._context=t}BH.prototype={areaStart:Fx,areaEnd:Fx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HSe(t){return new BH(t)}function cD(t){return t<0?-1:1}function uD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(cD(o)+cD(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function dD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function L1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Bx(t){this._context=t}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L1(this,this._t0,dD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,L1(this,dD(this,n=uD(this,t,e)),n);break;default:L1(this,this._t0,n=uD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UH(t){this._context=new zH(t)}(UH.prototype=Object.create(Bx.prototype)).point=function(t,e){Bx.prototype.point.call(this,e,t)};function zH(t){this._context=t}zH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function qSe(t){return new Bx(t)}function KSe(t){return new UH(t)}function WH(t){this._context=t}WH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fD(t),i=fD(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function GSe(t){return new WH(t)}function k0(t,e){this._context=t,this._t=e}k0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YSe(t){return new k0(t,.5)}function XSe(t){return new k0(t,0)}function QSe(t){return new k0(t,1)}function Fd(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ST(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function JSe(t,e){return t[e]}function ZSe(t){const e=[];return e.key=t,e}function eEe(){var t=bt([]),e=ST,n=Fd,r=JSe;function i(o){var a=Array.from(t.apply(this,arguments),ZSe),s,c=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<c;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=SN(e(a));s<c;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ST:typeof o=="function"?o:bt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Fd,i):n},i}function tEe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Fd(t,e)}}function nEe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Fd(t,e)}}function rEe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,c=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var g=t[e[y]],v=g[r][1]||0,x=g[r-1][1]||0;p+=v-x}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Fd(t,e)}}function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var iEe=["type","size","sizeType"];function ET(){return ET=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ET.apply(this,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){oEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oEe(t,e,n){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aEe(t){var e=sEe(t,"string");return dm(e)=="symbol"?e:e+""}function sEe(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lEe(t,e){if(t==null)return{};var n=cEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HH={symbolCircle:EN,symbolCross:NSe,symbolDiamond:kSe,symbolSquare:OSe,symbolStar:$Se,symbolTriangle:LSe,symbolWye:VSe},uEe=Math.PI/180,dEe=function(e){var n="symbol".concat(C0(e));return HH[n]||EN},fEe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uEe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hEe=function(e,n){HH["symbol".concat(C0(e))]=n},O0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,c=lEe(e,iEe),u=pD(pD({},c),{},{type:r,size:o,sizeType:s}),d=function(){var v=dEe(r),x=BSe().type(v).size(fEe(o,s,r));return x()},f=u.className,h=u.cx,p=u.cy,y=De(u,!0);return h===+h&&p===+p&&o===+o?D.createElement("path",ET({},y,{className:We("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};O0.registerSymbol=hEe;function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(this,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){fm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KH(r.key),r)}}function yEe(t,e,n){return e&&gEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vEe(t,e,n){return e=Ux(e),xEe(t,qH()?Reflect.construct(e,n||[],Ux(t).constructor):e.apply(t,n))}function xEe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bEe(t)}function bEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qH=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(t)}function wEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AT(t,e)}function AT(t,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AT(t,e)}function fm(t,e,n){return e=KH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KH(t){var e=_Ee(t,"string");return Vd(e)=="symbol"?e:e+""}function _Ee(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var si=32,TN=function(t){function e(){return mEe(this,e),vEe(this,e,arguments)}return wEe(e,t),yEe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=si/2,a=si/6,s=si/3,c=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:si,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(si,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(si/8,"h").concat(si,"v").concat(si*3/4,"h").concat(-si,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=pEe({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(O0,{fill:c,cx:o,cy:o,size:si,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:si,height:si},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,y){var g=p.formatter||c,v=We(fm(fm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Le(p.value)?null:p.value;xa(!Le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return D.createElement("li",TT({className:v,style:f,key:"legend-item-".concat(y)},um(r.props,p,y)),D.createElement(gT,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,p,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(b.PureComponent);fm(TN,"displayName","Legend");fm(TN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SEe=g0;function EEe(){this.__data__=new SEe,this.size=0}var TEe=EEe;function AEe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var PEe=AEe;function jEe(t){return this.__data__.get(t)}var CEe=jEe;function NEe(t){return this.__data__.has(t)}var IEe=NEe,kEe=g0,OEe=hN,REe=pN,MEe=200;function DEe(t,e){var n=this.__data__;if(n instanceof kEe){var r=n.__data__;if(!OEe||r.length<MEe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new REe(r)}return n.set(t,e),this.size=n.size,this}var $Ee=DEe,LEe=g0,FEe=TEe,VEe=PEe,BEe=CEe,UEe=IEe,zEe=$Ee;function Vf(t){var e=this.__data__=new LEe(t);this.size=e.size}Vf.prototype.clear=FEe;Vf.prototype.delete=VEe;Vf.prototype.get=BEe;Vf.prototype.has=UEe;Vf.prototype.set=zEe;var GH=Vf,WEe="__lodash_hash_undefined__";function HEe(t){return this.__data__.set(t,WEe),this}var qEe=HEe;function KEe(t){return this.__data__.has(t)}var GEe=KEe,YEe=pN,XEe=qEe,QEe=GEe;function zx(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new YEe;++e<n;)this.add(t[e])}zx.prototype.add=zx.prototype.push=XEe;zx.prototype.has=QEe;var YH=zx;function JEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var XH=JEe;function ZEe(t,e){return t.has(e)}var QH=ZEe,eTe=YH,tTe=XH,nTe=QH,rTe=1,iTe=2;function oTe(t,e,n,r,i,o){var a=n&rTe,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&iTe?new eTe:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],g=e[f];if(r)var v=a?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!tTe(e,function(x,w){if(!nTe(p,w)&&(y===x||i(y,x,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var JH=oTe,aTe=zo,sTe=aTe.Uint8Array,lTe=sTe;function cTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var uTe=cTe;function dTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var AN=dTe,gD=Ag,yD=lTe,fTe=fN,hTe=JH,pTe=uTe,mTe=AN,gTe=1,yTe=2,vTe="[object Boolean]",xTe="[object Date]",bTe="[object Error]",wTe="[object Map]",_Te="[object Number]",STe="[object RegExp]",ETe="[object Set]",TTe="[object String]",ATe="[object Symbol]",PTe="[object ArrayBuffer]",jTe="[object DataView]",vD=gD?gD.prototype:void 0,F1=vD?vD.valueOf:void 0;function CTe(t,e,n,r,i,o,a){switch(n){case jTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case PTe:return!(t.byteLength!=e.byteLength||!o(new yD(t),new yD(e)));case vTe:case xTe:case _Te:return fTe(+t,+e);case bTe:return t.name==e.name&&t.message==e.message;case STe:case TTe:return t==e+"";case wTe:var s=pTe;case ETe:var c=r&gTe;if(s||(s=mTe),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=yTe,a.set(t,e);var d=hTe(s(t),s(e),r,i,o,a);return a.delete(t),d;case ATe:if(F1)return F1.call(t)==F1.call(e)}return!1}var NTe=CTe;function ITe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ZH=ITe,kTe=ZH,OTe=$r;function RTe(t,e,n){var r=e(t);return OTe(t)?r:kTe(r,n(t))}var MTe=RTe;function DTe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var $Te=DTe;function LTe(){return[]}var FTe=LTe,VTe=$Te,BTe=FTe,UTe=Object.prototype,zTe=UTe.propertyIsEnumerable,xD=Object.getOwnPropertySymbols,WTe=xD?function(t){return t==null?[]:(t=Object(t),VTe(xD(t),function(e){return zTe.call(t,e)}))}:BTe,HTe=WTe;function qTe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var KTe=qTe,GTe=Ha,YTe=qa,XTe="[object Arguments]";function QTe(t){return YTe(t)&&GTe(t)==XTe}var JTe=QTe,bD=JTe,ZTe=qa,e7=Object.prototype,eAe=e7.hasOwnProperty,tAe=e7.propertyIsEnumerable,nAe=bD(function(){return arguments}())?bD:function(t){return ZTe(t)&&eAe.call(t,"callee")&&!tAe.call(t,"callee")},PN=nAe,Wx={exports:{}};function rAe(){return!1}var iAe=rAe;Wx.exports;(function(t,e){var n=zo,r=iAe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;t.exports=u})(Wx,Wx.exports);var t7=Wx.exports,oAe=9007199254740991,aAe=/^(?:0|[1-9]\d*)$/;function sAe(t,e){var n=typeof t;return e=e??oAe,!!e&&(n=="number"||n!="symbol"&&aAe.test(t))&&t>-1&&t%1==0&&t<e}var jN=sAe,lAe=9007199254740991;function cAe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lAe}var CN=cAe,uAe=Ha,dAe=CN,fAe=qa,hAe="[object Arguments]",pAe="[object Array]",mAe="[object Boolean]",gAe="[object Date]",yAe="[object Error]",vAe="[object Function]",xAe="[object Map]",bAe="[object Number]",wAe="[object Object]",_Ae="[object RegExp]",SAe="[object Set]",EAe="[object String]",TAe="[object WeakMap]",AAe="[object ArrayBuffer]",PAe="[object DataView]",jAe="[object Float32Array]",CAe="[object Float64Array]",NAe="[object Int8Array]",IAe="[object Int16Array]",kAe="[object Int32Array]",OAe="[object Uint8Array]",RAe="[object Uint8ClampedArray]",MAe="[object Uint16Array]",DAe="[object Uint32Array]",At={};At[jAe]=At[CAe]=At[NAe]=At[IAe]=At[kAe]=At[OAe]=At[RAe]=At[MAe]=At[DAe]=!0;At[hAe]=At[pAe]=At[AAe]=At[mAe]=At[PAe]=At[gAe]=At[yAe]=At[vAe]=At[xAe]=At[bAe]=At[wAe]=At[_Ae]=At[SAe]=At[EAe]=At[TAe]=!1;function $Ae(t){return fAe(t)&&dAe(t.length)&&!!At[uAe(t)]}var LAe=$Ae;function FAe(t){return function(e){return t(e)}}var n7=FAe,Hx={exports:{}};Hx.exports;(function(t,e){var n=cH,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Hx,Hx.exports);var VAe=Hx.exports,BAe=LAe,UAe=n7,wD=VAe,_D=wD&&wD.isTypedArray,zAe=_D?UAe(_D):BAe,r7=zAe,WAe=KTe,HAe=PN,qAe=$r,KAe=t7,GAe=jN,YAe=r7,XAe=Object.prototype,QAe=XAe.hasOwnProperty;function JAe(t,e){var n=qAe(t),r=!n&&HAe(t),i=!n&&!r&&KAe(t),o=!n&&!r&&!i&&YAe(t),a=n||r||i||o,s=a?WAe(t.length,String):[],c=s.length;for(var u in t)(e||QAe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GAe(u,c)))&&s.push(u);return s}var ZAe=JAe,ePe=Object.prototype;function tPe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ePe;return t===n}var nPe=tPe;function rPe(t,e){return function(n){return t(e(n))}}var i7=rPe,iPe=i7,oPe=iPe(Object.keys,Object),aPe=oPe,sPe=nPe,lPe=aPe,cPe=Object.prototype,uPe=cPe.hasOwnProperty;function dPe(t){if(!sPe(t))return lPe(t);var e=[];for(var n in Object(t))uPe.call(t,n)&&n!="constructor"&&e.push(n);return e}var fPe=dPe,hPe=dN,pPe=CN;function mPe(t){return t!=null&&pPe(t.length)&&!hPe(t)}var Pg=mPe,gPe=ZAe,yPe=fPe,vPe=Pg;function xPe(t){return vPe(t)?gPe(t):yPe(t)}var R0=xPe,bPe=MTe,wPe=HTe,_Pe=R0;function SPe(t){return bPe(t,_Pe,wPe)}var EPe=SPe,SD=EPe,TPe=1,APe=Object.prototype,PPe=APe.hasOwnProperty;function jPe(t,e,n,r,i,o){var a=n&TPe,s=SD(t),c=s.length,u=SD(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=s[f];if(!(a?h in e:PPe.call(e,h)))return!1}var p=o.get(t),y=o.get(e);if(p&&y)return p==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<c;){h=s[f];var x=t[h],w=e[h];if(r)var _=a?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(_===void 0?x===w||i(x,w,n,r,o):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var T=t.constructor,E=e.constructor;T!=E&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof E=="function"&&E instanceof E)&&(g=!1)}return o.delete(t),o.delete(e),g}var CPe=jPe,NPe=iu,IPe=zo,kPe=NPe(IPe,"DataView"),OPe=kPe,RPe=iu,MPe=zo,DPe=RPe(MPe,"Promise"),$Pe=DPe,LPe=iu,FPe=zo,VPe=LPe(FPe,"Set"),o7=VPe,BPe=iu,UPe=zo,zPe=BPe(UPe,"WeakMap"),WPe=zPe,PT=OPe,jT=hN,CT=$Pe,NT=o7,IT=WPe,a7=Ha,Bf=dH,ED="[object Map]",HPe="[object Object]",TD="[object Promise]",AD="[object Set]",PD="[object WeakMap]",jD="[object DataView]",qPe=Bf(PT),KPe=Bf(jT),GPe=Bf(CT),YPe=Bf(NT),XPe=Bf(IT),Kl=a7;(PT&&Kl(new PT(new ArrayBuffer(1)))!=jD||jT&&Kl(new jT)!=ED||CT&&Kl(CT.resolve())!=TD||NT&&Kl(new NT)!=AD||IT&&Kl(new IT)!=PD)&&(Kl=function(t){var e=a7(t),n=e==HPe?t.constructor:void 0,r=n?Bf(n):"";if(r)switch(r){case qPe:return jD;case KPe:return ED;case GPe:return TD;case YPe:return AD;case XPe:return PD}return e});var QPe=Kl,V1=GH,JPe=JH,ZPe=NTe,eje=CPe,CD=QPe,ND=$r,ID=t7,tje=r7,nje=1,kD="[object Arguments]",OD="[object Array]",My="[object Object]",rje=Object.prototype,RD=rje.hasOwnProperty;function ije(t,e,n,r,i,o){var a=ND(t),s=ND(e),c=a?OD:CD(t),u=s?OD:CD(e);c=c==kD?My:c,u=u==kD?My:u;var d=c==My,f=u==My,h=c==u;if(h&&ID(t)){if(!ID(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new V1),a||tje(t)?JPe(t,e,n,r,i,o):ZPe(t,e,c,n,r,i,o);if(!(n&nje)){var p=d&&RD.call(t,"__wrapped__"),y=f&&RD.call(e,"__wrapped__");if(p||y){var g=p?t.value():t,v=y?e.value():e;return o||(o=new V1),i(g,v,n,r,o)}}return h?(o||(o=new V1),eje(t,e,n,r,i,o)):!1}var oje=ije,aje=oje,MD=qa;function s7(t,e,n,r,i){return t===e?!0:t==null||e==null||!MD(t)&&!MD(e)?t!==t&&e!==e:aje(t,e,n,r,s7,i)}var NN=s7,sje=GH,lje=NN,cje=1,uje=2;function dje(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var c=s[0],u=t[c],d=s[1];if(a&&s[2]){if(u===void 0&&!(c in t))return!1}else{var f=new sje;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?lje(d,u,cje|uje,r,f):h))return!1}}return!0}var fje=dje,hje=Tl;function pje(t){return t===t&&!hje(t)}var l7=pje,mje=l7,gje=R0;function yje(t){for(var e=gje(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mje(i)]}return e}var vje=yje;function xje(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var c7=xje,bje=fje,wje=vje,_je=c7;function Sje(t){var e=wje(t);return e.length==1&&e[0][2]?_je(e[0][0],e[0][1]):function(n){return n===t||bje(n,t,e)}}var Eje=Sje;function Tje(t,e){return t!=null&&e in Object(t)}var Aje=Tje,Pje=gH,jje=PN,Cje=$r,Nje=jN,Ije=CN,kje=v0;function Oje(t,e,n){e=Pje(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=kje(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Ije(i)&&Nje(a,i)&&(Cje(t)||jje(t)))}var Rje=Oje,Mje=Aje,Dje=Rje;function $je(t,e){return t!=null&&Dje(t,e,Mje)}var Lje=$je,Fje=NN,Vje=yH,Bje=Lje,Uje=uN,zje=l7,Wje=c7,Hje=v0,qje=1,Kje=2;function Gje(t,e){return Uje(t)&&zje(e)?Wje(Hje(t),e):function(n){var r=Vje(n,t);return r===void 0&&r===e?Bje(n,t):Fje(e,r,qje|Kje)}}var Yje=Gje;function Xje(t){return t}var Uf=Xje;function Qje(t){return function(e){return e==null?void 0:e[t]}}var Jje=Qje,Zje=yN;function eCe(t){return function(e){return Zje(e,t)}}var tCe=eCe,nCe=Jje,rCe=tCe,iCe=uN,oCe=v0;function aCe(t){return iCe(t)?nCe(oCe(t)):rCe(t)}var sCe=aCe,lCe=Eje,cCe=Yje,uCe=Uf,dCe=$r,fCe=sCe;function hCe(t){return typeof t=="function"?t:t==null?uCe:typeof t=="object"?dCe(t)?cCe(t[0],t[1]):lCe(t):fCe(t)}var Al=hCe;function pCe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var u7=pCe;function mCe(t){return t!==t}var gCe=mCe;function yCe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var vCe=yCe,xCe=u7,bCe=gCe,wCe=vCe;function _Ce(t,e,n){return e===e?wCe(t,e,n):xCe(t,bCe,n)}var SCe=_Ce,ECe=SCe;function TCe(t,e){var n=t==null?0:t.length;return!!n&&ECe(t,e,0)>-1}var ACe=TCe;function PCe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var jCe=PCe;function CCe(){}var NCe=CCe,B1=o7,ICe=NCe,kCe=AN,OCe=1/0,RCe=B1&&1/kCe(new B1([,-0]))[1]==OCe?function(t){return new B1(t)}:ICe,MCe=RCe,DCe=YH,$Ce=ACe,LCe=jCe,FCe=QH,VCe=MCe,BCe=AN,UCe=200;function zCe(t,e,n){var r=-1,i=$Ce,o=t.length,a=!0,s=[],c=s;if(n)a=!1,i=LCe;else if(o>=UCe){var u=e?null:VCe(t);if(u)return BCe(u);a=!1,i=FCe,c=new DCe}else c=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(d)}else i(c,f,n)||(c!==s&&c.push(f),s.push(d))}return s}var WCe=zCe,HCe=Al,qCe=WCe;function KCe(t,e){return t&&t.length?qCe(t,HCe(e)):[]}var GCe=KCe;const DD=gt(GCe);function d7(t,e,n){return e===!0?DD(t,n):Le(e)?DD(t,e):t}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}var YCe=["ref"];function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){M0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h7(r.key),r)}}function QCe(t,e,n){return e&&LD(t.prototype,e),n&&LD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JCe(t,e,n){return e=qx(e),ZCe(t,f7()?Reflect.construct(e,n||[],qx(t).constructor):e.apply(t,n))}function ZCe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eNe(t)}function eNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f7=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(t)}function tNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kT(t,e)}function kT(t,e){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kT(t,e)}function M0(t,e,n){return e=h7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h7(t){var e=nNe(t,"string");return Bd(e)=="symbol"?e:e+""}function nNe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rNe(t,e){if(t==null)return{};var n=iNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oNe(t){return t.value}function aNe(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=rNe(e,YCe);return D.createElement(TN,n)}var FD=1,xc=function(t){function e(){var n;XCe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=JCe(this,e,[].concat(i)),M0(n,"lastBoundingBox",{width:-1,height:-1}),n}return tNe(e,t),QCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>FD||Math.abs(i.height-this.lastBoundingBox.height)>FD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Yo(Yo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Yo(Yo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},aNe(o,Yo(Yo({},this.props),{},{payload:d7(d,u,oNe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Yo(Yo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ce(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);M0(xc,"displayName","Legend");M0(xc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VD=Ag,sNe=PN,lNe=$r,BD=VD?VD.isConcatSpreadable:void 0;function cNe(t){return lNe(t)||sNe(t)||!!(BD&&t&&t[BD])}var uNe=cNe,dNe=ZH,fNe=uNe;function p7(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=fNe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?p7(s,e-1,n,r,i):dNe(i,s):r||(i[i.length]=s)}return i}var m7=p7;function hNe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(n(o[c],c,o)===!1)break}return e}}var pNe=hNe,mNe=pNe,gNe=mNe(),yNe=gNe,vNe=yNe,xNe=R0;function bNe(t,e){return t&&vNe(t,e,xNe)}var g7=bNe,wNe=Pg;function _Ne(t,e){return function(n,r){if(n==null)return n;if(!wNe(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var SNe=_Ne,ENe=g7,TNe=SNe,ANe=TNe(ENe),IN=ANe,PNe=IN,jNe=Pg;function CNe(t,e){var n=-1,r=jNe(t)?Array(t.length):[];return PNe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var y7=CNe;function NNe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var INe=NNe,UD=Rf;function kNe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=UD(t),a=e!==void 0,s=e===null,c=e===e,u=UD(e);if(!s&&!u&&!o&&t>e||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}var ONe=kNe,RNe=ONe;function MNe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var c=RNe(i[r],o[r]);if(c){if(r>=s)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var DNe=MNe,U1=gN,$Ne=yN,LNe=Al,FNe=y7,VNe=INe,BNe=n7,UNe=DNe,zNe=Uf,WNe=$r;function HNe(t,e,n){e.length?e=U1(e,function(o){return WNe(o)?function(a){return $Ne(a,o.length===1?o[0]:o)}:o}):e=[zNe];var r=-1;e=U1(e,BNe(LNe));var i=FNe(t,function(o,a,s){var c=U1(e,function(u){return u(o)});return{criteria:c,index:++r,value:o}});return VNe(i,function(o,a){return UNe(o,a,n)})}var qNe=HNe;function KNe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var GNe=KNe,YNe=GNe,zD=Math.max;function XNe(t,e,n){return e=zD(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=zD(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),YNe(t,this,s)}}var QNe=XNe;function JNe(t){return function(){return t}}var ZNe=JNe,eIe=iu,tIe=function(){try{var t=eIe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),v7=tIe,nIe=ZNe,WD=v7,rIe=Uf,iIe=WD?function(t,e){return WD(t,"toString",{configurable:!0,enumerable:!1,value:nIe(e),writable:!0})}:rIe,oIe=iIe,aIe=800,sIe=16,lIe=Date.now;function cIe(t){var e=0,n=0;return function(){var r=lIe(),i=sIe-(r-n);if(n=r,i>0){if(++e>=aIe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uIe=cIe,dIe=oIe,fIe=uIe,hIe=fIe(dIe),pIe=hIe,mIe=Uf,gIe=QNe,yIe=pIe;function vIe(t,e){return yIe(gIe(t,e,mIe),t+"")}var xIe=vIe,bIe=fN,wIe=Pg,_Ie=jN,SIe=Tl;function EIe(t,e,n){if(!SIe(n))return!1;var r=typeof e;return(r=="number"?wIe(n)&&_Ie(e,n.length):r=="string"&&e in n)?bIe(n[e],t):!1}var D0=EIe,TIe=m7,AIe=qNe,PIe=xIe,HD=D0,jIe=PIe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&HD(t,e[0],e[1])?e=[]:n>2&&HD(e[0],e[1],e[2])&&(e=[e[0]]),AIe(t,TIe(e,1),[])}),CIe=jIe;const kN=gt(CIe);function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OT.apply(this,arguments)}function NIe(t,e){return RIe(t)||OIe(t,e)||kIe(t,e)||IIe()}function IIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kIe(t,e){if(t){if(typeof t=="string")return qD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(t,e)}}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RIe(t){if(Array.isArray(t))return t}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){MIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MIe(t,e,n){return e=DIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DIe(t){var e=$Ie(t,"string");return hm(e)=="symbol"?e:e+""}function $Ie(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LIe(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var FIe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(d&&d.length){var k={padding:0,margin:0},R=(h?kN(d,h):d).map(function($,U){if($.type==="none")return null;var B=z1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),V=$.formatter||f||LIe,F=$.value,L=$.name,H=F,z=L;if(V&&H!=null&&z!=null){var W=V(F,L,$,U,d);if(Array.isArray(W)){var K=NIe(W,2);H=K[0],z=K[1]}else H=W}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:B},pn(z)?D.createElement("span",{className:"recharts-tooltip-item-name"},z):null,pn(z)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},H),D.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},T=z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=z1({margin:0},u),P=!Me(g),S=P?g:"",A=We("recharts-default-tooltip",p),C=We("recharts-tooltip-label",y);P&&v&&d!==void 0&&d!==null&&(S=v(g,d));var I=w?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",OT({className:A,style:T},I),D.createElement("p",{className:C,style:E},D.isValidElement(S)?S:"".concat(S)),_())};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function Dy(t,e,n){return e=VIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VIe(t){var e=BIe(t,"string");return pm(e)=="symbol"?e:e+""}function BIe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh="recharts-tooltip-wrapper",UIe={visibility:"hidden"};function zIe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return We(Sh,Dy(Dy(Dy(Dy({},"".concat(Sh,"-right"),ce(n)&&e&&ce(e.x)&&n>=e.x),"".concat(Sh,"-left"),ce(n)&&e&&ce(e.x)&&n<e.x),"".concat(Sh,"-bottom"),ce(r)&&e&&ce(e.y)&&r>=e.y),"".concat(Sh,"-top"),ce(r)&&e&&ce(e.y)&&r<e.y))}function GD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(o&&ce(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+s,g=c[r]+u;return y>g?Math.max(d,c[r]):Math.max(f,c[r])}function WIe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function HIe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=GD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=GD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=WIe({translateX:d,translateY:f,useTranslate3d:s})):u=UIe,{cssProperties:u,cssClasses:zIe({translateX:d,translateY:f,coordinate:n})}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){MT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b7(r.key),r)}}function GIe(t,e,n){return e&&KIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YIe(t,e,n){return e=Kx(e),XIe(t,x7()?Reflect.construct(e,n||[],Kx(t).constructor):e.apply(t,n))}function XIe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QIe(t)}function QIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(t)}function JIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RT(t,e)}function RT(t,e){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RT(t,e)}function MT(t,e,n){return e=b7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b7(t){var e=ZIe(t,"string");return Ud(e)=="symbol"?e:e+""}function ZIe(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QD=1,eke=function(t){function e(){var n;qIe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=YIe(this,e,[].concat(i)),MT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),MT(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return JIe(e,t),GIe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QD||Math.abs(r.height-this.state.lastBoundingBox.height)>QD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=HIe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),T=_.cssClasses,E=_.cssProperties,P=XD(XD({transition:h&&o?"transform ".concat(s,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return D.createElement("div",{tabIndex:-1,className:T,style:P,ref:function(A){r.wrapperNode=A}},u)}}])}(b.PureComponent),tke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pl={isSsr:tke()};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){ON(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_7(r.key),r)}}function ike(t,e,n){return e&&rke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oke(t,e,n){return e=Gx(e),ake(t,w7()?Reflect.construct(e,n||[],Gx(t).constructor):e.apply(t,n))}function ake(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ske(t)}function ske(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(t)}function lke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DT(t,e)}function DT(t,e){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DT(t,e)}function ON(t,e,n){return e=_7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _7(t){var e=cke(t,"string");return zd(e)=="symbol"?e:e+""}function cke(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uke(t){return t.dataKey}function dke(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(FIe,e)}var zr=function(t){function e(){return nke(this,e),oke(this,e,arguments)}return lke(e,t),ike(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,E=y??[];f&&E.length&&(E=d7(y.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,uke));var P=E.length>0;return D.createElement(eke,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:h,active:o,coordinate:d,hasPayload:P,offset:p,position:v,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:T},dke(u,ZD(ZD({},this.props),{},{payload:E})))}}])}(b.PureComponent);ON(zr,"displayName","Tooltip");ON(zr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fke=zo,hke=function(){return fke.Date.now()},pke=hke,mke=/\s/;function gke(t){for(var e=t.length;e--&&mke.test(t.charAt(e)););return e}var yke=gke,vke=yke,xke=/^\s+/;function bke(t){return t&&t.slice(0,vke(t)+1).replace(xke,"")}var wke=bke,_ke=wke,e$=Tl,Ske=Rf,t$=NaN,Eke=/^[-+]0x[0-9a-f]+$/i,Tke=/^0b[01]+$/i,Ake=/^0o[0-7]+$/i,Pke=parseInt;function jke(t){if(typeof t=="number")return t;if(Ske(t))return t$;if(e$(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=e$(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_ke(t);var n=Tke.test(t);return n||Ake.test(t)?Pke(t.slice(2),n?2:8):Eke.test(t)?t$:+t}var S7=jke,Cke=Tl,W1=pke,n$=S7,Nke="Expected a function",Ike=Math.max,kke=Math.min;function Oke(t,e,n){var r,i,o,a,s,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Nke);e=n$(e)||0,Cke(n)&&(d=!!n.leading,f="maxWait"in n,o=f?Ike(n$(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(P){var S=r,A=i;return r=i=void 0,u=P,a=t.apply(A,S),a}function y(P){return u=P,s=setTimeout(x,e),d?p(P):a}function g(P){var S=P-c,A=P-u,C=e-S;return f?kke(C,o-A):C}function v(P){var S=P-c,A=P-u;return c===void 0||S>=e||S<0||f&&A>=o}function x(){var P=W1();if(v(P))return w(P);s=setTimeout(x,g(P))}function w(P){return s=void 0,h&&r?p(P):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function T(){return s===void 0?a:w(W1())}function E(){var P=W1(),S=v(P);if(r=arguments,i=this,c=P,S){if(s===void 0)return y(c);if(f)return clearTimeout(s),s=setTimeout(x,e),p(c)}return s===void 0&&(s=setTimeout(x,e)),a}return E.cancel=_,E.flush=T,E}var Rke=Oke,Mke=Rke,Dke=Tl,$ke="Expected a function";function Lke(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError($ke);return Dke(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mke(t,e,{leading:r,maxWait:e,trailing:i})}var Fke=Lke;const E7=gt(Fke);function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function r$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(n),!0).forEach(function(r){Vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vke(t,e,n){return e=Bke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bke(t){var e=Uke(t,"string");return mm(e)=="symbol"?e:e+""}function Uke(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zke(t,e){return Kke(t)||qke(t,e)||Hke(t,e)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hke(t,e){if(t){if(typeof t=="string")return i$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i$(t,e)}}function i$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Kke(t){if(Array.isArray(t))return t}var $0=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,c=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,x=t.className,w=t.onResize,_=t.style,T=_===void 0?{}:_,E=b.useRef(null),P=b.useRef();P.current=w,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=b.useState({containerWidth:i.width,containerHeight:i.height}),A=zke(S,2),C=A[0],I=A[1],N=b.useCallback(function(R,$){I(function(U){var B=Math.round(R),V=Math.round($);return U.containerWidth===B&&U.containerHeight===V?U:{containerWidth:B,containerHeight:V}})},[]);b.useEffect(function(){var R=function(L){var H,z=L[0].contentRect,W=z.width,K=z.height;N(W,K),(H=P.current)===null||H===void 0||H.call(P,W,K)};g>0&&(R=E7(R,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),U=E.current.getBoundingClientRect(),B=U.width,V=U.height;return N(B,V),$.observe(E.current),function(){$.disconnect()}},[N,g]);var k=b.useMemo(function(){var R=C.containerWidth,$=C.containerHeight;if(R<0||$<0)return null;xa(nc(a)||nc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),xa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=nc(a)?R:a,B=nc(c)?$:c;n&&n>0&&(U?B=U/n:B&&(U=B*n),h&&B>h&&(B=h)),xa(U>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,B,a,c,d,f,n);var V=!Array.isArray(p)&&va(p.type).endsWith("Chart");return D.Children.map(p,function(F){return D.isValidElement(F)?b.cloneElement(F,$y({width:U,height:B},V?{style:$y({height:"100%",width:"100%",maxHeight:B,maxWidth:U},F.props.style)}:{})):F})},[n,p,c,h,f,d,C,a]);return D.createElement("div",{id:v?"".concat(v):void 0,className:We("recharts-responsive-container",x),style:$y($y({},T),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},k)}),RN=function(e){return null};RN.displayName="Cell";function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(n),!0).forEach(function(r){Gke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gke(t,e,n){return e=Yke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yke(t){var e=Xke(t,"string");return gm(e)=="symbol"?e:e+""}function Xke(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _u={widthCache:{},cacheCount:0},Qke=2e3,Jke={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a$="recharts_measurement_span";function Zke(t){var e=$T({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var pp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pl.isSsr)return{width:0,height:0};var r=Zke(n),i=JSON.stringify({text:e,copyStyle:r});if(_u.widthCache[i])return _u.widthCache[i];try{var o=document.getElementById(a$);o||(o=document.createElement("span"),o.setAttribute("id",a$),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=$T($T({},Jke),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),c={width:s.width,height:s.height};return _u.widthCache[i]=c,++_u.cacheCount>Qke&&(_u.cacheCount=0,_u.widthCache={}),c}catch{return{width:0,height:0}}},eOe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function Yx(t,e){return iOe(t)||rOe(t,e)||nOe(t,e)||tOe()}function tOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nOe(t,e){if(t){if(typeof t=="string")return s$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s$(t,e)}}function s$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iOe(t){if(Array.isArray(t))return t}function oOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sOe(r.key),r)}}function aOe(t,e,n){return e&&l$(t.prototype,e),n&&l$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sOe(t){var e=lOe(t,"string");return ym(e)=="symbol"?e:e+""}function lOe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uOe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dOe=Object.keys(T7),Wu="NaN";function fOe(t,e){return t*T7[e]}var Ly=function(){function t(e,n){oOe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!cOe.test(n)&&(this.num=NaN,this.unit=""),dOe.includes(n)&&(this.num=fOe(e,n),this.unit="px")}return aOe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=uOe.exec(n))!==null&&r!==void 0?r:[],o=Yx(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function A7(t){if(t.includes(Wu))return Wu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=c$.exec(e))!==null&&n!==void 0?n:[],i=Yx(r,4),o=i[1],a=i[2],s=i[3],c=Ly.parse(o??""),u=Ly.parse(s??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Wu;e=e.replace(c$,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=u$.exec(e))!==null&&f!==void 0?f:[],p=Yx(h,4),y=p[1],g=p[2],v=p[3],x=Ly.parse(y??""),w=Ly.parse(v??""),_=g==="+"?x.add(w):x.subtract(w);if(_.isNaN())return Wu;e=e.replace(u$,_.toString())}return e}var d$=/\(([^()]*)\)/;function hOe(t){for(var e=t;e.includes("(");){var n=d$.exec(e),r=Yx(n,2),i=r[1];e=e.replace(d$,A7(i))}return e}function pOe(t){var e=t.replace(/\s+/g,"");return e=hOe(e),e=A7(e),e}function mOe(t){try{return pOe(t)}catch{return Wu}}function H1(t){var e=mOe(t.slice(5,-1));return e===Wu?"":e}var gOe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yOe=["dx","dy","angle","className","breakAll"];function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LT.apply(this,arguments)}function f$(t,e){if(t==null)return{};var n=vOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h$(t,e){return _Oe(t)||wOe(t,e)||bOe(t,e)||xOe()}function xOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bOe(t,e){if(t){if(typeof t=="string")return p$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p$(t,e)}}function p$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _Oe(t){if(Array.isArray(t))return t}var P7=/[ \f\n\r\t\v\u2028\u2029]+/,j7=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Me(n)||(r?o=n.toString().split(""):o=n.toString().split(P7));var a=o.map(function(c){return{word:c,width:pp(c,i).width}}),s=r?0:pp("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},SOe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,c=e.style,u=e.breakAll,d=ce(a),f=s,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(B,V){var F=V.word,L=V.width,H=B[B.length-1];if(H&&(i==null||o||H.width+L+r<Number(i)))H.words.push(F),H.width+=L+r;else{var z={words:[F],width:L};B.push(z)}return B},[])},p=h(n),y=function(U){return U.reduce(function(B,V){return B.width>V.width?B:V})};if(!d)return p;for(var g="",v=function(U){var B=f.slice(0,U),V=j7({breakAll:u,style:c,children:B+g}).wordsWithComputedWidth,F=h(V),L=F.length>a||y(F).width>Number(i);return[L,F]},x=0,w=f.length-1,_=0,T;x<=w&&_<=f.length-1;){var E=Math.floor((x+w)/2),P=E-1,S=v(P),A=h$(S,2),C=A[0],I=A[1],N=v(E),k=h$(N,1),R=k[0];if(!C&&!R&&(x=E+1),C&&R&&(w=E-1),!C&&R){T=I;break}_++}return T||p},m$=function(e){var n=Me(e)?[]:e.toString().split(P7);return[{words:n}]},EOe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Pl.isSsr){var c,u,d=j7({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return m$(i);return SOe({breakAll:a,children:i,maxLines:s,style:o},c,u,n,r)}return m$(i)},g$="#808080",Xx=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,x=v===void 0?g$:v,w=f$(e,gOe),_=b.useMemo(function(){return EOe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),T=w.dx,E=w.dy,P=w.angle,S=w.className,A=w.breakAll,C=f$(w,yOe);if(!pn(r)||!pn(o))return null;var I=r+(ce(T)?T:0),N=o+(ce(E)?E:0),k;switch(g){case"start":k=H1("calc(".concat(u,")"));break;case"middle":k=H1("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:k=H1("calc(".concat(_.length-1," * -").concat(s,")"));break}var R=[];if(f){var $=_[0].width,U=w.width;R.push("scale(".concat((ce(U)?U/$:1)/$,")"))}return P&&R.push("rotate(".concat(P,", ").concat(I,", ").concat(N,")")),R.length&&(C.transform=R.join(" ")),D.createElement("text",LT({},De(C,!0),{x:I,y:N,className:We("recharts-text",S),textAnchor:p,fill:x.includes("url")?g$:x}),_.map(function(B,V){var F=B.words.join(A?"":" ");return D.createElement("tspan",{x:I,dy:V===0?k:s,key:"".concat(F,"-").concat(V)},F)}))};function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TOe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MN(t){let e,n,r;t.length!==2?(e=Gs,n=(s,c)=>Gs(t(s),c),r=(s,c)=>t(s)-c):(e=t===Gs||t===TOe?t:AOe,n=t,r=t);function i(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:a,right:o}}function AOe(){return 0}function C7(t){return t===null?NaN:+t}function*POe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const jOe=MN(Gs),jg=jOe.right;MN(C7).center;class y$ extends Map{constructor(e,n=IOe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(v$(this,e))}has(e){return super.has(v$(this,e))}set(e,n){return super.set(COe(this,e),n)}delete(e){return super.delete(NOe(this,e))}}function v$({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function COe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function NOe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function IOe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kOe(t=Gs){if(t===Gs)return N7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function N7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const OOe=Math.sqrt(50),ROe=Math.sqrt(10),MOe=Math.sqrt(2);function Qx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=OOe?10:o>=ROe?5:o>=MOe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=n&&n<2?Qx(t,e,n*2):[s,c,u]}function FT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Qx(e,t,n):Qx(t,e,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function VT(t,e,n){return e=+e,t=+t,n=+n,Qx(t,e,n)[2]}function BT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?VT(e,t,n):VT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function x$(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function b$(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function I7(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?N7:kOe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(r,Math.floor(e+(c-u)*f/c+h));I7(t,e,p,y,i)}const o=t[e];let a=n,s=r;for(Eh(t,n,e),i(t[r],o)>0&&Eh(t,n,r);a<s;){for(Eh(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Eh(t,n,s):(++s,Eh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Eh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function DOe(t,e,n){if(t=Float64Array.from(POe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return b$(t);if(e>=1)return x$(t);var r,i=(r-1)*e,o=Math.floor(i),a=x$(I7(t,o).subarray(0,o+1)),s=b$(t.subarray(o+1));return a+(s-a)*(i-o)}}function $Oe(t,e,n=C7){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function LOe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ka(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const UT=Symbol("implicit");function DN(){var t=new y$,e=[],n=[],r=UT;function i(o){let a=t.get(o);if(a===void 0){if(r!==UT)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new y$;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return DN(e,n).unknown(r)},Pi.apply(i,arguments),i}function vm(){var t=DN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,g=p?r:i;o=(g-y)/Math.max(1,h-c+u*2),s&&(o=Math.floor(o)),y+=(g-y-o*(h-c))*d,a=o*(1-c),s&&(y=Math.round(y),a=Math.round(a));var v=LOe(h).map(function(x){return y+o*x});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return vm(e(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},Pi.apply(f(),arguments)}function k7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return k7(e())},t}function mp(){return k7(vm.apply(null,arguments).paddingInner(1))}function $N(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function O7(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Cg(){}var xm=.7,Jx=1/xm,sd="\\s*([+-]?\\d+)\\s*",bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FOe=/^#([0-9a-f]{3,8})$/,VOe=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),BOe=new RegExp(`^rgb\\(${Oo},${Oo},${Oo}\\)$`),UOe=new RegExp(`^rgba\\(${sd},${sd},${sd},${bm}\\)$`),zOe=new RegExp(`^rgba\\(${Oo},${Oo},${Oo},${bm}\\)$`),WOe=new RegExp(`^hsl\\(${bm},${Oo},${Oo}\\)$`),HOe=new RegExp(`^hsla\\(${bm},${Oo},${Oo},${bm}\\)$`),w$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$N(Cg,wm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_$,formatHex:_$,formatHex8:qOe,formatHsl:KOe,formatRgb:S$,toString:S$});function _$(){return this.rgb().formatHex()}function qOe(){return this.rgb().formatHex8()}function KOe(){return R7(this).formatHsl()}function S$(){return this.rgb().formatRgb()}function wm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=FOe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?E$(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=VOe.exec(t))?new Cr(e[1],e[2],e[3],1):(e=BOe.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UOe.exec(t))?Fy(e[1],e[2],e[3],e[4]):(e=zOe.exec(t))?Fy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=WOe.exec(t))?P$(e[1],e[2]/100,e[3]/100,1):(e=HOe.exec(t))?P$(e[1],e[2]/100,e[3]/100,e[4]):w$.hasOwnProperty(t)?E$(w$[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function E$(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function Fy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function GOe(t){return t instanceof Cg||(t=wm(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function zT(t,e,n,r){return arguments.length===1?GOe(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$N(Cr,zT,O7(Cg,{brighter(t){return t=t==null?Jx:Math.pow(Jx,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xm:Math.pow(xm,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(bc(this.r),bc(this.g),bc(this.b),Zx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T$,formatHex:T$,formatHex8:YOe,formatRgb:A$,toString:A$}));function T$(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function YOe(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function A$(){const t=Zx(this.opacity);return`${t===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${t===1?")":`, ${t})`}`}function Zx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rc(t){return t=bc(t),(t<16?"0":"")+t.toString(16)}function P$(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zi(t,e,n,r)}function R7(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof Cg||(t=wm(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new zi(a,s,c,t.opacity)}function XOe(t,e,n,r){return arguments.length===1?R7(t):new zi(t,e,n,r??1)}function zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$N(zi,XOe,O7(Cg,{brighter(t){return t=t==null?Jx:Math.pow(Jx,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xm:Math.pow(xm,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(q1(t>=240?t-240:t+120,i,r),q1(t,i,r),q1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zi(j$(this.h),Vy(this.s),Vy(this.l),Zx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zx(this.opacity);return`${t===1?"hsl(":"hsla("}${j$(this.h)}, ${Vy(this.s)*100}%, ${Vy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function j$(t){return t=(t||0)%360,t<0?t+360:t}function Vy(t){return Math.max(0,Math.min(1,t||0))}function q1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LN=t=>()=>t;function QOe(t,e){return function(n){return t+n*e}}function JOe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ZOe(t){return(t=+t)==1?M7:function(e,n){return n-e?JOe(e,n,t):LN(isNaN(e)?n:e)}}function M7(t,e){var n=e-t;return n?QOe(t,n):LN(isNaN(t)?e:t)}const C$=function t(e){var n=ZOe(e);function r(i,o){var a=n((i=zT(i)).r,(o=zT(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=M7(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function eRe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function tRe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nRe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=zf(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function rRe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function eb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iRe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=zf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var WT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K1=new RegExp(WT.source,"g");function oRe(t){return function(){return t}}function aRe(t){return function(e){return t(e)+""}}function sRe(t,e){var n=WT.lastIndex=K1.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(t=t+"",e=e+"";(r=WT.exec(t))&&(i=K1.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:eb(r,i)})),n=K1.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?aRe(c[0].x):oRe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function zf(t,e){var n=typeof e,r;return e==null||n==="boolean"?LN(e):(n==="number"?eb:n==="string"?(r=wm(e))?(e=r,C$):sRe:e instanceof wm?C$:e instanceof Date?rRe:tRe(e)?eRe:Array.isArray(e)?nRe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iRe:eb)(t,e)}function FN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lRe(t,e){e===void 0&&(e=t,t=zf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function cRe(t){return function(){return t}}function tb(t){return+t}var N$=[0,1];function dr(t){return t}function HT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cRe(isNaN(e)?NaN:.5)}function uRe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dRe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=HT(i,r),o=n(a,o)):(r=HT(r,i),o=n(o,a)),function(s){return o(r(s))}}function fRe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=HT(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var c=jg(t,s,1,r)-1;return o[c](i[c](s))}}function Ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function L0(){var t=N$,e=N$,n=zf,r,i,o,a=dr,s,c,u;function d(){var h=Math.min(t.length,e.length);return a!==dr&&(a=uRe(t[0],t[h-1])),s=h>2?fRe:dRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(c||(c=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),eb)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,tb),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=FN,d()},f.clamp=function(h){return arguments.length?(a=h?!0:dr,d()):a!==dr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,d()}}function VN(){return L0()(dr,dr)}function hRe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function nb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wd(t){return t=nb(Math.abs(t)),t?t[1]:NaN}function pRe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function mRe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _m(t){if(!(e=gRe.exec(t)))throw new Error("invalid format: "+t);var e;return new BN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_m.prototype=BN.prototype;function BN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}BN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yRe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var D7;function vRe(t,e){var n=nb(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(D7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+nb(t,Math.max(0,e+o-1))[0]}function I$(t,e){var n=nb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const k$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hRe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>I$(t*100,e),r:I$,s:vRe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function O$(t){return t}var R$=Array.prototype.map,M$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xRe(t){var e=t.grouping===void 0||t.thousands===void 0?O$:pRe(R$.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?O$:mRe(R$.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=_m(f);var h=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,x=f.width,w=f.comma,_=f.precision,T=f.trim,E=f.type;E==="n"?(w=!0,E="g"):k$[E]||(_===void 0&&(_=12),T=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=g==="$"?r:/[%p]/.test(E)?a:"",A=k$[E],C=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(N){var k=P,R=S,$,U,B;if(E==="c")R=A(N)+R,N="";else{N=+N;var V=N<0||1/N<0;if(N=isNaN(N)?c:A(Math.abs(N),_),T&&(N=yRe(N)),V&&+N==0&&y!=="+"&&(V=!1),k=(V?y==="("?y:s:y==="-"||y==="("?"":y)+k,R=(E==="s"?M$[8+D7/3]:"")+R+(V&&y==="("?")":""),C){for($=-1,U=N.length;++$<U;)if(B=N.charCodeAt($),48>B||B>57){R=(B===46?i+N.slice($+1):N.slice($))+R,N=N.slice(0,$);break}}}w&&!v&&(N=e(N,1/0));var F=k.length+N.length+R.length,L=F<x?new Array(x-F+1).join(h):"";switch(w&&v&&(N=e(L+N,L.length?x-R.length:1/0),L=""),p){case"<":N=k+N+R+L;break;case"=":N=k+L+N+R;break;case"^":N=L.slice(0,F=L.length>>1)+k+N+R+L.slice(F);break;default:N=L+k+N+R;break}return o(N)}return I.toString=function(){return f+""},I}function d(f,h){var p=u((f=_m(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Wd(h)/3)))*3,g=Math.pow(10,-y),v=M$[8+y/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var By,UN,$7;bRe({thousands:",",grouping:[3],currency:["$",""]});function bRe(t){return By=xRe(t),UN=By.format,$7=By.formatPrefix,By}function wRe(t){return Math.max(0,-Wd(Math.abs(t)))}function _Re(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wd(e)/3)))*3-Wd(Math.abs(t)))}function SRe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wd(e)-Wd(t))+1}function L7(t,e,n,r){var i=BT(t,e,n),o;switch(r=_m(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=_Re(i,a))&&(r.precision=o),$7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=SRe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=wRe(i))&&(r.precision=o-(r.type==="%")*2);break}}return UN(r)}function jl(t){var e=t.domain;return t.ticks=function(n){var r=e();return FT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return L7(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],c,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=VT(a,s,n),u===c)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function rb(){var t=VN();return t.copy=function(){return Ng(t,rb())},Pi.apply(t,arguments),jl(t)}function F7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,tb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return F7(t).unknown(e)},t=arguments.length?Array.from(t,tb):[0,1],jl(n)}function V7(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function D$(t){return Math.log(t)}function $$(t){return Math.exp(t)}function ERe(t){return-Math.log(-t)}function TRe(t){return-Math.exp(-t)}function ARe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function PRe(t){return t===10?ARe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jRe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function L$(t){return(e,n)=>-t(-e,n)}function zN(t){const e=t(D$,$$),n=e.domain;let r=10,i,o;function a(){return i=jRe(r),o=PRe(r),n()[0]<0?(i=L$(i),o=L$(o),t(ERe,TRe)):t(D$,$$),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),y,g;const v=s==null?10:+s;let x=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=FT(u,d,v))}else x=FT(h,p,Math.min(p-h,v)).map(o);return f?x.reverse():x},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=_m(c)).precision==null&&(c.trim=!0),c=UN(c)),s===1/0)return c;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(V7(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function B7(){const t=zN(L0()).domain([1,10]);return t.copy=()=>Ng(t,B7()).base(t.base()),Pi.apply(t,arguments),t}function F$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function V$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WN(t){var e=1,n=t(F$(e),V$(e));return n.constant=function(r){return arguments.length?t(F$(e=+r),V$(e)):e},jl(n)}function U7(){var t=WN(L0());return t.copy=function(){return Ng(t,U7()).constant(t.constant())},Pi.apply(t,arguments)}function B$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function CRe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NRe(t){return t<0?-t*t:t*t}function HN(t){var e=t(dr,dr),n=1;function r(){return n===1?t(dr,dr):n===.5?t(CRe,NRe):t(B$(n),B$(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},jl(e)}function qN(){var t=HN(L0());return t.copy=function(){return Ng(t,qN()).exponent(t.exponent())},Pi.apply(t,arguments),t}function IRe(){return qN.apply(null,arguments).exponent(.5)}function U$(t){return Math.sign(t)*t*t}function kRe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function z7(){var t=VN(),e=[0,1],n=!1,r;function i(o){var a=kRe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(U$(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,tb)).map(U$)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return z7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pi.apply(i,arguments),jl(i)}function W7(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=$Oe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[jg(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Gs),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return W7().domain(t).range(e).unknown(r)},Pi.apply(o,arguments)}function H7(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[jg(r,c,0,n)]:o}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return H7().domain([t,e]).range(i).unknown(o)},Pi.apply(jl(a),arguments)}function q7(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[jg(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return q7().domain(t).range(e).unknown(n)},Pi.apply(i,arguments)}const G1=new Date,Y1=new Date;function vn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let u;do c.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return c},i.filter=o=>vn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(G1.setTime(+o),Y1.setTime(+a),t(G1),t(Y1),Math.floor(n(G1,Y1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ib=vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ib.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ib);ib.range;const da=1e3,mi=da*60,fa=mi*60,Oa=fa*24,KN=Oa*7,z$=Oa*30,X1=Oa*365,ic=vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getUTCSeconds());ic.range;const GN=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*da)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getMinutes());GN.range;const YN=vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mi)},(t,e)=>(e-t)/mi,t=>t.getUTCMinutes());YN.range;const XN=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*da-t.getMinutes()*mi)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getHours());XN.range;const QN=vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCHours());QN.range;const Ig=vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mi)/Oa,t=>t.getDate()-1);Ig.range;const F0=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oa,t=>t.getUTCDate()-1);F0.range;const K7=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oa,t=>Math.floor(t/Oa));K7.range;function au(t){return vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*mi)/KN)}const V0=au(0),ob=au(1),ORe=au(2),RRe=au(3),Hd=au(4),MRe=au(5),DRe=au(6);V0.range;ob.range;ORe.range;RRe.range;Hd.range;MRe.range;DRe.range;function su(t){return vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/KN)}const B0=su(0),ab=su(1),$Re=su(2),LRe=su(3),qd=su(4),FRe=su(5),VRe=su(6);B0.range;ab.range;$Re.range;LRe.range;qd.range;FRe.range;VRe.range;const JN=vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());JN.range;const ZN=vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZN.range;const Ra=vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ra.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ra.range;const Ma=vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ma.range;function G7(t,e,n,r,i,o){const a=[[ic,1,da],[ic,5,5*da],[ic,15,15*da],[ic,30,30*da],[o,1,mi],[o,5,5*mi],[o,15,15*mi],[o,30,30*mi],[i,1,fa],[i,3,3*fa],[i,6,6*fa],[i,12,12*fa],[r,1,Oa],[r,2,2*Oa],[n,1,KN],[e,1,z$],[e,3,3*z$],[t,1,X1]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=MN(([,,v])=>v).right(a,h);if(p===a.length)return t.every(BT(u/X1,d/X1,f));if(p===0)return ib.every(Math.max(BT(u,d,f),1));const[y,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return y.every(g)}return[s,c]}const[BRe,URe]=G7(Ma,ZN,B0,K7,QN,YN),[zRe,WRe]=G7(Ra,JN,V0,Ig,XN,GN);function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Th(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function HRe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,u=Ah(i),d=Ph(i),f=Ah(o),h=Ph(o),p=Ah(a),y=Ph(a),g=Ah(s),v=Ph(s),x=Ah(c),w=Ph(c),_={a:V,A:F,b:L,B:H,c:null,d:Y$,e:Y$,f:p2e,g:E2e,G:A2e,H:d2e,I:f2e,j:h2e,L:Y7,m:m2e,M:g2e,p:z,q:W,Q:J$,s:Z$,S:y2e,u:v2e,U:x2e,V:b2e,w:w2e,W:_2e,x:null,X:null,y:S2e,Y:T2e,Z:P2e,"%":Q$},T={a:K,A:re,b:de,B:be,c:null,d:X$,e:X$,f:I2e,g:B2e,G:z2e,H:j2e,I:C2e,j:N2e,L:Q7,m:k2e,M:O2e,p:oe,q:Pe,Q:J$,s:Z$,S:R2e,u:M2e,U:D2e,V:$2e,w:L2e,W:F2e,x:null,X:null,y:V2e,Y:U2e,Z:W2e,"%":Q$},E={a:I,A:N,b:k,B:R,c:$,d:K$,e:K$,f:s2e,g:q$,G:H$,H:G$,I:G$,j:r2e,L:a2e,m:n2e,M:i2e,p:C,q:t2e,Q:c2e,s:u2e,S:o2e,u:XRe,U:QRe,V:JRe,w:YRe,W:ZRe,x:U,X:B,y:q$,Y:H$,Z:e2e,"%":l2e};_.x=P(n,_),_.X=P(r,_),_.c=P(e,_),T.x=P(n,T),T.X=P(r,T),T.c=P(e,T);function P(ie,ae){return function(ue){var G=[],je=-1,Ae=0,ot=ie.length,at,kt,Ln;for(ue instanceof Date||(ue=new Date(+ue));++je<ot;)ie.charCodeAt(je)===37&&(G.push(ie.slice(Ae,je)),(kt=W$[at=ie.charAt(++je)])!=null?at=ie.charAt(++je):kt=at==="e"?" ":"0",(Ln=ae[at])&&(at=Ln(ue,kt)),G.push(at),Ae=je+1);return G.push(ie.slice(Ae,je)),G.join("")}}function S(ie,ae){return function(ue){var G=Th(1900,void 0,1),je=A(G,ie,ue+="",0),Ae,ot;if(je!=ue.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ae&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ae=J1(Th(G.y,0,1)),ot=Ae.getUTCDay(),Ae=ot>4||ot===0?ab.ceil(Ae):ab(Ae),Ae=F0.offset(Ae,(G.V-1)*7),G.y=Ae.getUTCFullYear(),G.m=Ae.getUTCMonth(),G.d=Ae.getUTCDate()+(G.w+6)%7):(Ae=Q1(Th(G.y,0,1)),ot=Ae.getDay(),Ae=ot>4||ot===0?ob.ceil(Ae):ob(Ae),Ae=Ig.offset(Ae,(G.V-1)*7),G.y=Ae.getFullYear(),G.m=Ae.getMonth(),G.d=Ae.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),ot="Z"in G?J1(Th(G.y,0,1)).getUTCDay():Q1(Th(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(ot+5)%7:G.w+G.U*7-(ot+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,J1(G)):Q1(G)}}function A(ie,ae,ue,G){for(var je=0,Ae=ae.length,ot=ue.length,at,kt;je<Ae;){if(G>=ot)return-1;if(at=ae.charCodeAt(je++),at===37){if(at=ae.charAt(je++),kt=E[at in W$?ae.charAt(je++):at],!kt||(G=kt(ie,ue,G))<0)return-1}else if(at!=ue.charCodeAt(G++))return-1}return G}function C(ie,ae,ue){var G=u.exec(ae.slice(ue));return G?(ie.p=d.get(G[0].toLowerCase()),ue+G[0].length):-1}function I(ie,ae,ue){var G=p.exec(ae.slice(ue));return G?(ie.w=y.get(G[0].toLowerCase()),ue+G[0].length):-1}function N(ie,ae,ue){var G=f.exec(ae.slice(ue));return G?(ie.w=h.get(G[0].toLowerCase()),ue+G[0].length):-1}function k(ie,ae,ue){var G=x.exec(ae.slice(ue));return G?(ie.m=w.get(G[0].toLowerCase()),ue+G[0].length):-1}function R(ie,ae,ue){var G=g.exec(ae.slice(ue));return G?(ie.m=v.get(G[0].toLowerCase()),ue+G[0].length):-1}function $(ie,ae,ue){return A(ie,e,ae,ue)}function U(ie,ae,ue){return A(ie,n,ae,ue)}function B(ie,ae,ue){return A(ie,r,ae,ue)}function V(ie){return a[ie.getDay()]}function F(ie){return o[ie.getDay()]}function L(ie){return c[ie.getMonth()]}function H(ie){return s[ie.getMonth()]}function z(ie){return i[+(ie.getHours()>=12)]}function W(ie){return 1+~~(ie.getMonth()/3)}function K(ie){return a[ie.getUTCDay()]}function re(ie){return o[ie.getUTCDay()]}function de(ie){return c[ie.getUTCMonth()]}function be(ie){return s[ie.getUTCMonth()]}function oe(ie){return i[+(ie.getUTCHours()>=12)]}function Pe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ae=P(ie+="",_);return ae.toString=function(){return ie},ae},parse:function(ie){var ae=S(ie+="",!1);return ae.toString=function(){return ie},ae},utcFormat:function(ie){var ae=P(ie+="",T);return ae.toString=function(){return ie},ae},utcParse:function(ie){var ae=S(ie+="",!0);return ae.toString=function(){return ie},ae}}}var W$={"-":"",_:" ",0:"0"},En=/^\s*\d+/,qRe=/^%/,KRe=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function GRe(t){return t.replace(KRe,"\\$&")}function Ah(t){return new RegExp("^(?:"+t.map(GRe).join("|")+")","i")}function Ph(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function YRe(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XRe(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QRe(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function JRe(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ZRe(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function H$(t,e,n){var r=En.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function q$(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function e2e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function t2e(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function n2e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function K$(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function r2e(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function G$(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function i2e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function o2e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function a2e(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function s2e(t,e,n){var r=En.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function l2e(t,e,n){var r=qRe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function c2e(t,e,n){var r=En.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function u2e(t,e,n){var r=En.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Y$(t,e){return it(t.getDate(),e,2)}function d2e(t,e){return it(t.getHours(),e,2)}function f2e(t,e){return it(t.getHours()%12||12,e,2)}function h2e(t,e){return it(1+Ig.count(Ra(t),t),e,3)}function Y7(t,e){return it(t.getMilliseconds(),e,3)}function p2e(t,e){return Y7(t,e)+"000"}function m2e(t,e){return it(t.getMonth()+1,e,2)}function g2e(t,e){return it(t.getMinutes(),e,2)}function y2e(t,e){return it(t.getSeconds(),e,2)}function v2e(t){var e=t.getDay();return e===0?7:e}function x2e(t,e){return it(V0.count(Ra(t)-1,t),e,2)}function X7(t){var e=t.getDay();return e>=4||e===0?Hd(t):Hd.ceil(t)}function b2e(t,e){return t=X7(t),it(Hd.count(Ra(t),t)+(Ra(t).getDay()===4),e,2)}function w2e(t){return t.getDay()}function _2e(t,e){return it(ob.count(Ra(t)-1,t),e,2)}function S2e(t,e){return it(t.getFullYear()%100,e,2)}function E2e(t,e){return t=X7(t),it(t.getFullYear()%100,e,2)}function T2e(t,e){return it(t.getFullYear()%1e4,e,4)}function A2e(t,e){var n=t.getDay();return t=n>=4||n===0?Hd(t):Hd.ceil(t),it(t.getFullYear()%1e4,e,4)}function P2e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function X$(t,e){return it(t.getUTCDate(),e,2)}function j2e(t,e){return it(t.getUTCHours(),e,2)}function C2e(t,e){return it(t.getUTCHours()%12||12,e,2)}function N2e(t,e){return it(1+F0.count(Ma(t),t),e,3)}function Q7(t,e){return it(t.getUTCMilliseconds(),e,3)}function I2e(t,e){return Q7(t,e)+"000"}function k2e(t,e){return it(t.getUTCMonth()+1,e,2)}function O2e(t,e){return it(t.getUTCMinutes(),e,2)}function R2e(t,e){return it(t.getUTCSeconds(),e,2)}function M2e(t){var e=t.getUTCDay();return e===0?7:e}function D2e(t,e){return it(B0.count(Ma(t)-1,t),e,2)}function J7(t){var e=t.getUTCDay();return e>=4||e===0?qd(t):qd.ceil(t)}function $2e(t,e){return t=J7(t),it(qd.count(Ma(t),t)+(Ma(t).getUTCDay()===4),e,2)}function L2e(t){return t.getUTCDay()}function F2e(t,e){return it(ab.count(Ma(t)-1,t),e,2)}function V2e(t,e){return it(t.getUTCFullYear()%100,e,2)}function B2e(t,e){return t=J7(t),it(t.getUTCFullYear()%100,e,2)}function U2e(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function z2e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qd(t):qd.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function W2e(){return"+0000"}function Q$(){return"%"}function J$(t){return+t}function Z$(t){return Math.floor(+t/1e3)}var Su,Z7,eq;H2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H2e(t){return Su=HRe(t),Z7=Su.format,Su.parse,eq=Su.utcFormat,Su.utcParse,Su}function q2e(t){return new Date(t)}function K2e(t){return t instanceof Date?+t:+new Date(+t)}function eI(t,e,n,r,i,o,a,s,c,u){var d=VN(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),T=u("%Y");function E(P){return(c(P)<P?p:s(P)<P?y:a(P)<P?g:o(P)<P?v:r(P)<P?i(P)<P?x:w:n(P)<P?_:T)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,K2e)):h().map(q2e)},d.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},d.tickFormat=function(P,S){return S==null?E:u(S)},d.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(V7(S,P)):d},d.copy=function(){return Ng(d,eI(t,e,n,r,i,o,a,s,c,u))},d}function G2e(){return Pi.apply(eI(zRe,WRe,Ra,JN,V0,Ig,XN,GN,ic,Z7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Y2e(){return Pi.apply(eI(BRe,URe,Ma,ZN,B0,F0,QN,YN,ic,eq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U0(){var t=0,e=1,n,r,i,o,a=dr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,a=f(p,y),u):[a(0),a(1)]}}return u.range=d(zf),u.rangeRound=d(FN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tq(){var t=jl(U0()(dr));return t.copy=function(){return Cl(t,tq())},Ka.apply(t,arguments)}function nq(){var t=zN(U0()).domain([1,10]);return t.copy=function(){return Cl(t,nq()).base(t.base())},Ka.apply(t,arguments)}function rq(){var t=WN(U0());return t.copy=function(){return Cl(t,rq()).constant(t.constant())},Ka.apply(t,arguments)}function tI(){var t=HN(U0());return t.copy=function(){return Cl(t,tI()).exponent(t.exponent())},Ka.apply(t,arguments)}function X2e(){return tI.apply(null,arguments).exponent(.5)}function iq(){var t=[],e=dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((jg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>DOe(t,o/r))},n.copy=function(){return iq(e).domain(t)},Ka.apply(n,arguments)}function z0(){var t=0,e=.5,n=1,r=1,i,o,a,s,c,u=dr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?s:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var x,w,_;return arguments.length?([x,w,_]=v,u=lRe(g,[x,w,_]),p):[u(0),u(.5),u(1)]}}return p.range=y(zf),p.rangeRound=y(FN),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function oq(){var t=jl(z0()(dr));return t.copy=function(){return Cl(t,oq())},Ka.apply(t,arguments)}function aq(){var t=zN(z0()).domain([.1,1,10]);return t.copy=function(){return Cl(t,aq()).base(t.base())},Ka.apply(t,arguments)}function sq(){var t=WN(z0());return t.copy=function(){return Cl(t,sq()).constant(t.constant())},Ka.apply(t,arguments)}function nI(){var t=HN(z0());return t.copy=function(){return Cl(t,nI()).exponent(t.exponent())},Ka.apply(t,arguments)}function Q2e(){return nI.apply(null,arguments).exponent(.5)}const eL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vm,scaleDiverging:oq,scaleDivergingLog:aq,scaleDivergingPow:nI,scaleDivergingSqrt:Q2e,scaleDivergingSymlog:sq,scaleIdentity:F7,scaleImplicit:UT,scaleLinear:rb,scaleLog:B7,scaleOrdinal:DN,scalePoint:mp,scalePow:qN,scaleQuantile:W7,scaleQuantize:H7,scaleRadial:z7,scaleSequential:tq,scaleSequentialLog:nq,scaleSequentialPow:tI,scaleSequentialQuantile:iq,scaleSequentialSqrt:X2e,scaleSequentialSymlog:rq,scaleSqrt:IRe,scaleSymlog:U7,scaleThreshold:q7,scaleTime:G2e,scaleUtc:Y2e,tickFormat:L7},Symbol.toStringTag,{value:"Module"}));var J2e=Rf;function Z2e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!J2e(a):n(a,s)))var s=a,c=o}return c}var lq=Z2e;function eMe(t,e){return t>e}var tMe=eMe,nMe=lq,rMe=tMe,iMe=Uf;function oMe(t){return t&&t.length?nMe(t,iMe,rMe):void 0}var aMe=oMe;const ks=gt(aMe);function sMe(t,e){return t<e}var lMe=sMe,cMe=lq,uMe=lMe,dMe=Uf;function fMe(t){return t&&t.length?cMe(t,dMe,uMe):void 0}var hMe=fMe;const W0=gt(hMe);var pMe=gN,mMe=Al,gMe=y7,yMe=$r;function vMe(t,e){var n=yMe(t)?pMe:gMe;return n(t,mMe(e))}var xMe=vMe,bMe=m7,wMe=xMe;function _Me(t,e){return bMe(wMe(t,e),1)}var SMe=_Me;const EMe=gt(SMe);var TMe=NN;function AMe(t,e){return TMe(t,e)}var PMe=AMe;const Bc=gt(PMe);var Wf=1e9,jMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iI,Dt=!0,Si="[DecimalError] ",wc=Si+"Invalid argument: ",rI=Si+"Exponent out of range: ",Hf=Math.floor,Gl=Math.pow,CMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,wn=1e7,Pt=7,cq=9007199254740991,sb=Hf(cq/Pt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return ba(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return xt(ba(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return an(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hr))throw Error(Si+"NaN");if(n.s<1)throw Error(Si+(n.s?"NaN":"-Infinity"));return n.eq(Hr)?new r(0):(Dt=!1,e=ba(Sm(n,o),Sm(t,o),o),Dt=!0,xt(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fq(e,t):uq(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Si+"NaN");return n.s?(Dt=!1,e=ba(n,t,0,1).times(t),Dt=!0,n.minus(e)):xt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return dq(this)};xe.naturalLogarithm=xe.ln=function(){return Sm(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uq(e,t):fq(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wc+t);if(e=an(i)+1,r=i.d.length-1,n=r*Pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,o,a,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Si+"NaN")}for(t=an(s),Dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=wo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(ba(s,o,a+2)).times(.5),wo(o.d).slice(0,a)===(e=wo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(xt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Dt=!0,xt(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,o,a,s,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(o=h,h=p,p=o,a=c,c=u,u=a),o=[],a=c+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%wn|0,e=s/wn|0;o[i]=(o[i]+e)%wn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Dt?xt(t,f.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Lo(t,0,Wf),e===void 0?e=r.rounding:Lo(e,0,8),xt(n,t+an(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Uc(r,!0):(Lo(t,0,Wf),e===void 0?e=i.rounding:Lo(e,0,8),r=xt(new i(r),t+1,e),n=Uc(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Uc(i):(Lo(t,0,Wf),e===void 0?e=o.rounding:Lo(e,0,8),r=xt(new o(i),t+an(i)+1,e),n=Uc(r.abs(),!1,t+an(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return xt(new e(t),an(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,o,a,s=this,c=s.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Hr);if(s=new c(s),!s.s){if(t.s<1)throw Error(Si+"Infinity");return s}if(s.eq(Hr))return s;if(r=c.precision,t.eq(Hr))return xt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=cq){for(i=new c(Hr),e=Math.ceil(r/Pt+4),Dt=!1;n%2&&(i=i.times(s),nL(i.d,e)),n=Hf(n/2),n!==0;)s=s.times(s),nL(s.d,e);return Dt=!0,t.s<0?new c(Hr).div(i):xt(i,r)}}else if(o<0)throw Error(Si+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Dt=!1,i=t.times(Sm(s,r+u)),Dt=!0,i=dq(i),i.s=o,i};xe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=an(i),r=Uc(i,n<=o.toExpNeg||n>=o.toExpPos)):(Lo(t,1,Wf),e===void 0?e=o.rounding:Lo(e,0,8),i=xt(new o(i),t,e),n=an(i),r=Uc(i,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Lo(t,1,Wf),e===void 0?e=r.rounding:Lo(e,0,8)),xt(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),n=t.constructor;return Uc(t,e<=n.toExpNeg||e>=n.toExpPos)};function uq(t,e){var n,r,i,o,a,s,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dt?xt(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,s=u.length):(r=u,i=a,s=c.length),a=Math.ceil(f/Pt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=c.length,o=u.length,s-o<0&&(o=s,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/wn|0,c[o]%=wn;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,Dt?xt(e,f):e}function Lo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wc+t)}function wo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Pt-r.length,n&&(o+=hs(n)),o+=r;a=t[e],r=a+"",n=Pt-r.length,n&&(o+=hs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ba=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%wn|0,a=o/wn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,c;if(o!=a)c=o>a?1:-1;else for(s=c=0;s<o;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*wn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,c,u,d,f,h,p,y,g,v,x,w,_,T,E,P,S,A,C=r.constructor,I=r.s==i.s?1:-1,N=r.d,k=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Si+"Division by zero");for(c=r.e-i.e,S=k.length,E=N.length,p=new C(I),y=p.d=[],u=0;k[u]==(N[u]||0);)++u;if(k[u]>(N[u]||0)&&--c,o==null?w=o=C.precision:a?w=o+(an(r)-an(i))+1:w=o,w<0)return new C(0);if(w=w/Pt+2|0,u=0,S==1)for(d=0,k=k[0],w++;(u<E||d)&&w--;u++)_=d*wn+(N[u]||0),y[u]=_/k|0,d=_%k|0;else{for(d=wn/(k[0]+1)|0,d>1&&(k=t(k,d),N=t(N,d),S=k.length,E=N.length),T=S,g=N.slice(0,S),v=g.length;v<S;)g[v++]=0;A=k.slice(),A.unshift(0),P=k[0],k[1]>=wn/2&&++P;do d=0,s=e(k,g,S,v),s<0?(x=g[0],S!=v&&(x=x*wn+(g[1]||0)),d=x/P|0,d>1?(d>=wn&&(d=wn-1),f=t(k,d),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(d--,n(f,S<h?A:k,h))):(d==0&&(s=d=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=e(k,g,S,v),s<1&&(d++,n(g,S<v?A:k,v))),v=g.length):s===0&&(d++,g=[0]),y[u++]=d,s&&g[0]?g[v++]=N[T]||0:(g=[N[T]],v=1);while((T++<E||g[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,xt(p,a?o+an(p)+1:o)}}();function dq(t,e){var n,r,i,o,a,s,c=0,u=0,d=t.constructor,f=d.precision;if(an(t)>16)throw Error(rI+an(t));if(!t.s)return new d(Hr);for(Dt=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Gl(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(Hr),d.precision=s;;){if(i=xt(i.times(t),s),n=n.times(++c),a=o.plus(ba(i,n,s)),wo(a.d).slice(0,s)===wo(o.d).slice(0,s)){for(;u--;)o=xt(o.times(o),s);return d.precision=f,e==null?(Dt=!0,xt(o,f)):o}o=a}}function an(t){for(var e=t.e*Pt,n=t.d[0];n>=10;n/=10)e++;return e}function Z1(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(Si+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function hs(t){for(var e="";t--;)e+="0";return e}function Sm(t,e){var n,r,i,o,a,s,c,u,d,f=1,h=10,p=t,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Si+(p.s?"NaN":"-Infinity"));if(p.eq(Hr))return new g(0);if(e==null?(Dt=!1,u=v):u=e,p.eq(10))return e==null&&(Dt=!0),Z1(g,u);if(u+=h,g.precision=u,n=wo(y),r=n.charAt(0),o=an(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=wo(p.d),r=n.charAt(0),f++;o=an(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return c=Z1(g,u+2,v).times(o+""),p=Sm(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=v,e==null?(Dt=!0,xt(p,v)):p;for(s=a=p=ba(p.minus(Hr),p.plus(Hr),u),d=xt(p.times(p),u),i=3;;){if(a=xt(a.times(d),u),c=s.plus(ba(a,new g(i),u)),wo(c.d).slice(0,u)===wo(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Z1(g,u+2,v).times(o+""))),s=ba(s,new g(f),u),g.precision=v,e==null?(Dt=!0,xt(s,v)):s;s=c,i+=2}}function tL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Hf(n/Pt),t.d=[],r=(n+1)%Pt,n<0&&(r+=Pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Pt;r<i;)t.d.push(+e.slice(r,r+=Pt));e=e.slice(r),r=Pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>sb||t.e<-sb))throw Error(rI+n)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,n){var r,i,o,a,s,c,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Pt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Pt),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=Pt,i=r-Pt+a}if(n!==void 0&&(o=Gl(10,a-i-1),s=u/o%10|0,c=e<0||f[d+1]!==void 0||u%o,c=n<4?(s||c)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?u/Gl(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(o=an(t),f.length=1,e=e-o-1,f[0]=Gl(10,(Pt-e%Pt)%Pt),t.e=Hf(-e/Pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Gl(10,Pt-r),f[d]=i>0?(u/Gl(10,a-i)%Gl(10,i)|0)*o:0),c)for(;;)if(d==0){(f[0]+=o)==wn&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=wn)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Dt&&(t.e>sb||t.e<-sb))throw Error(rI+an(t));return t}function fq(t,e){var n,r,i,o,a,s,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Dt?xt(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,s=f.length):(n=f,r=u,s=c.length),i=Math.max(Math.ceil(p/Pt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(o=i;o&&c[--o]===0;)c[o]=wn-1;--c[o],c[i]+=wn}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Dt?xt(e,p):e):new h(0)}function Uc(t,e,n){var r,i=an(t),o=wo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+hs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+hs(-i-1)+o,n&&(r=n-a)>0&&(o+=hs(r))):i>=a?(o+=hs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+hs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=hs(r))),t.s<0?"-"+o:o}function nL(t,e){if(t.length>e)return t.length=e,!0}function hq(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wc+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return tL(a,o.toString())}else if(typeof o!="string")throw Error(wc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,CMe.test(o))tL(a,o);else throw Error(wc+o)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hq,i.config=i.set=NMe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function NMe(t){if(!t||typeof t!="object")throw Error(Si+"Object expected");var e,n,r,i=["precision",1,Wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Hf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wc+n+": "+r);return this}var iI=hq(jMe);Hr=new iI(1);const mt=iI;function IMe(t){return MMe(t)||RMe(t)||OMe(t)||kMe()}function kMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OMe(t,e){if(t){if(typeof t=="string")return qT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(t,e)}}function RMe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MMe(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DMe=function(e){return e},pq={},mq=function(e){return e===pq},rL=function(e){return function n(){return arguments.length===0||arguments.length===1&&mq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},$Me=function t(e,n){return e===1?n:rL(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==pq}).length;return a>=e?n.apply(void 0,i):t(e-a,rL(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=i.map(function(f){return mq(f)?c.shift():f});return n.apply(void 0,IMe(d).concat(c))}))})},H0=function(e){return $Me(e.length,e)},KT=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},LMe=H0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),FMe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return DMe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,c){return c(s)},o.apply(void 0,arguments))}},GT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gq=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,c){return s===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function VMe(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function BMe(t,e,n){for(var r=new mt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var UMe=H0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),zMe=H0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),WMe=H0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const q0={rangeStep:BMe,getDigitCount:VMe,interpolateNumber:UMe,uninterpolateNumber:zMe,uninterpolateTruncation:WMe};function YT(t){return KMe(t)||qMe(t)||yq(t)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function KMe(t){if(Array.isArray(t))return XT(t)}function Em(t,e){return XMe(t)||YMe(t,e)||yq(t,e)||GMe()}function GMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yq(t,e){if(t){if(typeof t=="string")return XT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(t,e)}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YMe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function XMe(t){if(Array.isArray(t))return t}function vq(t){var e=Em(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function xq(t,e,n){if(t.lte(0))return new mt(0);var r=q0.getDigitCount(t.toNumber()),i=new mt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new mt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=s.mul(i);return e?c:new mt(Math.ceil(c))}function QMe(t,e,n){var r=1,i=new mt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new mt(10).pow(q0.getDigitCount(t)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):n||(i=new mt(Math.floor(t)));var a=Math.floor((e-1)/2),s=FMe(LMe(function(c){return i.add(new mt(c-a).mul(r)).toNumber()}),KT);return s(0,e)}function bq(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=xq(new mt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new mt(0):(a=new mt(t).add(e).div(2),a=a.sub(new mt(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new mt(e).sub(a).div(o).toNumber()),u=s+c+1;return u>n?bq(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new mt(s).mul(o)),tickMax:a.add(new mt(c).mul(o))})}function JMe(t){var e=Em(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=vq([n,r]),c=Em(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(YT(KT(0,i-1).map(function(){return 1/0}))):[].concat(YT(KT(0,i-1).map(function(){return-1/0})),[d]);return n>r?GT(f):f}if(u===d)return QMe(u,i,o);var h=bq(u,d,a,o),p=h.step,y=h.tickMin,g=h.tickMax,v=q0.rangeStep(y,g.add(new mt(.1).mul(p)),p);return n>r?GT(v):v}function ZMe(t,e){var n=Em(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=vq([r,i]),s=Em(a,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=xq(new mt(u).sub(c).div(d-1),o,0),h=[].concat(YT(q0.rangeStep(new mt(c),new mt(u).sub(new mt(.99).mul(f)),f)),[u]);return r>i?GT(h):h}var eDe=gq(JMe),tDe=gq(ZMe),nDe="Invariant failed";function zc(t,e){throw new Error(nDe)}var rDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function iDe(t,e){return lDe(t)||sDe(t,e)||aDe(t,e)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aDe(t,e){if(t){if(typeof t=="string")return iL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(t,e)}}function iL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lDe(t){if(Array.isArray(t))return t}function cDe(t,e){if(t==null)return{};var n=uDe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sq(r.key),r)}}function hDe(t,e,n){return e&&fDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pDe(t,e,n){return e=cb(e),mDe(t,wq()?Reflect.construct(e,n||[],cb(t).constructor):e.apply(t,n))}function mDe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gDe(t)}function gDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!t})()}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(t)}function yDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}function QT(t,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QT(t,e)}function _q(t,e,n){return e=Sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sq(t){var e=vDe(t,"string");return Kd(e)=="symbol"?e:e+""}function vDe(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qf=function(t){function e(){return dDe(this,e),pDe(this,e,arguments)}return yDe(e,t),hDe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=cDe(r,rDe),p=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&zc();var y=c.map(function(g){var v=u(g,s),x=v.x,w=v.y,_=v.value,T=v.errorVal;if(!T)return null;var E=[],P,S;if(Array.isArray(T)){var A=iDe(T,2);P=A[0],S=A[1]}else P=S=T;if(o==="vertical"){var C=d.scale,I=w+i,N=I+a,k=I-a,R=C(_-P),$=C(_+S);E.push({x1:$,y1:N,x2:$,y2:k}),E.push({x1:R,y1:I,x2:$,y2:I}),E.push({x1:R,y1:N,x2:R,y2:k})}else if(o==="horizontal"){var U=f.scale,B=x+i,V=B-a,F=B+a,L=U(_-P),H=U(_+S);E.push({x1:V,y1:H,x2:F,y2:H}),E.push({x1:B,y1:L,x2:B,y2:H}),E.push({x1:V,y1:L,x2:F,y2:L})}return D.createElement(st,lb({className:"recharts-errorBar",key:"bar-".concat(E.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},p),E.map(function(z){return D.createElement("line",lb({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return D.createElement(st,{className:"recharts-errorBars"},y)}}])}(D.Component);_q(qf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_q(qf,"displayName","ErrorBar");function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){xDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xDe(t,e,n){return e=bDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bDe(t){var e=wDe(t,"string");return Tm(e)=="symbol"?e:e+""}function wDe(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eq=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ur(n,xc);if(!a)return null;var s=xc.defaultProps,c=s!==void 0?Bl(Bl({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Bl(Bl({},h),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:y,type:c.iconType||v||"square",color:oI(f),value:g||y,payload:p}}),Bl(Bl(Bl({},c),xc.getWithHeight(a,i)),{},{payload:u,item:a})};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function aL(t){return TDe(t)||EDe(t)||SDe(t)||_De()}function _De(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SDe(t,e){if(t){if(typeof t=="string")return JT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JT(t,e)}}function EDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TDe(t){if(Array.isArray(t))return JT(t)}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){ld(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ld(t,e,n){return e=ADe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ADe(t){var e=PDe(t,"string");return Am(e)=="symbol"?e:e+""}function PDe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,n){return Me(t)||Me(e)?n:pn(e)?xi(t,e,n):Le(e)?e(t):n}function gp(t,e,n,r){var i=EMe(t,function(s){return yn(s,e)});if(n==="number"){var o=i.filter(function(s){return ce(s)||parseFloat(s)});return o.length?[W0(o),ks(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Me(s)}):i;return a.map(function(s){return pn(s)||s instanceof Date?s:""})}var jDe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Hi(f-d)!==Hi(h-f)){var y=[];if(Hi(h-f)===Hi(c[1]-c[0])){p=h;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},oI=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:s;break;default:c=s;break}return c},CDe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),c=0,u=s.length;c<u;c++)for(var d=o[s[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,x=g.filter(function(S){return va(S.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?qt(qt({},w),x[0].props):x[0].props,T=_.barSize,E=_[v];a[E]||(a[E]=[]);var P=Me(T)?n:T;a[E].push({item:x[0],stackList:x.slice(1),barSize:Me(P)?void 0:Vc(P,r,0)})}}return a},NDe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,c=a.length;if(c<1)return null;var u=Vc(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/c,y=a.reduce(function(T,E){return T+E.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=c*p);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=a.reduce(function(T,E){var P={item:E.item,position:{offset:v.offset+v.size+u,size:h?p:E.barSize}},S=[].concat(aL(T),[P]);return v=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){S.push({item:A,position:v})}),S},f)}else{var x=Vc(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var w=(i-2*x-(c-1)*u)/c;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;d=a.reduce(function(T,E,P){var S=[].concat(aL(T),[{item:E.item,position:{offset:x+(w+u)*P+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},IDe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,c=a-(s.left||0)-(s.right||0),u=Eq({children:o,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&ce(e[p]))return qt(qt({},e),{},ld({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&ce(e[y]))return qt(qt({},e),{},ld({},y,e[y]+(h||0)))}return e},kDe=function(e,n,r){return Me(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Tq=function(e,n,r,i,o){var a=n.props.children,s=Rr(a,qf).filter(function(u){return kDe(i,o,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=yn(d,r);if(Me(f))return u;var h=Array.isArray(f)?[W0(f),ks(f)]:[f,f],p=c.reduce(function(y,g){var v=yn(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},ODe=function(e,n,r,i,o){var a=n.map(function(s){return Tq(e,s,r,o,i)}).filter(function(s){return!Me(s)});return a&&a.length?a.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},Aq=function(e,n,r,i,o){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Tq(e,c,u,i)||gp(e,u,r,o)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},Pq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jq=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,a,s=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(a=!0),c.coordinate});return o||s.push(n),a||s.push(r),s},ha=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Hi(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ff(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},eS=new WeakMap,Uy=function(e,n){if(typeof n!="function")return e;eS.has(e)||eS.set(e,new WeakMap);var r=eS.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},RDe=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:vm(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:rb(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:mp(),realScaleType:"point"}:o==="category"?{scale:vm(),realScaleType:"band"}:{scale:rb(),realScaleType:"linear"};if(Fc(i)){var c="scale".concat(C0(i));return{scale:(eL[c]||mp)(),realScaleType:eL[c]?c:"point"}}return Le(i)?{scale:i}:{scale:mp(),realScaleType:"point"}},lL=1e-4,MDe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-lL,a=Math.max(i[0],i[1])+lL,s=e(n[0]),c=e(n[r-1]);(s<o||s>a||c<o||c>a)&&e.domain([n[0],n[r-1]])}},DDe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},$De=function(e,n){if(!n||n.length!==2||!ce(n[0])||!ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ce(e[0])||e[0]<r)&&(o[0]=r),(!ce(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},LDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var c=Ff(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=o,e[s][r][1]=o+c,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+c,a=e[s][r][1])}},FDe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Ff(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},VDe={sign:LDe,expand:tEe,none:Fd,silhouette:nEe,wiggle:rEe,positive:FDe},BDe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=VDe[r],a=eEe().keys(i).value(function(s,c){return+yn(s,c,0)}).order(ST).offset(o);return a(e)},UDe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,c={},u=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?qt(qt({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var x=y[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(pn(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[ou("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return qt(qt({},f),{},ld({},x,w))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return qt(qt({},g),{},ld({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:BDe(e,x.items,o)}))},y)}return qt(qt({},f),{},ld({},h,p))},d)},zDe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=eDe(u,o,s);return e.domain([W0(d),ks(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=tDe(f,o,s);return{niceTicks:h}}return null};function Gd(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Me(i[e.dataKey])){var s=Mx(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=yn(i,Me(a)?e.dataKey:a);return Me(c)?null:e.scale(c)}var cL=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var c=yn(a,n.dataKey,n.domain[s]);return Me(c)?null:n.scale(c)-o/2+i},WDe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},HDe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(pn(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},qDe=function(e){return e.reduce(function(n,r){return[W0(r.concat([n[0]]).filter(ce)),ks(r.concat([n[1]]).filter(ce))]},[1/0,-1/0])},Cq=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,c=s.reduce(function(u,d){var f=qDe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZT=function(e,n,r){if(Le(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(uL.test(e[0])){var o=+uL.exec(e[0])[1];i[0]=n[0]-o}else Le(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(dL.test(e[1])){var a=+dL.exec(e[1])[1];i[1]=n[1]+a}else Le(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ub=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=kN(n,function(f){return f.coordinate}),a=1/0,s=1,c=o.length;s<c;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},fL=function(e,n,r){return!e||!e.length||Bc(e,xi(r,"type.defaultProps.domain"))?n:e},Nq=function(e,n){var r=e.type.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return qt(qt({},De(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:oI(e),value:yn(n,i),type:c,payload:n,chartType:u,hide:d})};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){KDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KDe(t,e,n){return e=GDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GDe(t){var e=YDe(t,"string");return Pm(e)=="symbol"?e:e+""}function YDe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var db=Math.PI/180,XDe=function(e){return e*180/Math.PI},kn=function(e,n,r,i){return{x:e+Math.cos(-db*i)*r,y:n+Math.sin(-db*i)*r}},QDe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},JDe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=QDe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var c=(r-o)/s,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:s,angle:XDe(u),angleInRadian:u}},ZDe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},e$e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},mL=function(e,n){var r=e.x,i=e.y,o=JDe({x:r,y:i},n),a=o.radius,s=o.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=ZDe(n),f=d.startAngle,h=d.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?pL(pL({},n),{},{radius:a,angle:e$e(p,n)}):null};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}var t$e=["offset"];function n$e(t){return a$e(t)||o$e(t)||i$e(t)||r$e()}function r$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$e(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function o$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a$e(t){if(Array.isArray(t))return eA(t)}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s$e(t,e){if(t==null)return{};var n=l$e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){c$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$e(t,e,n){return e=u$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$e(t){var e=d$e(t,"string");return jm(e)=="symbol"?e:e+""}function d$e(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}var f$e=function(e){var n=e.value,r=e.formatter,i=Me(e.children)?n:e.children;return Le(r)?r(i):i},h$e=function(e,n){var r=Hi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},p$e=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,c=o,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+h)/2,x=h$e(p,y),w=x>=0?1:-1,_,T;i==="insideStart"?(_=p+w*a,T=g):i==="insideEnd"?(_=y-w*a,T=!g):i==="end"&&(_=y+w*a,T=g),T=x<=0?T:!T;var E=kn(u,d,v,_),P=kn(u,d,v,_+(T?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(T?0:1,`,
    `).concat(P.x,",").concat(P.y),A=Me(e.id)?ou("recharts-radial-line-"):e.id;return D.createElement("text",Cm({},r,{dominantBaseline:"central",className:We("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:A,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(A)},n))},m$e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,c=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var p=kn(a,s,u+r,h),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=kn(a,s,v,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},g$e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return dn(dn({},_),r?{height:Math.max(c-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return dn(dn({},T),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(o==="left"){var E={x:s-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return dn(dn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(o==="right"){var P={x:s+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return dn(dn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return o==="insideLeft"?dn({x:s+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideRight"?dn({x:s+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):o==="insideTop"?dn({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},S):o==="insideBottom"?dn({x:s+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?dn({x:s+v,y:c+h,textAnchor:w,verticalAnchor:y},S):o==="insideTopRight"?dn({x:s+u-v,y:c+h,textAnchor:x,verticalAnchor:y},S):o==="insideBottomLeft"?dn({x:s+v,y:c+d-h,textAnchor:w,verticalAnchor:p},S):o==="insideBottomRight"?dn({x:s+u-v,y:c+d-h,textAnchor:x,verticalAnchor:p},S):Mf(o)&&(ce(o.x)||nc(o.x))&&(ce(o.y)||nc(o.y))?dn({x:s+Vc(o.x,u),y:c+Vc(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):dn({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},y$e=function(e){return"cx"in e&&ce(e.cx)};function Jn(t){var e=t.offset,n=e===void 0?5:e,r=s$e(t,t$e),i=dn({offset:n},r),o=i.viewBox,a=i.position,s=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Me(s)&&Me(c)&&!b.isValidElement(u)&&!Le(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var p;if(Le(u)){if(p=b.createElement(u,i),b.isValidElement(p))return p}else p=f$e(i);var y=y$e(o),g=De(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return p$e(i,p,g);var v=y?m$e(i):g$e(i);return D.createElement(Xx,Cm({className:We("recharts-label",f)},g,v,{breakAll:h}),p)}Jn.displayName="Label";var Iq=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,g=e.width,v=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(ce(g)&&ce(v)){if(ce(f)&&ce(h))return{x:f,y:h,width:g,height:v};if(ce(p)&&ce(y))return{x:p,y,width:g,height:v}}return ce(f)&&ce(h)?{x:f,y:h,width:0,height:0}:ce(n)&&ce(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},v$e=function(e,n){return e?e===!0?D.createElement(Jn,{key:"label-implicit",viewBox:n}):pn(e)?D.createElement(Jn,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===Jn?b.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(Jn,{key:"label-implicit",content:e,viewBox:n}):Le(e)?D.createElement(Jn,{key:"label-implicit",content:e,viewBox:n}):Mf(e)?D.createElement(Jn,Cm({viewBox:n},e,{key:"label-implicit"})):null:null},x$e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Iq(e),a=Rr(i,Jn).map(function(c,u){return b.cloneElement(c,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=v$e(e.label,n||o);return[s].concat(n$e(a))};Jn.parseViewBox=Iq;Jn.renderCallByParent=x$e;function b$e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var w$e=b$e;const _$e=gt(w$e);function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var S$e=["valueAccessor"],E$e=["data","dataKey","clockWise","id","textBreakAll"];function T$e(t){return C$e(t)||j$e(t)||P$e(t)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$e(t,e){if(t){if(typeof t=="string")return tA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(t,e)}}function j$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C$e(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){N$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N$e(t,e,n){return e=I$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$e(t){var e=k$e(t,"string");return Nm(e)=="symbol"?e:e+""}function k$e(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xL(t,e){if(t==null)return{};var n=O$e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var R$e=function(e){return Array.isArray(e.value)?_$e(e.value):e.value};function Ro(t){var e=t.valueAccessor,n=e===void 0?R$e:e,r=xL(t,S$e),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,c=r.textBreakAll,u=xL(r,E$e);return!i||!i.length?null:D.createElement(st,{className:"recharts-label-list"},i.map(function(d,f){var h=Me(o)?n(d,f):yn(d&&d.payload,o),p=Me(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Jn,fb({},De(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Jn.parseViewBox(Me(a)?d:vL(vL({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Ro.displayName="LabelList";function M$e(t,e){return t?t===!0?D.createElement(Ro,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Le(t)?D.createElement(Ro,{key:"labelList-implicit",data:e,content:t}):Mf(t)?D.createElement(Ro,fb({data:e},t,{key:"labelList-implicit"})):null:null}function D$e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Rr(r,Ro).map(function(a,s){return b.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=M$e(t.label,e);return[o].concat(T$e(i))}Ro.renderCallByParent=D$e;function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(this,arguments)}function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){$$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $$e(t,e,n){return e=L$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$e(t){var e=F$e(t,"string");return Im(e)=="symbol"?e:e+""}function F$e(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V$e=function(e,n){var r=Hi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},zy=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(s?1:-1)+i,f=Math.asin(c/d)/db,h=u?o:o+a*f,p=kn(n,r,d,h),y=kn(n,r,i,h),g=u?o-a*f:o,v=kn(n,r,d*Math.cos(f*db),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},kq=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,c=V$e(a,s),u=a+c,d=kn(n,r,o,a),f=kn(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=kn(n,r,i,a),y=kn(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},B$e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Hi(d-u),h=zy({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,g=h.theta,v=zy({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),x=v.circleTangency,w=v.lineTangency,_=v.theta,T=c?Math.abs(u-d):Math.abs(u-d)-g-_;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):kq({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var P=zy({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),S=P.circleTangency,A=P.lineTangency,C=P.theta,I=zy({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),N=I.circleTangency,k=I.lineTangency,R=I.theta,$=c?Math.abs(u-d):Math.abs(u-d)-C-R;if($<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},U$e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Oq=function(e){var n=wL(wL({},U$e),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var p=We("recharts-sector",h),y=a-o,g=Vc(s,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=B$e({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=kq({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),D.createElement("path",nA({},De(n,!0),{className:p,d:v,role:"img"}))};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(this,arguments)}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){z$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z$e(t,e,n){return e=W$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$e(t){var e=H$e(t,"string");return km(e)=="symbol"?e:e+""}function H$e(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EL={curveBasisClosed:zSe,curveBasisOpen:WSe,curveBasis:USe,curveBumpX:jSe,curveBumpY:CSe,curveLinearClosed:HSe,curveLinear:I0,curveMonotoneX:qSe,curveMonotoneY:KSe,curveNatural:GSe,curveStep:YSe,curveStepAfter:QSe,curveStepBefore:XSe},Wy=function(e){return e.x===+e.x&&e.y===+e.y},jh=function(e){return e.x},Ch=function(e){return e.y},q$e=function(e,n){if(Le(e))return e;var r="curve".concat(C0(e));return(r==="curveMonotone"||r==="curveBump")&&n?EL["".concat(r).concat(n==="vertical"?"Y":"X")]:EL[r]||I0},K$e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=q$e(r,s),f=u?o.filter(function(g){return Wy(g)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(g){return Wy(g)}):a,y=f.map(function(g,v){return SL(SL({},g),{},{base:p[v]})});return s==="vertical"?h=Ry().y(Ch).x1(jh).x0(function(g){return g.base.x}):h=Ry().x(jh).y1(Ch).y0(function(g){return g.base.y}),h.defined(Wy).curve(d),h(y)}return s==="vertical"&&ce(a)?h=Ry().y(Ch).x1(jh).x0(a):ce(a)?h=Ry().x(jh).y1(Ch).y0(a):h=RH().x(jh).y(Ch),h.defined(Wy).curve(d),h(f)},_c=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?K$e(e):i;return b.createElement("path",rA({},De(e,!1),Dx(e),{className:We("recharts-curve",n),d:a,ref:o}))},Rq={exports:{}},G$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Y$e=G$e,X$e=Y$e;function Mq(){}function Dq(){}Dq.resetWarningCache=Mq;var Q$e=function(){function t(r,i,o,a,s,c){if(c!==X$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Dq,resetWarningCache:Mq};return n.PropTypes=n,n};Rq.exports=Q$e();var J$e=Rq.exports;const lt=gt(J$e);var Z$e=Object.getOwnPropertyNames,eLe=Object.getOwnPropertySymbols,tLe=Object.prototype.hasOwnProperty;function TL(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Hy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function AL(t){return Z$e(t).concat(eLe(t))}var nLe=Object.hasOwn||function(t,e){return tLe.call(t,e)};function lu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var rLe="__v",iLe="__o",oLe="_owner",PL=Object.getOwnPropertyDescriptor,jL=Object.keys;function aLe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function sLe(t,e){return lu(t.getTime(),e.getTime())}function lLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function cLe(t,e){return t===e}function CL(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,c=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=a.value,p=s.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var uLe=lu;function dLe(t,e,n){var r=jL(t),i=r.length;if(jL(e).length!==i)return!1;for(;i-- >0;)if(!$q(t,e,n,r[i]))return!1;return!0}function Nh(t,e,n){var r=AL(t),i=r.length;if(AL(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!$q(t,e,n,o)||(a=PL(t,o),s=PL(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function fLe(t,e){return lu(t.valueOf(),e.valueOf())}function hLe(t,e){return t.source===e.source&&t.flags===e.flags}function NL(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function pLe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function mLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $q(t,e,n,r){return(r===oLe||r===iLe||r===rLe)&&(t.$$typeof||e.$$typeof)?!0:nLe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var gLe="[object Arguments]",yLe="[object Boolean]",vLe="[object Date]",xLe="[object Error]",bLe="[object Map]",wLe="[object Number]",_Le="[object Object]",SLe="[object RegExp]",ELe="[object Set]",TLe="[object String]",ALe="[object URL]",PLe=Array.isArray,IL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kL=Object.assign,jLe=Object.prototype.toString.call.bind(Object.prototype.toString);function CLe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var x=typeof y;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?a(y,g,v):x==="function"?i(y,g,v):!1;var w=y.constructor;if(w!==g.constructor)return!1;if(w===Object)return s(y,g,v);if(PLe(y))return e(y,g,v);if(IL!=null&&IL(y))return f(y,g,v);if(w===Date)return n(y,g,v);if(w===RegExp)return u(y,g,v);if(w===Map)return o(y,g,v);if(w===Set)return d(y,g,v);var _=jLe(y);return _===vLe?n(y,g,v):_===SLe?u(y,g,v):_===bLe?o(y,g,v):_===ELe?d(y,g,v):_===_Le?typeof y.then!="function"&&typeof g.then!="function"&&s(y,g,v):_===ALe?h(y,g,v):_===xLe?r(y,g,v):_===gLe?s(y,g,v):_===yLe||_===wLe||_===TLe?c(y,g,v):!1}}function NLe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Nh:aLe,areDatesEqual:sLe,areErrorsEqual:lLe,areFunctionsEqual:cLe,areMapsEqual:r?TL(CL,Nh):CL,areNumbersEqual:uLe,areObjectsEqual:r?Nh:dLe,arePrimitiveWrappersEqual:fLe,areRegExpsEqual:hLe,areSetsEqual:r?TL(NL,Nh):NL,areTypedArraysEqual:r?Nh:pLe,areUrlsEqual:mLe};if(n&&(i=kL({},i,n(i))),e){var o=Hy(i.areArraysEqual),a=Hy(i.areMapsEqual),s=Hy(i.areObjectsEqual),c=Hy(i.areSetsEqual);i=kL({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return i}function ILe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function kLe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,u){return n(c,u,a)}}var OLe=Nl();Nl({strict:!0});Nl({circular:!0});Nl({circular:!0,strict:!0});Nl({createInternalComparator:function(){return lu}});Nl({strict:!0,createInternalComparator:function(){return lu}});Nl({circular:!0,createInternalComparator:function(){return lu}});Nl({circular:!0,createInternalComparator:function(){return lu},strict:!0});function Nl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=NLe(t),c=CLe(s),u=r?r(c):ILe(c);return kLe({circular:n,comparator:c,createState:i,equals:u,strict:a})}function RLe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function OL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):RLe(i)};requestAnimationFrame(r)}function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}function MLe(t){return FLe(t)||LLe(t)||$Le(t)||DLe()}function DLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Le(t,e){if(t){if(typeof t=="string")return RL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RL(t,e)}}function RL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FLe(t){if(Array.isArray(t))return t}function VLe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=MLe(a),c=s[0],u=s.slice(1);if(typeof c=="number"){OL(i.bind(null,u),c);return}i(c),OL(i.bind(null,u));return}iA(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){Lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e,n){return e=BLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BLe(t){var e=ULe(t,"string");return Om(e)==="symbol"?e:String(e)}function ULe(t,e){if(Om(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zLe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},WLe=function(e){return e},HLe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},yp=function(e,n){return Object.keys(n).reduce(function(r,i){return DL(DL({},r),{},Lq({},i,e(i,n[i])))},{})},$L=function(e,n,r){return e.map(function(i){return"".concat(HLe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function qLe(t,e){return YLe(t)||GLe(t,e)||Fq(t,e)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function YLe(t){if(Array.isArray(t))return t}function XLe(t){return ZLe(t)||JLe(t)||Fq(t)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(t,e){if(t){if(typeof t=="string")return oA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,e)}}function JLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZLe(t){if(Array.isArray(t))return oA(t)}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hb=1e-4,Vq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Bq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},LL=function(e,n){return function(r){var i=Vq(e,n);return Bq(i,r)}},eFe=function(e,n){return function(r){var i=Vq(e,n),o=[].concat(XLe(i.map(function(a,s){return a*s}).slice(1)),[0]);return Bq(o,r)}},FL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=qLe(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=LL(i,a),h=LL(o,s),p=eFe(i,a),y=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,_=w,T=0;T<8;++T){var E=f(_)-w,P=p(_);if(Math.abs(E-w)<hb||P<hb)return h(_);_=y(_-E/P)}return h(_)};return g.isStepper=!1,g},tFe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,c=function(d,f,h){var p=-(d-f)*r,y=h*o,g=h+(p-y)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<hb&&Math.abs(g)<hb?[f,0]:[v,g]};return c.isStepper=!0,c.dt=s,c},nFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FL(i);case"spring":return tFe();default:if(i.split("(")[0]==="cubic-bezier")return FL(i)}return typeof i=="function"?i:null};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function VL(t){return oFe(t)||iFe(t)||Uq(t)||rFe()}function rFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oFe(t){if(Array.isArray(t))return sA(t)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aA(t,e,n){return e=aFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aFe(t){var e=sFe(t,"string");return Rm(e)==="symbol"?e:String(e)}function sFe(t,e){if(Rm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lFe(t,e){return dFe(t)||uFe(t,e)||Uq(t,e)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(t,e){if(t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dFe(t){if(Array.isArray(t))return t}var pb=function(e,n,r){return e+(n-e)*r},lA=function(e){var n=e.from,r=e.to;return n!==r},fFe=function t(e,n,r){var i=yp(function(o,a){if(lA(a)){var s=e(a.from,a.to,a.velocity),c=lFe(s,2),u=c[0],d=c[1];return jn(jn({},a),{},{from:u,velocity:d})}return a},n);return r<1?yp(function(o,a){return lA(a)?jn(jn({},a),{},{velocity:pb(a.velocity,i[o].velocity,r),from:pb(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const hFe=function(t,e,n,r,i){var o=zLe(t,e),a=o.reduce(function(v,x){return jn(jn({},v),{},aA({},x,[t[x],e[x]]))},{}),s=o.reduce(function(v,x){return jn(jn({},v),{},aA({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return yp(function(x,w){return w.from},s)},p=function(){return!Object.values(s).filter(lA).length},y=function(x){u||(u=x);var w=x-u,_=w/n.dt;s=fFe(n,s,_),i(jn(jn(jn({},t),e),h())),u=x,p()||(c=requestAnimationFrame(f))},g=function(x){d||(d=x);var w=(x-d)/r,_=yp(function(E,P){return pb.apply(void 0,VL(P).concat([n(w)]))},a);if(i(jn(jn(jn({},t),e),_)),w<1)c=requestAnimationFrame(f);else{var T=yp(function(E,P){return pb.apply(void 0,VL(P).concat([n(1)]))},a);i(jn(jn(jn({},t),e),T))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}var pFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mFe(t,e){if(t==null)return{};var n=gFe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gFe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tS(t){return bFe(t)||xFe(t)||vFe(t)||yFe()}function yFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vFe(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function xFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bFe(t){if(Array.isArray(t))return cA(t)}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){Hh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hh(t,e,n){return e=zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zq(r.key),r)}}function SFe(t,e,n){return e&&_Fe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zq(t){var e=EFe(t,"string");return Yd(e)==="symbol"?e:String(e)}function EFe(t,e){if(Yd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uA(t,e)}function AFe(t){var e=PFe();return function(){var r=mb(t),i;if(e){var o=mb(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dA(this,i)}}function dA(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fA(t)}function fA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(t)}var to=function(t){TFe(n,t);var e=AFe(n);function n(r,i){var o;wFe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(fA(o)),o.changeStyle=o.changeStyle.bind(fA(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),dA(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},dA(o);o.state={style:c?Hh({},c,u):u}}else o.state={style:{}};return o}return SFe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:c?Hh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(OLe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var v={style:c?Hh({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Oi(Oi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=hFe(a,s,nFe(u),c,this.changeStyle),y=function(){o.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var w=v.duration,_=v.easing,T=_===void 0?"ease":_,E=v.style,P=v.properties,S=v.onAnimationEnd,A=x>0?a[x-1]:v,C=P||Object.keys(E);if(typeof T=="function"||T==="spring")return[].concat(tS(g),[o.runJSAnimation.bind(o,{from:A.style,to:E,duration:w,easing:T}),w]);var I=$L(C,w,T),N=Oi(Oi(Oi({},A.style),E),{},{transition:I});return[].concat(tS(g),[N,w,S]).filter(WLe)};return this.manager.start([c].concat(tS(a.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=VLe());var o=i.begin,a=i.duration,s=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?Hh({},s,c):c,v=$L(Object.keys(g),a,u);y.start([d,o,Oi(Oi({},g),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=mFe(i,pFe),u=b.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,x=y.className,w=b.cloneElement(p,Oi(Oi({},c),{},{style:Oi(Oi({},v),d),className:x}));return w};return u===1?f(b.Children.only(o)):D.createElement("div",null,b.Children.map(o,function(h){return f(h)}))}}]),n}(b.PureComponent);to.displayName="Animate";to.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};to.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function jFe(t,e){return kFe(t)||IFe(t,e)||NFe(t,e)||CFe()}function CFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NFe(t,e){if(t){if(typeof t=="string")return zL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zL(t,e)}}function zL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kFe(t){if(Array.isArray(t))return t}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){OFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OFe(t,e,n){return e=RFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RFe(t){var e=MFe(t,"string");return Mm(e)=="symbol"?e:e+""}function MFe(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qL=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);d="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},DFe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,c=n.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+c),h=Math.max(a,a+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},$Fe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aI=function(e){var n=HL(HL({},$Fe),e),r=b.useRef(),i=b.useState(-1),o=jFe(i,2),a=o[0],s=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=We("recharts-rectangle",p);return w?D.createElement(to,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:w},function(T){var E=T.width,P=T.height,S=T.x,A=T.y;return D.createElement(to,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:y},D.createElement("path",gb({},De(n,!0),{className:_,d:qL(S,A,E,P,h),ref:r})))}):D.createElement("path",gb({},De(n,!0),{className:_,d:qL(c,u,d,f,h)}))};function hA(){return hA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hA.apply(this,arguments)}var K0=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=We("recharts-dot",o);return n===+n&&r===+r&&i===+i?b.createElement("circle",hA({},De(e,!1),Dx(e),{className:a,cx:n,cy:r,r:i})):null};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}var LFe=["x","y","top","left","width","height","className"];function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pA.apply(this,arguments)}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FFe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){VFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VFe(t,e,n){return e=BFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BFe(t){var e=UFe(t,"string");return Dm(e)=="symbol"?e:e+""}function UFe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zFe(t,e){if(t==null)return{};var n=WFe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HFe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},qFe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,y=e.className,g=zFe(e,LFe),v=FFe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!ce(r)||!ce(o)||!ce(f)||!ce(p)||!ce(s)||!ce(u)?null:D.createElement("path",pA({},De(v,!0),{className:We("recharts-cross",y),d:HFe(r,o,f,p,s,u)}))},KFe=i7,GFe=KFe(Object.getPrototypeOf,Object),YFe=GFe,XFe=Ha,QFe=YFe,JFe=qa,ZFe="[object Object]",e4e=Function.prototype,t4e=Object.prototype,Wq=e4e.toString,n4e=t4e.hasOwnProperty,r4e=Wq.call(Object);function i4e(t){if(!JFe(t)||XFe(t)!=ZFe)return!1;var e=QFe(t);if(e===null)return!0;var n=n4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Wq.call(n)==r4e}var o4e=i4e;const a4e=gt(o4e);var s4e=Ha,l4e=qa,c4e="[object Boolean]";function u4e(t){return t===!0||t===!1||l4e(t)&&s4e(t)==c4e}var d4e=u4e;const f4e=gt(d4e);function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yb.apply(this,arguments)}function h4e(t,e){return y4e(t)||g4e(t,e)||m4e(t,e)||p4e()}function p4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4e(t,e){if(t){if(typeof t=="string")return GL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GL(t,e)}}function GL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function y4e(t){if(Array.isArray(t))return t}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){v4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v4e(t,e,n){return e=x4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x4e(t){var e=b4e(t,"string");return $m(e)=="symbol"?e:e+""}function b4e(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},w4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_4e=function(e){var n=XL(XL({},w4e),e),r=b.useRef(),i=b.useState(-1),o=h4e(i,2),a=o[0],s=o[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=We("recharts-trapezoid",p);return x?D.createElement(to,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:x},function(_){var T=_.upperWidth,E=_.lowerWidth,P=_.height,S=_.x,A=_.y;return D.createElement(to,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},D.createElement("path",yb({},De(n,!0),{className:w,d:QL(S,A,T,E,P),ref:r})))}):D.createElement("g",null,D.createElement("path",yb({},De(n,!0),{className:w,d:QL(c,u,d,f,h)})))},S4e=["option","shapeType","propTransformer","activeClassName","isActive"];function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function E4e(t,e){if(t==null)return{};var n=T4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){A4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A4e(t,e,n){return e=P4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4e(t){var e=j4e(t,"string");return Lm(e)=="symbol"?e:e+""}function j4e(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C4e(t,e){return vb(vb({},e),t)}function N4e(t,e){return t==="symbols"}function ZL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(aI,n);case"trapezoid":return D.createElement(_4e,n);case"sector":return D.createElement(Oq,n);case"symbols":if(N4e(e))return D.createElement(O0,n);break;default:return null}}function I4e(t){return b.isValidElement(t)?t.props:t}function mA(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?C4e:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,c=E4e(t,S4e),u;if(b.isValidElement(e))u=b.cloneElement(e,vb(vb({},c),I4e(e)));else if(Le(e))u=e(c);else if(a4e(e)&&!f4e(e)){var d=i(e,c);u=D.createElement(ZL,{shapeType:n,elementProps:d})}else{var f=c;u=D.createElement(ZL,{shapeType:n,elementProps:f})}return s?D.createElement(st,{className:a},u):u}function G0(t,e){return e!=null&&"trapezoids"in t.props}function Y0(t,e){return e!=null&&"sectors"in t.props}function Fm(t,e){return e!=null&&"points"in t.props}function k4e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function O4e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function R4e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function M4e(t,e){var n;return G0(t,e)?n=k4e:Y0(t,e)?n=O4e:Fm(t,e)&&(n=R4e),n}function D4e(t,e){var n;return G0(t,e)?n="trapezoids":Y0(t,e)?n="sectors":Fm(t,e)&&(n="points"),n}function $4e(t,e){if(G0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Y0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fm(t,e)?e.payload:{}}function L4e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=D4e(n,e),o=$4e(n,e),a=r.filter(function(c,u){var d=Bc(o,c),f=n.props[i].filter(function(y){var g=M4e(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=r.indexOf(a[a.length-1]);return s}var F4e=Math.ceil,V4e=Math.max;function B4e(t,e,n,r){for(var i=-1,o=V4e(F4e((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var U4e=B4e,z4e=S7,eF=1/0,W4e=17976931348623157e292;function H4e(t){if(!t)return t===0?t:0;if(t=z4e(t),t===eF||t===-eF){var e=t<0?-1:1;return e*W4e}return t===t?t:0}var Hq=H4e,q4e=U4e,K4e=D0,nS=Hq;function G4e(t){return function(e,n,r){return r&&typeof r!="number"&&K4e(e,n,r)&&(n=r=void 0),e=nS(e),n===void 0?(n=e,e=0):n=nS(n),r=r===void 0?e<n?1:-1:nS(r),q4e(e,n,r,t)}}var Y4e=G4e,X4e=Y4e,Q4e=X4e(),J4e=Q4e;const xb=gt(J4e);function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function tF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(n),!0).forEach(function(r){qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qq(t,e,n){return e=Z4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4e(t){var e=e3e(t,"string");return Vm(e)=="symbol"?e:e+""}function e3e(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t3e=["Webkit","Moz","O","ms"],n3e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=t3e.reduce(function(o,a){return nF(nF({},o),{},qq({},a+r,n))},{});return i[e]=n,i};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function rF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gq(r.key),r)}}function i3e(t,e,n){return e&&iF(t.prototype,e),n&&iF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o3e(t,e,n){return e=wb(e),a3e(t,Kq()?Reflect.construct(e,n||[],wb(t).constructor):e.apply(t,n))}function a3e(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3e(t)}function s3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wb(t)}function l3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}function gA(t,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gA(t,e)}function Vr(t,e,n){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=c3e(t,"string");return Xd(e)=="symbol"?e:e+""}function c3e(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u3e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=mp().domain(xb(0,c)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},oF=function(e){return e.changedTouches&&!!e.changedTouches.length},Qd=function(t){function e(n){var r;return r3e(this,e),r=o3e(this,e,[n]),Vr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vr(r,"handleSlideDragStart",function(i){var o=oF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return l3e(e,t),i3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),y=e.getIndexInRange(a,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,c=yn(o[r],s,r);return Le(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+d-f-s,u+d-f-a):g<0&&(g=Math.max(g,u-a,u-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=oF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var _=this.getIndex(x),T=_.startIndex,E=_.endIndex,P=function(){var A=v.length-1;return a==="startX"&&(s>c?T%g===0:E%g===0)||s<c&&E===A||a==="endX"&&(s>c?E%g===0:T%g===0)||s>c&&E===A};this.setState(Vr(Vr({},a,u+w),"brushMoveStartX",r.pageX),function(){y&&P()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Vr({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,c=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:c,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,c=r.data,u=r.children,d=r.padding,f=b.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,x=Math.max(r,this.props.x),w=rS(rS({},De(this.props,!1)),{},{x,y:u,width:d,height:f}),_=p||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return D.createElement(st,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,c=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return D.createElement(st,{className:"recharts-brush-texts"},D.createElement(Xx,bb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},y),this.getTextOfTick(i)),D.createElement(Xx,bb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ce(s)||!ce(c)||!ce(u)||!ce(d)||u<=0||d<=0)return null;var _=We("recharts-brush",o),T=D.Children.count(a)===1,E=n3e("userSelect","none");return D.createElement(st,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,c=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:c,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):Le(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return rS({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?u3e({data:o,width:a,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+a-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var c=Math.floor((a+s)/2);r[c]>i?s=c:a=c}return i>=r[s]?s:a}}])}(b.PureComponent);Vr(Qd,"displayName","Brush");Vr(Qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d3e=IN;function f3e(t,e){var n;return d3e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var h3e=f3e,p3e=XH,m3e=Al,g3e=h3e,y3e=$r,v3e=D0;function x3e(t,e,n){var r=y3e(t)?p3e:g3e;return n&&v3e(t,e,n)&&(e=void 0),r(t,m3e(e))}var b3e=x3e;const w3e=gt(b3e);var Mo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},aF=v7;function _3e(t,e,n){e=="__proto__"&&aF?aF(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var S3e=_3e,E3e=S3e,T3e=g7,A3e=Al;function P3e(t,e){var n={};return e=A3e(e),T3e(t,function(r,i,o){E3e(n,i,e(r,i,o))}),n}var j3e=P3e;const C3e=gt(j3e);function N3e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var I3e=N3e,k3e=IN;function O3e(t,e){var n=!0;return k3e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var R3e=O3e,M3e=I3e,D3e=R3e,$3e=Al,L3e=$r,F3e=D0;function V3e(t,e,n){var r=L3e(t)?M3e:D3e;return n&&F3e(t,e,n)&&(e=void 0),r(t,$3e(e))}var B3e=V3e;const Yq=gt(B3e);var U3e=["x","y"];function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yA.apply(this,arguments)}function sF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(n),!0).forEach(function(r){z3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z3e(t,e,n){return e=W3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W3e(t){var e=H3e(t,"string");return Bm(e)=="symbol"?e:e+""}function H3e(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q3e(t,e){if(t==null)return{};var n=K3e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G3e(t,e){var n=t.x,r=t.y,i=q3e(t,U3e),o="".concat(n),a=parseInt(o,10),s="".concat(r),c=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ih(Ih(Ih(Ih(Ih({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function lF(t){return D.createElement(mA,yA({shapeType:"rectangle",propTransformer:G3e,activeClassName:"recharts-active-bar"},t))}var Y3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ce(r)||h1e(r);return o?e(r,i):(o||zc(),n)}},X3e=["value","background"],Xq;function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Q3e(t,e){if(t==null)return{};var n=J3e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function cF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(n),!0).forEach(function(r){Os(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jq(r.key),r)}}function eVe(t,e,n){return e&&uF(t.prototype,e),n&&uF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tVe(t,e,n){return e=Sb(e),nVe(t,Qq()?Reflect.construct(e,n||[],Sb(t).constructor):e.apply(t,n))}function nVe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rVe(t)}function rVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sb(t)}function iVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vA(t,e)}function vA(t,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vA(t,e)}function Os(t,e,n){return e=Jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=oVe(t,"string");return Jd(e)=="symbol"?e:e+""}function oVe(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ga=function(t){function e(){var n;Z3e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tVe(this,e,[].concat(i)),Os(n,"state",{isAnimationFinished:!1}),Os(n,"id",ou("recharts-bar-")),Os(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Os(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return iVe(e,t),eVe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,c=o.activeIndex,u=o.activeBar,d=De(this.props,!1);return r&&r.map(function(f,h){var p=h===c,y=p?u:a,g=en(en(en({},d),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(st,_b({className:"recharts-bar-rectangle"},um(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(lF,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(to,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=o.map(function(v,x){var w=h&&h[x];if(w){var _=Jt(w.x,v.x),T=Jt(w.y,v.y),E=Jt(w.width,v.width),P=Jt(w.height,v.height);return en(en({},v),{},{x:_(y),y:T(y),width:E(y),height:P(y)})}if(a==="horizontal"){var S=Jt(0,v.height),A=S(y);return en(en({},v),{},{y:v.y+v.height-A,height:A})}var C=Jt(0,v.width),I=C(y);return en(en({},v),{},{width:I})});return D.createElement(st,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Bc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,c=De(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=Q3e(u,X3e);if(!f)return null;var p=en(en(en(en(en({},h),{},{fill:"#eee"},f),c),um(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(lF,_b({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,c=o.yAxis,u=o.layout,d=o.children,f=Rr(d,qf);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:yn(v,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(st,y,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=We("recharts-bar",a),w=s&&s.allowDataOverflow,_=c&&c.allowDataOverflow,T=w||_,E=Me(g)?this.id:g;return D.createElement(st,{className:x},w||_?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:w?u:u-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,D.createElement(st,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,E),(!p||v)&&Ro.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);Xq=Ga;Os(Ga,"displayName","Bar");Os(Ga,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Os(Ga,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=DDe(r,n);if(!p)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?en(en({},g),n.props):n.props,x=v.dataKey,w=v.children,_=v.minPointSize,T=y==="horizontal"?a:o,E=u?T.scale.domain():null,P=WDe({numericAxis:T}),S=Rr(w,RN),A=f.map(function(C,I){var N,k,R,$,U,B;u?N=$De(u[d+I],E):(N=yn(C,x),Array.isArray(N)||(N=[P,N]));var V=Y3e(_,Xq.defaultProps.minPointSize)(N[1],I);if(y==="horizontal"){var F,L=[a.scale(N[0]),a.scale(N[1])],H=L[0],z=L[1];k=cL({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:C,index:I}),R=(F=z??H)!==null&&F!==void 0?F:void 0,$=p.size;var W=H-z;if(U=Number.isNaN(W)?0:W,B={x:k,y:a.y,width:$,height:a.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var K=Hi(U||V)*(Math.abs(V)-Math.abs(U));R-=K,U+=K}}else{var re=[o.scale(N[0]),o.scale(N[1])],de=re[0],be=re[1];if(k=de,R=cL({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:C,index:I}),$=be-de,U=p.size,B={x:o.x,y:R,width:o.width,height:U},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var oe=Hi($||V)*(Math.abs(V)-Math.abs($));$+=oe}}return en(en(en({},C),{},{x:k,y:R,width:$,height:U,value:u?N:N[1],payload:C,background:B},S&&S[I]&&S[I].props),{},{tooltipPayload:[Nq(n,C)],tooltipPosition:{x:k+$/2,y:R+U/2}})});return en({data:A,layout:y},h)});function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zq(r.key),r)}}function sVe(t,e,n){return e&&dF(t.prototype,e),n&&dF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0(t,e,n){return e=Zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){var e=lVe(t,"string");return Um(e)=="symbol"?e:e+""}function lVe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sI=function(e,n,r,i,o){var a=e.width,s=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ur(u,Ga);return d.reduce(function(p,y){var g=n[y],v=g.orientation,x=g.domain,w=g.padding,_=w===void 0?{}:w,T=g.mirror,E=g.reversed,P="".concat(v).concat(T?"Mirror":""),S,A,C,I,N;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=x[1]-x[0],R=1/0,$=g.categoricalDomain.sort(y1e);if($.forEach(function(re,de){de>0&&(R=Math.min((re||0)-($[de-1]||0),R))}),Number.isFinite(R)){var U=R/k,B=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=U*B/2),g.padding==="no-gap"){var V=Vc(e.barCategoryGap,U*B),F=U*B/2;S=F-V-(F-V)/B*V}}}i==="xAxis"?A=[r.left+(_.left||0)+(S||0),r.left+r.width-(_.right||0)-(S||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(S||0),r.top+r.height-(_.bottom||0)-(S||0)]:A=g.range,E&&(A=[A[1],A[0]]);var L=RDe(g,o,h),H=L.scale,z=L.realScaleType;H.domain(x).range(A),MDe(H);var W=zDe(H,Vi(Vi({},g),{},{realScaleType:z}));i==="xAxis"?(N=v==="top"&&!T||v==="bottom"&&T,C=r.left,I=f[P]-N*g.height):i==="yAxis"&&(N=v==="left"&&!T||v==="right"&&T,C=f[P]-N*g.width,I=r.top);var K=Vi(Vi(Vi({},g),W),{},{realScaleType:z,x:C,y:I,scale:H,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return K.bandSize=ub(K,W),!g.hide&&i==="xAxis"?f[P]+=(N?-1:1)*K.height:g.hide||(f[P]+=(N?-1:1)*K.width),Vi(Vi({},p),{},X0({},y,K))},{})},eK=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},cVe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return eK({x:n,y:r},{x:i,y:o})},tK=function(){function t(e){aVe(this,t),this.scale=e}return sVe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();X0(tK,"EPS",1e-4);var lI=function(e){var n=Object.keys(e).reduce(function(r,i){return Vi(Vi({},r),{},X0({},i,tK.create(e[i])))},{});return Vi(Vi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return C3e(i,function(c,u){return n[u].apply(c,{bandAware:a,position:s})})},isInRange:function(i){return Yq(i,function(o,a){return n[a].isInRange(o)})}})};function uVe(t){return(t%180+180)%180}var dVe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=uVe(i),a=o*Math.PI/180,s=Math.atan(r/n),c=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},fVe=Al,hVe=Pg,pVe=R0;function mVe(t){return function(e,n,r){var i=Object(e);if(!hVe(e)){var o=fVe(n);e=pVe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var gVe=mVe,yVe=Hq;function vVe(t){var e=yVe(t),n=e%1;return e===e?n?e-n:e:0}var xVe=vVe,bVe=u7,wVe=Al,_Ve=xVe,SVe=Math.max;function EVe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:_Ve(n);return i<0&&(i=SVe(r+i,0)),bVe(t,wVe(e),i)}var TVe=EVe,AVe=gVe,PVe=TVe,jVe=AVe(PVe),CVe=jVe;const NVe=gt(CVe);var IVe=x_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),cI=b.createContext(void 0),uI=b.createContext(void 0),nK=b.createContext(void 0),rK=b.createContext({}),iK=b.createContext(void 0),oK=b.createContext(0),aK=b.createContext(0),hF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,c=e.width,u=e.height,d=IVe(o);return D.createElement(cI.Provider,{value:r},D.createElement(uI.Provider,{value:i},D.createElement(rK.Provider,{value:o},D.createElement(nK.Provider,{value:d},D.createElement(iK.Provider,{value:a},D.createElement(oK.Provider,{value:u},D.createElement(aK.Provider,{value:c},s)))))))},kVe=function(){return b.useContext(iK)},sK=function(e){var n=b.useContext(cI);n==null&&zc();var r=n[e];return r==null&&zc(),r},OVe=function(){var e=b.useContext(cI);return bs(e)},RVe=function(){var e=b.useContext(uI),n=NVe(e,function(r){return Yq(r.domain,Number.isFinite)});return n||bs(e)},lK=function(e){var n=b.useContext(uI);n==null&&zc();var r=n[e];return r==null&&zc(),r},MVe=function(){var e=b.useContext(nK);return e},DVe=function(){return b.useContext(rK)},dI=function(){return b.useContext(aK)},fI=function(){return b.useContext(oK)};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function $Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uK(r.key),r)}}function FVe(t,e,n){return e&&LVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VVe(t,e,n){return e=Eb(e),BVe(t,cK()?Reflect.construct(e,n||[],Eb(t).constructor):e.apply(t,n))}function BVe(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UVe(t)}function UVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eb(t)}function zVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xA(t,e)}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){hI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hI(t,e,n){return e=uK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uK(t){var e=WVe(t,"string");return Zd(e)=="symbol"?e:e+""}function WVe(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HVe(t,e){return YVe(t)||GVe(t,e)||KVe(t,e)||qVe()}function qVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KVe(t,e){if(t){if(typeof t=="string")return gF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gF(t,e)}}function gF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function YVe(t){if(Array.isArray(t))return t}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bA.apply(this,arguments)}var XVe=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):Le(e)?r=e(n):r=D.createElement("line",bA({},n,{className:"recharts-reference-line-line"})),r},QVe=function(e,n,r,i,o,a,s,c,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(r){var y=u.y,g=e.y.apply(y,{position:a});if(Mo(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(Mo(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var T=u.segment,E=T.map(function(P){return e.apply(P,{position:a})});return Mo(u,"discard")&&w3e(E,function(P){return!e.isInRange(P)})?null:E}return null};function JVe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,c=t.alwaysShow,u=kVe(),d=sK(i),f=lK(o),h=MVe();if(!u||!h)return null;xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lI({x:d.scale,y:f.scale}),y=pn(e),g=pn(n),v=r&&r.length===2,x=QVe(p,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=HVe(x,2),_=w[0],T=_.x,E=_.y,P=w[1],S=P.x,A=P.y,C=Mo(t,"hidden")?"url(#".concat(u,")"):void 0,I=mF(mF({clipPath:C},De(t,!0)),{},{x1:T,y1:E,x2:S,y2:A});return D.createElement(st,{className:We("recharts-reference-line",s)},XVe(a,I),Jn.renderCallByParent(t,cVe({x1:T,y1:E,x2:S,y2:A})))}var pI=function(t){function e(){return $Ve(this,e),VVe(this,e,arguments)}return zVe(e,t),FVe(e,[{key:"render",value:function(){return D.createElement(JVe,this.props)}}])}(D.Component);hI(pI,"displayName","ReferenceLine");hI(pI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wA.apply(this,arguments)}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function yF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(n),!0).forEach(function(r){Q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fK(r.key),r)}}function tBe(t,e,n){return e&&eBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nBe(t,e,n){return e=Tb(e),rBe(t,dK()?Reflect.construct(e,n||[],Tb(t).constructor):e.apply(t,n))}function rBe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iBe(t)}function iBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!t})()}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(t)}function oBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_A(t,e)}function Q0(t,e,n){return e=fK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=aBe(t,"string");return ef(e)=="symbol"?e:e+""}function aBe(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sBe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=lI({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Mo(e,"discard")&&!a.isInRange(s)?null:s},J0=function(t){function e(){return ZVe(this,e),nBe(this,e,arguments)}return oBe(e,t),tBe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,c=r.clipPathId,u=pn(i),d=pn(o);if(xa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=sBe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,x=Mo(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=vF(vF({clipPath:x},De(this.props,!0)),{},{cx:h,cy:p});return D.createElement(st,{className:We("recharts-reference-dot",v)},e.renderDot(g,w),Jn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);Q0(J0,"displayName","ReferenceDot");Q0(J0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Q0(J0,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Le(t)?n=t(e):n=D.createElement(K0,wA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(this,arguments)}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(r){Z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pK(r.key),r)}}function uBe(t,e,n){return e&&cBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dBe(t,e,n){return e=Ab(e),fBe(t,hK()?Reflect.construct(e,n||[],Ab(t).constructor):e.apply(t,n))}function fBe(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hBe(t)}function hBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ab(t)}function pBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EA(t,e)}function Z0(t,e,n){return e=pK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=mBe(t,"string");return tf(e)=="symbol"?e:e+""}function mBe(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gBe=function(e,n,r,i,o){var a=o.x1,s=o.x2,c=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=lI({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Mo(o,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:eK(p,y)},e_=function(t){function e(){return lBe(this,e),dBe(this,e,arguments)}return pBe(e,t),uBe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;xa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pn(i),h=pn(o),p=pn(a),y=pn(s),g=this.props.shape;if(!f&&!h&&!p&&!y&&!g)return null;var v=gBe(f,h,p,y,this.props);if(!v&&!g)return null;var x=Mo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(st,{className:We("recharts-reference-area",c)},e.renderRect(g,bF(bF({clipPath:x},De(this.props,!0)),v)),Jn.renderCallByParent(this.props,v))}}])}(D.Component);Z0(e_,"displayName","ReferenceArea");Z0(e_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Z0(e_,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Le(t)?n=t(e):n=D.createElement(aI,SA({},e,{className:"recharts-reference-area-rect"})),n});function mK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function yBe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return dVe(r,n)}function vBe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Pb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function xBe(t,e){return mK(t,e+1)}function bBe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,c=0,u=1,d=a,f=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:mK(r,u)};var g=c,v,x=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,_=c===0||Pb(t,w,x,d,s);_||(c=0,d=a,u+=1),_&&(d=w+t*(x()/2+i),c+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(r){wBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wBe(t,e,n){return e=_Be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Be(t){var e=SBe(t,"string");return zm(e)=="symbol"?e:e+""}function SBe(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EBe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,c=e.end,u=function(h){var p=o[h],y,g=function(){return y===void 0&&(y=n(p,h)),y};if(h===a-1){var v=t*(p.coordinate+t*g()/2-c);o[h]=p=Gn(Gn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[h]=p=Gn(Gn({},p),{},{tickCoord:p.coordinate});var x=Pb(t,p.tickCoord,g,s,c);x&&(c=p.tickCoord-t*(g()/2+i),o[h]=Gn(Gn({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function TBe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,c=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=Gn(Gn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Pb(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),a[s-1]=Gn(Gn({},d),{},{isShow:!0}))}for(var y=o?s-1:s,g=function(w){var _=a[w],T,E=function(){return T===void 0&&(T=n(_,w)),T};if(w===0){var P=t*(_.coordinate-t*E()/2-c);a[w]=_=Gn(Gn({},_),{},{tickCoord:P<0?_.coordinate-P*t:_.coordinate})}else a[w]=_=Gn(Gn({},_),{},{tickCoord:_.coordinate});var S=Pb(t,_.tickCoord,E,c,u);S&&(c=_.tickCoord+t*(E()/2+i),a[w]=Gn(Gn({},_),{},{isShow:!0}))},v=0;v<y;v++)g(v);return a}function mI(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ce(c)||Pl.isSsr)return xBe(i,typeof c=="number"&&ce(c)?c:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=d&&p==="width"?pp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,T){var E=Le(u)?u(_.value,T):_.value;return p==="width"?yBe(pp(E,{fontSize:e,letterSpacing:n}),y,f):pp(E,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Hi(i[1].coordinate-i[0].coordinate):1,x=vBe(o,v,p);return c==="equidistantPreserveStart"?bBe(v,x,g,i,a):(c==="preserveStart"||c==="preserveStartEnd"?h=TBe(v,x,g,i,a,c==="preserveStartEnd"):h=EBe(v,x,g,i,a),h.filter(function(w){return w.isShow}))}var ABe=["viewBox"],PBe=["viewBox"],jBe=["ticks"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}function _F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(n),!0).forEach(function(r){gI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iS(t,e){if(t==null)return{};var n=CBe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yK(r.key),r)}}function IBe(t,e,n){return e&&SF(t.prototype,e),n&&SF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kBe(t,e,n){return e=jb(e),OBe(t,gK()?Reflect.construct(e,n||[],jb(t).constructor):e.apply(t,n))}function OBe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RBe(t)}function RBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!t})()}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(t)}function MBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TA(t,e)}function gI(t,e,n){return e=yK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=DBe(t,"string");return nf(e)=="symbol"?e:e+""}function DBe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kf=function(t){function e(n){var r;return NBe(this,e),r=kBe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return MBe(e,t),IBe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=iS(r,ABe),s=this.props,c=s.viewBox,u=iS(s,PBe);return!ad(o,c)||!ad(a,u)||!ad(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,g,v,x,w,_=f?-1:1,T=r.tickSize||d,E=ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,v=a+ +!f*c,g=v-_*T,w=g-_*h,x=E;break;case"left":g=v=r.coordinate,y=o+ +!f*s,p=y-_*T,x=p-_*h,w=E;break;case"right":g=v=r.coordinate,y=o+ +f*s,p=y+_*T,x=p+_*h,w=E;break;default:p=y=r.coordinate,v=a+ +f*c,g=v+_*T,w=g+_*h,x=E;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=un(un(un({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=un(un({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=un(un({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",Hu({},f,{className:We("recharts-cartesian-axis-line",xi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=mI(un(un({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=De(this.props,!1),x=De(d,!1),w=un(un({},v),{},{fill:"none"},De(c,!1)),_=p.map(function(T,E){var P=a.getTickLineCoord(T),S=P.line,A=P.tick,C=un(un(un(un({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),A),{},{index:E,payload:T,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(st,Hu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},um(a.props,T,E)),c&&D.createElement("line",Hu({},w,S,{className:We("recharts-cartesian-axis-tick-line",xi(c,"className"))})),d&&e.renderTickItem(d,C,"".concat(Le(f)?f(T.value,E):T.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=iS(f,jBe),y=h;return Le(c)&&(y=h&&h.length>0?c(this.props):c(p)),a<=0||s<=0||!y||!y.length?null:D.createElement(st,{className:We("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=We(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?a=D.cloneElement(r,un(un({},i),{},{className:s})):Le(r)?a=r(un(un({},i),{},{className:s})):a=D.createElement(Xx,Hu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(b.Component);gI(Kf,"displayName","CartesianAxis");gI(Kf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Be=["x1","y1","x2","y2","key"],LBe=["offset"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){FBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FBe(t,e,n){return e=VBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VBe(t){var e=BBe(t,"string");return Wc(e)=="symbol"?e:e+""}function BBe(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function TF(t,e){if(t==null)return{};var n=UBe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zBe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,c=e.ry;return D.createElement("rect",{x:i,y:o,ry:c,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vK(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Le(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,c=TF(e,$Be),u=De(c,!1);u.offset;var d=TF(u,LBe);n=D.createElement("line",oc({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function WBe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,c){var u=Zn(Zn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(c),index:c});return vK(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function HBe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,c){var u=Zn(Zn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(c),index:c});return vK(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function qBe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?i+a-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function KBe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?o+s-h:d[p+1]-h;if(g<=0)return null;var v=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:g,height:c,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var GBe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return jq(mI(Zn(Zn(Zn({},Kf.defaultProps),r),{},{ticks:ha(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},YBe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return jq(mI(Zn(Zn(Zn({},Kf.defaultProps),r),{},{ticks:ha(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Eu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function t_(t){var e,n,r,i,o,a,s=dI(),c=fI(),u=DVe(),d=Zn(Zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Eu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Eu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Eu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Eu.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Eu.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Eu.verticalFill,x:ce(t.x)?t.x:u.left,y:ce(t.y)?t.y:u.top,width:ce(t.width)?t.width:u.width,height:ce(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,w=OVe(),_=RVe();if(!ce(p)||p<=0||!ce(y)||y<=0||!ce(f)||f!==+f||!ce(h)||h!==+h)return null;var T=d.verticalCoordinatesGenerator||GBe,E=d.horizontalCoordinatesGenerator||YBe,P=d.horizontalPoints,S=d.verticalPoints;if((!P||!P.length)&&Le(E)){var A=v&&v.length,C=E({yAxis:_?Zn(Zn({},_),{},{ticks:A?v:_.ticks}):void 0,width:s,height:c,offset:u},A?!0:g);xa(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(C),"]")),Array.isArray(C)&&(P=C)}if((!S||!S.length)&&Le(T)){var I=x&&x.length,N=T({xAxis:w?Zn(Zn({},w),{},{ticks:I?x:w.ticks}):void 0,width:s,height:c,offset:u},I?!0:g);xa(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(N),"]")),Array.isArray(N)&&(S=N)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(zBe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(WBe,oc({},d,{offset:u,horizontalPoints:P,xAxis:w,yAxis:_})),D.createElement(HBe,oc({},d,{offset:u,verticalPoints:S,xAxis:w,yAxis:_})),D.createElement(qBe,oc({},d,{horizontalPoints:P})),D.createElement(KBe,oc({},d,{verticalPoints:S})))}t_.displayName="CartesianGrid";var XBe=["type","layout","connectNulls","ref"],QBe=["key"];function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function AF(t,e){if(t==null)return{};var n=JBe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function PF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(n),!0).forEach(function(r){Bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tu(t){return nUe(t)||tUe(t)||eUe(t)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eUe(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function tUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nUe(t){if(Array.isArray(t))return AA(t)}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bK(r.key),r)}}function iUe(t,e,n){return e&&jF(t.prototype,e),n&&jF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oUe(t,e,n){return e=Cb(e),aUe(t,xK()?Reflect.construct(e,n||[],Cb(t).constructor):e.apply(t,n))}function aUe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sUe(t)}function sUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cb(t)}function lUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PA(t,e)}function Bi(t,e,n){return e=bK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bK(t){var e=cUe(t,"string");return rf(e)=="symbol"?e:e+""}function cUe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fo=function(t){function e(){var n;rUe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oUe(this,e,[].concat(i)),Bi(n,"state",{isAnimationFinished:!0,totalLength:0}),Bi(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Bi(n,"getStrokeDasharray",function(a,s,c){var u=c.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,p=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){p=[].concat(Tu(c.slice(0,y)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Tu(e.repeat(c,d)),Tu(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Bi(n,"id",ou("recharts-line-")),Bi(n,"pathRef",function(a){n.mainCurve=a}),Bi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Bi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return lUe(e,t),iUe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,c=o.yAxis,u=o.layout,d=o.children,f=Rr(d,qf);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:yn(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(st,p,f.map(function(y){return D.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,u=s.points,d=s.dataKey,f=De(this.props,!1),h=De(c,!0),p=u.map(function(g,v){var x=Fr(Fr(Fr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(st,vp({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,c=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=AF(s,XBe),h=Fr(Fr(Fr({},De(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:c,layout:u,connectNulls:d});return D.createElement(_c,vp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,c=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,y=a.animateNewValues,g=a.width,v=a.height,x=this.state,w=x.prevPoints,_=x.totalLength;return D.createElement(to,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var E=T.t;if(w){var P=w.length/s.length,S=s.map(function(k,R){var $=Math.floor(R*P);if(w[$]){var U=w[$],B=Jt(U.x,k.x),V=Jt(U.y,k.y);return Fr(Fr({},k),{},{x:B(E),y:V(E)})}if(y){var F=Jt(g*2,k.x),L=Jt(v/2,k.y);return Fr(Fr({},k),{},{x:F(E),y:L(E)})}return Fr(Fr({},k),{},{x:k.x,y:k.y})});return o.renderCurveStatically(S,r,i)}var A=Jt(0,_),C=A(E),I;if(c){var N="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});I=o.getStrokeDasharray(C,_,N)}else I=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return s&&a&&a.length&&(!u&&d>0||!Bc(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=We("recharts-line",c),T=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,P=T||E,S=Me(v)?this.id:v,A=(r=De(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,I=C===void 0?3:C,N=A.strokeWidth,k=N===void 0?2:N,R=wH(a)?a:{},$=R.clipDot,U=$===void 0?!0:$,B=I*2+k;return D.createElement(st,{className:_},T||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:T?h:h-p/2,y:E?f:f-y/2,width:T?p:p*2,height:E?y:y*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(S)},D.createElement("rect",{x:h-B/2,y:f-B/2,width:p+B,height:y+B}))):null,!w&&this.renderCurve(P,S),this.renderErrorBar(P,S),(w||a)&&this.renderDots(P,U,S),(!g||x)&&Ro.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Tu(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Tu(a),Tu(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(Le(r))o=r(i);else{var a=i.key,s=AF(i,QBe),c=We("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(K0,vp({key:a},s,{className:c}))}return o}}])}(b.PureComponent);Bi(Fo,"displayName","Line");Bi(Fo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Bi(Fo,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var y=yn(h,a);return d==="horizontal"?{x:Gd({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:Me(y)?null:r.scale(y),value:y,payload:h}:{x:Me(y)?null:n.scale(y),y:Gd({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Fr({points:f,layout:d},u)});var uUe=["layout","type","stroke","connectNulls","isRange","ref"],dUe=["key"],wK;function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function _K(t,e){if(t==null)return{};var n=fUe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function CF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EK(r.key),r)}}function pUe(t,e,n){return e&&NF(t.prototype,e),n&&NF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mUe(t,e,n){return e=Nb(e),gUe(t,SK()?Reflect.construct(e,n||[],Nb(t).constructor):e.apply(t,n))}function gUe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yUe(t)}function yUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!t})()}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nb(t)}function vUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jA(t,e)}function _o(t,e,n){return e=EK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=xUe(t,"string");return of(e)=="symbol"?e:e+""}function xUe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Il=function(t){function e(){var n;hUe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mUe(this,e,[].concat(i)),_o(n,"state",{isAnimationFinished:!0}),_o(n,"id",ou("recharts-area-")),_o(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Le(a)&&a()}),_o(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Le(a)&&a()}),n}return vUe(e,t),pUe(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=De(this.props,!1),p=De(u,!0),y=d.map(function(v,x){var w=us(us(us({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(st,ac({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=r*Math.abs(c-u),f=ks(a.map(function(h){return h.y||0}));return ce(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ks(o.map(function(h){return h.y||0})),f)),ce(f)?D.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=r*Math.abs(c-u),f=ks(a.map(function(h){return h.x||0}));return ce(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ks(o.map(function(h){return h.x||0})),f)),ce(f)?D.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=_K(s,uUe);return D.createElement(st,{clipPath:o?"url(#clipPath-".concat(a,")"):null},D.createElement(_c,ac({},De(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(_c,ac({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&D.createElement(_c,ac({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return D.createElement(to,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t;if(g){var _=g.length/s.length,T=s.map(function(A,C){var I=Math.floor(C*_);if(g[I]){var N=g[I],k=Jt(N.x,A.x),R=Jt(N.y,A.y);return us(us({},A),{},{x:k(w),y:R(w)})}return A}),E;if(ce(c)&&typeof c=="number"){var P=Jt(v,c);E=P(w)}else if(Me(c)||Ff(c)){var S=Jt(v,0);E=S(w)}else E=c.map(function(A,C){var I=Math.floor(C*_);if(v[I]){var N=v[I],k=Jt(N.x,A.x),R=Jt(N.y,A.y);return us(us({},A),{},{x:k(w),y:R(w)})}return A});return o.renderAreaStatically(T,E,r,i)}return D.createElement(st,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),D.createElement(st,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,c,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,c=o.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&a&&a.length&&(!d&&h>0||!Bc(d,a)||!Bc(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=We("recharts-area",c),T=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,P=T||E,S=Me(v)?this.id:v,A=(r=De(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,I=C===void 0?3:C,N=A.strokeWidth,k=N===void 0?2:N,R=wH(a)?a:{},$=R.clipDot,U=$===void 0?!0:$,B=I*2+k;return D.createElement(st,{className:_},T||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:T?d:d-p/2,y:E?u:u-y/2,width:T?p:p*2,height:E?y:y*2})),!U&&D.createElement("clipPath",{id:"clipPath-dots-".concat(S)},D.createElement("rect",{x:d-B/2,y:u-B/2,width:p+B,height:y+B}))):null,w?null:this.renderArea(P,S),(a||w)&&this.renderDots(P,U,S),(!g||x)&&Ro.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);wK=Il;_o(Il,"displayName","Area");_o(Il,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_o(Il,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(ce(s)&&typeof s=="number")return s;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});_o(Il,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=u&&u.length,g=wK.getBaseValue(e,n,r,i),v=p==="horizontal",x=!1,w=f.map(function(T,E){var P;y?P=u[d+E]:(P=yn(T,c),Array.isArray(P)?x=!0:P=[g,P]);var S=P[1]==null||y&&yn(T,c)==null;return v?{x:Gd({axis:r,ticks:o,bandSize:s,entry:T,index:E}),y:S?null:i.scale(P[1]),value:P,payload:T}:{x:S?null:r.scale(P[1]),y:Gd({axis:i,ticks:a,bandSize:s,entry:T,index:E}),value:P,payload:T}}),_;return y||x?_=w.map(function(T){var E=Array.isArray(T.value)?T.value[0]:null;return v?{x:T.x,y:E!=null&&T.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:T.y}}):_=v?i.scale(g):r.scale(g),us({points:w,baseLine:_,layout:p,isRange:x},h)});_o(Il,"renderDotItem",function(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Le(t))n=t(e);else{var r=We("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=_K(e,dUe);n=D.createElement(K0,ac({},o,{key:i,className:r}))}return n});function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function bUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PK(r.key),r)}}function _Ue(t,e,n){return e&&wUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SUe(t,e,n){return e=Ib(e),EUe(t,TK()?Reflect.construct(e,n||[],Ib(t).constructor):e.apply(t,n))}function EUe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TUe(t)}function TUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TK=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(t)}function AUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CA(t,e)}function AK(t,e,n){return e=PK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PK(t){var e=PUe(t,"string");return af(e)=="symbol"?e:e+""}function PUe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n_=function(t){function e(){return bUe(this,e),SUe(this,e,arguments)}return AUe(e,t),_Ue(e,[{key:"render",value:function(){return null}}])}(b.Component);AK(n_,"displayName","ZAxis");AK(n_,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var jUe=["option","isActive"];function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function CUe(t,e){if(t==null)return{};var n=NUe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IUe(t){var e=t.option,n=t.isActive,r=CUe(t,jUe);return typeof e=="string"?b.createElement(mA,xp({option:b.createElement(O0,xp({type:e},r)),isActive:n,shapeType:"symbols"},r)):b.createElement(mA,xp({option:e,isActive:n,shapeType:"symbols"},r))}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function IF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(n),!0).forEach(function(r){Rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CK(r.key),r)}}function OUe(t,e,n){return e&&kF(t.prototype,e),n&&kF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RUe(t,e,n){return e=kb(e),MUe(t,jK()?Reflect.construct(e,n||[],kb(t).constructor):e.apply(t,n))}function MUe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DUe(t)}function DUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!t})()}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kb(t)}function $Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NA(t,e)}function Rs(t,e,n){return e=CK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t){var e=LUe(t,"string");return sf(e)=="symbol"?e:e+""}function LUe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r_=function(t){function e(){var n;kUe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=RUe(this,e,[].concat(i)),Rs(n,"state",{isAnimationFinished:!1}),Rs(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Rs(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Rs(n,"id",ou("recharts-scatter-")),n}return $Ue(e,t),OUe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,c=o.activeIndex,u=De(this.props,!1);return r.map(function(d,f){var h=c===f,p=h?s:a,y=ci(ci({},u),d);return D.createElement(st,bp({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},um(i.props,d,f),{role:"img"}),D.createElement(IUe,bp({option:p,isActive:h,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return D.createElement(to,{begin:s,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=o.map(function(g,v){var x=f&&f[v];if(x){var w=Jt(x.cx,g.cx),_=Jt(x.cy,g.cy),T=Jt(x.size,g.size);return ci(ci({},g),{},{cx:w(p),cy:_(p),size:T(p)})}var E=Jt(0,g.size);return ci(ci({},g),{},{size:E(p)})});return D.createElement(st,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Bc(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,c=i.children,u=Rr(c,qf);return u?u.map(function(d,f){var h=d.props,p=h.direction,y=h.dataKey;return D.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(o[f]),data:o,xAxis:a,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,x){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:yn(v,x)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,c=De(this.props,!1),u=De(o,!1),d,f;if(a==="joint")d=i.map(function(_){return{x:_.cx,y:_.cy}});else if(a==="fitting"){var h=g1e(i),p=h.xmin,y=h.xmax,g=h.a,v=h.b,x=function(T){return g*T+v};d=[{x:p,y:x(p)},{x:y,y:x(y)}]}var w=ci(ci(ci({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return D.isValidElement(o)?f=D.cloneElement(o,w):Le(o)?f=o(w):f=D.createElement(_c,bp({},w,{type:s})),D.createElement(st,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,c=r.xAxis,u=r.yAxis,d=r.left,f=r.top,h=r.width,p=r.height,y=r.id,g=r.isAnimationActive;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=We("recharts-scatter",s),w=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,T=w||_,E=Me(y)?this.id:y;return D.createElement(st,{className:x,clipPath:T?"url(#clipPath-".concat(E,")"):null},w||_?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:w?d:d-h/2,y:_?f:f-p/2,width:w?h:h*2,height:_?p:p*2}))):null,a&&this.renderLine(),this.renderErrorBar(),D.createElement(st,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||v)&&Ro.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(b.PureComponent);Rs(r_,"displayName","Scatter");Rs(r_,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Pl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Rs(r_,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,c=t.offset,u=i.props.tooltipType,d=Rr(i.props.children,RN),f=Me(e.dataKey)?i.props.dataKey:e.dataKey,h=Me(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,y=r?r.range:n_.defaultProps.range,g=y&&y[0],v=e.scale.bandwidth?e.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0,w=o.map(function(_,T){var E=yn(_,f),P=yn(_,h),S=!Me(p)&&yn(_,p)||"-",A=[{name:Me(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:E,payload:_,dataKey:f,type:u},{name:Me(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:P,payload:_,dataKey:h,type:u}];S!=="-"&&A.push({name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:_,dataKey:p,type:u});var C=Gd({axis:e,ticks:a,bandSize:v,entry:_,index:T,dataKey:f}),I=Gd({axis:n,ticks:s,bandSize:x,entry:_,index:T,dataKey:h}),N=S!=="-"?r.scale(S):g,k=Math.sqrt(Math.max(N,0)/Math.PI);return ci(ci({},_),{},{cx:C,cy:I,x:C-k,y:I-k,xAxis:e,yAxis:n,zAxis:r,width:2*k,height:2*k,size:N,node:{x:E,y:P,z:S},tooltipPayload:A,tooltipPosition:{x:C,y:I},payload:_},d&&d[T]&&d[T].props)});return ci({points:w},c)});function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function FUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kK(r.key),r)}}function BUe(t,e,n){return e&&VUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UUe(t,e,n){return e=Ob(e),zUe(t,NK()?Reflect.construct(e,n||[],Ob(t).constructor):e.apply(t,n))}function zUe(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WUe(t)}function WUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(t)}function HUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IA(t,e)}function IK(t,e,n){return e=kK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=qUe(t,"string");return lf(e)=="symbol"?e:e+""}function qUe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kA.apply(this,arguments)}function KUe(t){var e=t.xAxisId,n=dI(),r=fI(),i=sK(e);return i==null?null:b.createElement(Kf,kA({},i,{className:We("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ha(a,!0)}}))}var Ya=function(t){function e(){return FUe(this,e),UUe(this,e,arguments)}return HUe(e,t),BUe(e,[{key:"render",value:function(){return b.createElement(KUe,this.props)}}])}(b.Component);IK(Ya,"displayName","XAxis");IK(Ya,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function GUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MK(r.key),r)}}function XUe(t,e,n){return e&&YUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QUe(t,e,n){return e=Rb(e),JUe(t,OK()?Reflect.construct(e,n||[],Rb(t).constructor):e.apply(t,n))}function JUe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZUe(t)}function ZUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(t)}function e6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OA(t,e)}function RK(t,e,n){return e=MK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MK(t){var e=t6e(t,"string");return cf(e)=="symbol"?e:e+""}function t6e(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RA.apply(this,arguments)}var n6e=function(e){var n=e.yAxisId,r=dI(),i=fI(),o=lK(n);return o==null?null:b.createElement(Kf,RA({},o,{className:We("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ha(s,!0)}}))},Vo=function(t){function e(){return GUe(this,e),QUe(this,e,arguments)}return e6e(e,t),XUe(e,[{key:"render",value:function(){return b.createElement(n6e,this.props)}}])}(b.Component);RK(Vo,"displayName","YAxis");RK(Vo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OF(t){return a6e(t)||o6e(t)||i6e(t)||r6e()}function r6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6e(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function o6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a6e(t){if(Array.isArray(t))return MA(t)}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DA=function(e,n,r,i,o){var a=Rr(e,pI),s=Rr(e,J0),c=[].concat(OF(a),OF(s)),u=Rr(e,e_),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===r&&Mo(v.props,"extendDomain")&&ce(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&Mo(v.props,"extendDomain")&&ce(v.props[p])&&ce(v.props[y])){var x=v.props[p],w=v.props[y];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return ce(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},DK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,y),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var T=v.length,E;for(_=0;_<T;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),x){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];v[_].fn.apply(v[_].context,w)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&a(this,p);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(DK);var s6e=DK.exports;const l6e=gt(s6e);var oS=new l6e,aS="recharts.syncMouseEvents";function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function c6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$K(r.key),r)}}function d6e(t,e,n){return e&&u6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sS(t,e,n){return e=$K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=f6e(t,"string");return Wm(e)=="symbol"?e:e+""}function f6e(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h6e=function(){function t(){c6e(this,t),sS(this,"activeIndex",0),sS(this,"coordinateList",[]),sS(this,"layout","horizontal")}return d6e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+c+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function p6e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ce(r)&&ce(i))return!0}return!1}function m6e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LK(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=kn(e,n,r,i),s=kn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function g6e(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=kn(s,c,u,f),p=kn(s,c,d,f);r=h.x,i=h.y,o=p.x,a=p.y}else return LK(e);return[{x:r,y:i},{x:o,y:a}]}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(r){y6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y6e(t,e,n){return e=v6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6e(t){var e=x6e(t,"string");return Hm(e)=="symbol"?e:e+""}function x6e(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,g=_c;if(h==="ScatterChart")y=a,g=qFe;else if(h==="BarChart")y=m6e(f,a,c,d),g=aI;else if(f==="radial"){var v=LK(a),x=v.cx,w=v.cy,_=v.radius,T=v.startAngle,E=v.endAngle;y={cx:x,cy:w,startAngle:T,endAngle:E,innerRadius:_,outerRadius:_},g=Oq}else y={points:g6e(f,a,c)},g=_c;var P=qy(qy(qy(qy({stroke:"#ccc",pointerEvents:"none"},c),y),De(p,!1)),{},{payload:s,payloadIndex:u,className:We("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,P):b.createElement(g,P)}var w6e=["item"],_6e=["children","className","width","height","style","compact","title","desc"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function MF(t,e){return T6e(t)||E6e(t,e)||VK(t,e)||S6e()}function S6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function T6e(t){if(Array.isArray(t))return t}function DF(t,e){if(t==null)return{};var n=A6e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BK(r.key),r)}}function C6e(t,e,n){return e&&j6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N6e(t,e,n){return e=Mb(e),I6e(t,FK()?Reflect.construct(e,n||[],Mb(t).constructor):e.apply(t,n))}function I6e(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(t)}function k6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!t})()}function Mb(t){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(t)}function O6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$A(t,e)}function df(t){return D6e(t)||M6e(t)||VK(t)||R6e()}function R6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(t,e){if(t){if(typeof t=="string")return LA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(t,e)}}function M6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D6e(t){if(Array.isArray(t))return LA(t)}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(n),!0).forEach(function(r){Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ce(t,e,n){return e=BK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BK(t){var e=$6e(t,"string");return uf(e)=="symbol"?e:e+""}function $6e(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L6e={xAxis:["bottom","top"],yAxis:["left","right"]},F6e={width:"100%",height:"100%"},UK={x:0,y:0};function Ky(t){return t}var V6e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},B6e=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Q(Q(Q({},i),kn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var c=o.coordinate,u=i.angle;return Q(Q(Q({},i),kn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return UK},i_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(df(s),df(u)):s},[]);return a.length>0?a:e&&e.length&&ce(i)&&ce(o)?e.slice(i,o+1):[]};function zK(t){return t==="number"?[0,"auto"]:void 0}var FA=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=i_(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=Mx(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(df(c),[Nq(u,h)]):c},[])},LF=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=V6e(o,r),s=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=jDe(a,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=FA(e,n,d,f),p=B6e(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},U6e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=Pq(d,o);return r.reduce(function(y,g){var v,x=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,w=x.type,_=x.dataKey,T=x.allowDataOverflow,E=x.allowDuplicatedCategory,P=x.scale,S=x.ticks,A=x.includeHidden,C=x[a];if(y[C])return y;var I=i_(e.data,{graphicalItems:i.filter(function(W){var K,re=a in W.props?W.props[a]:(K=W.type.defaultProps)===null||K===void 0?void 0:K[a];return re===C}),dataStartIndex:c,dataEndIndex:u}),N=I.length,k,R,$;p6e(x.domain,T,w)&&(k=ZT(x.domain,null,T),p&&(w==="number"||P!=="auto")&&($=gp(I,_,"category")));var U=zK(w);if(!k||k.length===0){var B,V=(B=x.domain)!==null&&B!==void 0?B:U;if(_){if(k=gp(I,_,w),w==="category"&&p){var F=m1e(k);E&&F?(R=k,k=xb(0,N)):E||(k=fL(V,k,g).reduce(function(W,K){return W.indexOf(K)>=0?W:[].concat(df(W),[K])},[]))}else if(w==="category")E?k=k.filter(function(W){return W!==""&&!Me(W)}):k=fL(V,k,g).reduce(function(W,K){return W.indexOf(K)>=0||K===""||Me(K)?W:[].concat(df(W),[K])},[]);else if(w==="number"){var L=ODe(I,i.filter(function(W){var K,re,de=a in W.props?W.props[a]:(K=W.type.defaultProps)===null||K===void 0?void 0:K[a],be="hide"in W.props?W.props.hide:(re=W.type.defaultProps)===null||re===void 0?void 0:re.hide;return de===C&&(A||!be)}),_,o,d);L&&(k=L)}p&&(w==="number"||P!=="auto")&&($=gp(I,_,"category"))}else p?k=xb(0,N):s&&s[C]&&s[C].hasStack&&w==="number"?k=h==="expand"?[0,1]:Cq(s[C].stackGroups,c,u):k=Aq(I,i.filter(function(W){var K=a in W.props?W.props[a]:W.type.defaultProps[a],re="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return K===C&&(A||!re)}),w,d,!0);if(w==="number")k=DA(f,k,C,o,S),V&&(k=ZT(V,k,T));else if(w==="category"&&V){var H=V,z=k.every(function(W){return H.indexOf(W)>=0});z&&(k=H)}}return Q(Q({},y),{},Ce({},C,Q(Q({},x),{},{axisType:o,domain:k,categoricalDomain:$,duplicateDomain:R,originalDomain:(v=x.domain)!==null&&v!==void 0?v:U,isCategorical:p,layout:d})))},{})},z6e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=i_(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=Pq(d,o),g=-1;return r.reduce(function(v,x){var w=x.type.defaultProps!==void 0?Q(Q({},x.type.defaultProps),x.props):x.props,_=w[a],T=zK("number");if(!v[_]){g++;var E;return y?E=xb(0,p):s&&s[_]&&s[_].hasStack?(E=Cq(s[_].stackGroups,c,u),E=DA(f,E,_,o)):(E=ZT(T,Aq(h,r.filter(function(P){var S,A,C=a in P.props?P.props[a]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[a],I="hide"in P.props?P.props.hide:(A=P.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===_&&!I}),"number",d),i.defaultProps.allowDataOverflow),E=DA(f,E,_,o)),Q(Q({},v),{},Ce({},_,Q(Q({axisType:o},i.defaultProps),{},{hide:!0,orientation:xi(L6e,"".concat(o,".").concat(g%2),null),domain:E,originalDomain:T,isCategorical:y,layout:d})))}return v},{})},W6e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Rr(d,o),p={};return h&&h.length?p=U6e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=z6e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),p},H6e=function(e){var n=bs(e),r=ha(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:kN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ub(n,r)}},FF=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ur(n,Qd),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},q6e=function(e){return!e||!e.length?!1:e.some(function(n){var r=va(n&&n.type);return r&&r.indexOf("Bar")>=0})},VF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},K6e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,c=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Ur(f,Qd),y=Ur(f,xc),g=Object.keys(c).reduce(function(E,P){var S=c[P],A=S.orientation;return!S.mirror&&!S.hide?Q(Q({},E),{},Ce({},A,E[A]+S.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(E,P){var S=a[P],A=S.orientation;return!S.mirror&&!S.hide?Q(Q({},E),{},Ce({},A,xi(E,"".concat(A))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=Q(Q({},v),g),w=x.bottom;p&&(x.bottom+=p.props.height||Qd.defaultProps.height),y&&n&&(x=IDe(x,i,r,n));var _=u-x.left-x.right,T=d-x.top-x.bottom;return Q(Q({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(T,0)})},G6e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yI=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,T=w.stackGroups,E=w.offset,P=w.updateId,S=w.dataStartIndex,A=w.dataEndIndex,C=x.barSize,I=x.layout,N=x.barGap,k=x.barCategoryGap,R=x.maxBarSize,$=VF(I),U=$.numericAxisName,B=$.cateAxisName,V=q6e(_),F=[];return _.forEach(function(L,H){var z=i_(x.data,{graphicalItems:[L],dataStartIndex:S,dataEndIndex:A}),W=L.type.defaultProps!==void 0?Q(Q({},L.type.defaultProps),L.props):L.props,K=W.dataKey,re=W.maxBarSize,de=W["".concat(U,"Id")],be=W["".concat(B,"Id")],oe={},Pe=c.reduce(function(Vn,ri){var rr=w["".concat(ri.axisType,"Map")],Xa=W["".concat(ri.axisType,"Id")];rr&&rr[Xa]||ri.axisType==="zAxis"||zc();var Ol=rr[Xa];return Q(Q({},Vn),{},Ce(Ce({},ri.axisType,Ol),"".concat(ri.axisType,"Ticks"),ha(Ol)))},oe),ie=Pe[B],ae=Pe["".concat(B,"Ticks")],ue=T&&T[de]&&T[de].hasStack&&HDe(L,T[de].stackGroups),G=va(L.type).indexOf("Bar")>=0,je=ub(ie,ae),Ae=[],ot=V&&CDe({barSize:C,stackGroups:T,totalSize:G6e(Pe,B)});if(G){var at,kt,Ln=Me(re)?R:re,Fn=(at=(kt=ub(ie,ae,!0))!==null&&kt!==void 0?kt:Ln)!==null&&at!==void 0?at:0;Ae=NDe({barGap:N,barCategoryGap:k,bandSize:Fn!==je?Fn:je,sizeList:ot[be],maxBarSize:Ln}),Fn!==je&&(Ae=Ae.map(function(Vn){return Q(Q({},Vn),{},{position:Q(Q({},Vn.position),{},{offset:Vn.position.offset-Fn/2})})}))}var ji=L&&L.type&&L.type.getComposedData;ji&&F.push({props:Q(Q({},ji(Q(Q({},Pe),{},{displayedData:z,props:x,dataKey:K,item:L,bandSize:je,barPosition:Ae,offset:E,stackedData:ue,layout:I,dataStartIndex:S,dataEndIndex:A}))),{},Ce(Ce(Ce({key:L.key||"item-".concat(H)},U,Pe[U]),B,Pe[B]),"animationId",P)),childIndex:j1e(L,x.children),item:L})}),F},p=function(x,w){var _=x.props,T=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!aD({props:_}))return null;var S=_.children,A=_.layout,C=_.stackOffset,I=_.data,N=_.reverseStackOrder,k=VF(A),R=k.numericAxisName,$=k.cateAxisName,U=Rr(S,r),B=UDe(I,U,"".concat(R,"Id"),"".concat($,"Id"),C,N),V=c.reduce(function(W,K){var re="".concat(K.axisType,"Map");return Q(Q({},W),{},Ce({},re,W6e(_,Q(Q({},K),{},{graphicalItems:U,stackGroups:K.axisType===R&&B,dataStartIndex:T,dataEndIndex:E}))))},{}),F=K6e(Q(Q({},V),{},{props:_,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(W){V[W]=d(_,V[W],F,W.replace("Map",""),n)});var L=V["".concat($,"Map")],H=H6e(L),z=h(_,Q(Q({},V),{},{dataStartIndex:T,dataEndIndex:E,updateId:P,graphicalItems:U,stackGroups:B,offset:F}));return Q(Q({formattedGraphicalItems:z,graphicalItems:U,offset:F,stackGroups:B},H),V)},y=function(v){function x(w){var _,T,E;return P6e(this,x),E=N6e(this,x,[w]),Ce(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(E,"accessibilityManager",new h6e),Ce(E,"handleLegendBBoxUpdate",function(P){if(P){var S=E.state,A=S.dataStartIndex,C=S.dataEndIndex,I=S.updateId;E.setState(Q({legendBBox:P},p({props:E.props,dataStartIndex:A,dataEndIndex:C,updateId:I},Q(Q({},E.state),{},{legendBBox:P}))))}}),Ce(E,"handleReceiveSyncEvent",function(P,S,A){if(E.props.syncId===P){if(A===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),Ce(E,"handleBrushChange",function(P){var S=P.startIndex,A=P.endIndex;if(S!==E.state.dataStartIndex||A!==E.state.dataEndIndex){var C=E.state.updateId;E.setState(function(){return Q({dataStartIndex:S,dataEndIndex:A},p({props:E.props,dataStartIndex:S,dataEndIndex:A,updateId:C},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Ce(E,"handleMouseEnter",function(P){var S=E.getMouseInfo(P);if(S){var A=Q(Q({},S),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseEnter;Le(C)&&C(A,P)}}),Ce(E,"triggeredAfterMouseMove",function(P){var S=E.getMouseInfo(P),A=S?Q(Q({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseMove;Le(C)&&C(A,P)}),Ce(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ce(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ce(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Ce(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var A=E.props.onMouseLeave;Le(A)&&A(S,P)}),Ce(E,"handleOuterEvent",function(P){var S=P1e(P),A=xi(E.props,"".concat(S));if(S&&Le(A)){var C,I;/.*touch.*/i.test(S)?I=E.getMouseInfo(P.changedTouches[0]):I=E.getMouseInfo(P),A((C=I)!==null&&C!==void 0?C:{},P)}}),Ce(E,"handleClick",function(P){var S=E.getMouseInfo(P);if(S){var A=Q(Q({},S),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onClick;Le(C)&&C(A,P)}}),Ce(E,"handleMouseDown",function(P){var S=E.props.onMouseDown;if(Le(S)){var A=E.getMouseInfo(P);S(A,P)}}),Ce(E,"handleMouseUp",function(P){var S=E.props.onMouseUp;if(Le(S)){var A=E.getMouseInfo(P);S(A,P)}}),Ce(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ce(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Ce(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Ce(E,"handleDoubleClick",function(P){var S=E.props.onDoubleClick;if(Le(S)){var A=E.getMouseInfo(P);S(A,P)}}),Ce(E,"handleContextMenu",function(P){var S=E.props.onContextMenu;if(Le(S)){var A=E.getMouseInfo(P);S(A,P)}}),Ce(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&oS.emit(aS,E.props.syncId,P,E.eventEmitterSymbol)}),Ce(E,"applySyncEvent",function(P){var S=E.props,A=S.layout,C=S.syncMethod,I=E.state.updateId,N=P.dataStartIndex,k=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(Q({dataStartIndex:N,dataEndIndex:k},p({props:E.props,dataStartIndex:N,dataEndIndex:k,updateId:I},E.state)));else if(P.activeTooltipIndex!==void 0){var R=P.chartX,$=P.chartY,U=P.activeTooltipIndex,B=E.state,V=B.offset,F=B.tooltipTicks;if(!V)return;if(typeof C=="function")U=C(F,P);else if(C==="value"){U=-1;for(var L=0;L<F.length;L++)if(F[L].value===P.activeLabel){U=L;break}}var H=Q(Q({},V),{},{x:V.left,y:V.top}),z=Math.min(R,H.x+H.width),W=Math.min($,H.y+H.height),K=F[U]&&F[U].value,re=FA(E.state,E.props.data,U),de=F[U]?{x:A==="horizontal"?F[U].coordinate:z,y:A==="horizontal"?W:F[U].coordinate}:UK;E.setState(Q(Q({},P),{},{activeLabel:K,activeCoordinate:de,activePayload:re,activeTooltipIndex:U}))}else E.setState(P)}),Ce(E,"renderCursor",function(P){var S,A=E.state,C=A.isTooltipActive,I=A.activeCoordinate,N=A.activePayload,k=A.offset,R=A.activeTooltipIndex,$=A.tooltipAxisBandSize,U=E.getTooltipEventType(),B=(S=P.props.active)!==null&&S!==void 0?S:C,V=E.props.layout,F=P.key||"_recharts-cursor";return D.createElement(b6e,{key:F,activeCoordinate:I,activePayload:N,activeTooltipIndex:R,chartName:n,element:P,isActive:B,layout:V,offset:k,tooltipAxisBandSize:$,tooltipEventType:U})}),Ce(E,"renderPolarAxis",function(P,S,A){var C=xi(P,"type.axisType"),I=xi(E.state,"".concat(C,"Map")),N=P.type.defaultProps,k=N!==void 0?Q(Q({},N),P.props):P.props,R=I&&I[k["".concat(C,"Id")]];return b.cloneElement(P,Q(Q({},R),{},{className:We(C,R.className),key:P.key||"".concat(S,"-").concat(A),ticks:ha(R,!0)}))}),Ce(E,"renderPolarGrid",function(P){var S=P.props,A=S.radialLines,C=S.polarAngles,I=S.polarRadius,N=E.state,k=N.radiusAxisMap,R=N.angleAxisMap,$=bs(k),U=bs(R),B=U.cx,V=U.cy,F=U.innerRadius,L=U.outerRadius;return b.cloneElement(P,{polarAngles:Array.isArray(C)?C:ha(U,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(I)?I:ha($,!0).map(function(H){return H.coordinate}),cx:B,cy:V,innerRadius:F,outerRadius:L,key:P.key||"polar-grid",radialLines:A})}),Ce(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,S=E.props,A=S.children,C=S.width,I=S.height,N=E.props.margin||{},k=C-(N.left||0)-(N.right||0),R=Eq({children:A,formattedGraphicalItems:P,legendWidth:k,legendContent:u});if(!R)return null;var $=R.item,U=DF(R,w6e);return b.cloneElement($,Q(Q({},U),{},{chartWidth:C,chartHeight:I,margin:N,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ce(E,"renderTooltip",function(){var P,S=E.props,A=S.children,C=S.accessibilityLayer,I=Ur(A,zr);if(!I)return null;var N=E.state,k=N.isTooltipActive,R=N.activeCoordinate,$=N.activePayload,U=N.activeLabel,B=N.offset,V=(P=I.props.active)!==null&&P!==void 0?P:k;return b.cloneElement(I,{viewBox:Q(Q({},B),{},{x:B.left,y:B.top}),active:V,label:U,payload:V?$:[],coordinate:R,accessibilityLayer:C})}),Ce(E,"renderBrush",function(P){var S=E.props,A=S.margin,C=S.data,I=E.state,N=I.offset,k=I.dataStartIndex,R=I.dataEndIndex,$=I.updateId;return b.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Uy(E.handleBrushChange,P.props.onChange),data:C,x:ce(P.props.x)?P.props.x:N.left,y:ce(P.props.y)?P.props.y:N.top+N.height+N.brushBottom-(A.bottom||0),width:ce(P.props.width)?P.props.width:N.width,startIndex:k,endIndex:R,updateId:"brush-".concat($)})}),Ce(E,"renderReferenceElement",function(P,S,A){if(!P)return null;var C=E,I=C.clipPathId,N=E.state,k=N.xAxisMap,R=N.yAxisMap,$=N.offset,U=P.type.defaultProps||{},B=P.props,V=B.xAxisId,F=V===void 0?U.xAxisId:V,L=B.yAxisId,H=L===void 0?U.yAxisId:L;return b.cloneElement(P,{key:P.key||"".concat(S,"-").concat(A),xAxis:k[F],yAxis:R[H],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:I})}),Ce(E,"renderActivePoints",function(P){var S=P.item,A=P.activePoint,C=P.basePoint,I=P.childIndex,N=P.isRange,k=[],R=S.props.key,$=S.item.type.defaultProps!==void 0?Q(Q({},S.item.type.defaultProps),S.item.props):S.item.props,U=$.activeDot,B=$.dataKey,V=Q(Q({index:I,dataKey:B,cx:A.x,cy:A.y,r:4,fill:oI(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},De(U,!1)),Dx(U));return k.push(x.renderActiveDot(U,V,"".concat(R,"-activePoint-").concat(I))),C?k.push(x.renderActiveDot(U,Q(Q({},V),{},{cx:C.x,cy:C.y}),"".concat(R,"-basePoint-").concat(I))):N&&k.push(null),k}),Ce(E,"renderGraphicChild",function(P,S,A){var C=E.filterFormatItem(P,S,A);if(!C)return null;var I=E.getTooltipEventType(),N=E.state,k=N.isTooltipActive,R=N.tooltipAxis,$=N.activeTooltipIndex,U=N.activeLabel,B=E.props.children,V=Ur(B,zr),F=C.props,L=F.points,H=F.isRange,z=F.baseLine,W=C.item.type.defaultProps!==void 0?Q(Q({},C.item.type.defaultProps),C.item.props):C.item.props,K=W.activeDot,re=W.hide,de=W.activeBar,be=W.activeShape,oe=!!(!re&&k&&V&&(K||de||be)),Pe={};I!=="axis"&&V&&V.props.trigger==="click"?Pe={onClick:Uy(E.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(Pe={onMouseLeave:Uy(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Uy(E.handleItemMouseEnter,P.props.onMouseEnter)});var ie=b.cloneElement(P,Q(Q({},C.props),Pe));function ae(ri){return typeof R.dataKey=="function"?R.dataKey(ri.payload):null}if(oe)if($>=0){var ue,G;if(R.dataKey&&!R.allowDuplicatedCategory){var je=typeof R.dataKey=="function"?ae:"payload.".concat(R.dataKey.toString());ue=Mx(L,je,U),G=H&&z&&Mx(z,je,U)}else ue=L==null?void 0:L[$],G=H&&z&&z[$];if(be||de){var Ae=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[b.cloneElement(P,Q(Q(Q({},C.props),Pe),{},{activeIndex:Ae})),null,null]}if(!Me(ue))return[ie].concat(df(E.renderActivePoints({item:C,activePoint:ue,basePoint:G,childIndex:$,isRange:H})))}else{var ot,at=(ot=E.getItemByXY(E.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:ie},kt=at.graphicalItem,Ln=kt.item,Fn=Ln===void 0?P:Ln,ji=kt.childIndex,Vn=Q(Q(Q({},C.props),Pe),{},{activeIndex:ji});return[b.cloneElement(Fn,Vn),null,null]}return H?[ie,null,null]:[ie,null]}),Ce(E,"renderCustomized",function(P,S,A){return b.cloneElement(P,Q(Q({key:"recharts-customized-".concat(A)},E.props),E.state))}),Ce(E,"renderMap",{CartesianGrid:{handler:Ky,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Ky},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Ky},YAxis:{handler:Ky},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:ou("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=E7(E.triggeredAfterMouseMove,(T=w.throttleDelay)!==null&&T!==void 0?T:1e3/60),E.state={},E}return O6e(x,v),C6e(x,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,E=_.data,P=_.height,S=_.layout,A=Ur(T,zr);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,N=FA(this.state,E,C,I),k=this.state.tooltipTicks[C].coordinate,R=(this.state.offset.top+P)/2,$=S==="horizontal",U=$?{x:k,y:R}:{y:k,x:R},B=this.state.formattedGraphicalItems.find(function(F){var L=F.item;return L.type.name==="Scatter"});B&&(U=Q(Q({},U),B.props.points[C].tooltipPosition),N=B.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:I,activePayload:N,activeCoordinate:U};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(_){pT([Ur(_.children,zr)],[Ur(this.props.children,zr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ur(this.props.children,zr);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,E=T.getBoundingClientRect(),P=eOe(E),S={chartX:Math.round(_.pageX-P.left),chartY:Math.round(_.pageY-P.top)},A=E.width/T.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,A);if(!C)return null;var I=this.state,N=I.xAxisMap,k=I.yAxisMap,R=this.getTooltipEventType(),$=LF(this.state,this.props.data,this.props.layout,C);if(R!=="axis"&&N&&k){var U=bs(N).scale,B=bs(k).scale,V=U&&U.invert?U.invert(S.chartX):null,F=B&&B.invert?B.invert(S.chartY):null;return Q(Q({},S),{},{xValue:V,yValue:F},$)}return $?Q(Q({},S),$):null}},{key:"inRange",value:function(_,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=_/E,A=T/E;if(P==="horizontal"||P==="vertical"){var C=this.state.offset,I=S>=C.left&&S<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return I?{x:S,y:A}:null}var N=this.state,k=N.angleAxisMap,R=N.radiusAxisMap;if(k&&R){var $=bs(k);return mL({x:S,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),E=Ur(_,zr),P={};E&&T==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Dx(this.props,this.handleOuterEvent);return Q(Q({},S),P)}},{key:"addListener",value:function(){oS.on(aS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oS.removeListener(aS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,E){for(var P=this.state.formattedGraphicalItems,S=0,A=P.length;S<A;S++){var C=P[S];if(C.item===_||C.props.key===_.key||T===va(C.item.type)&&E===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,E=T.left,P=T.top,S=T.height,A=T.width;return D.createElement("defs",null,D.createElement("clipPath",{id:_},D.createElement("rect",{x:E,y:P,height:S,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,E){var P=MF(E,2),S=P[0],A=P[1];return Q(Q({},T),{},Ce({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,E){var P=MF(E,2),S=P[0],A=P[1];return Q(Q({},T),{},Ce({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,E=T.formattedGraphicalItems,P=T.activeItem;if(E&&E.length)for(var S=0,A=E.length;S<A;S++){var C=E[S],I=C.props,N=C.item,k=N.type.defaultProps!==void 0?Q(Q({},N.type.defaultProps),N.props):N.props,R=va(N.type);if(R==="Bar"){var $=(I.data||[]).find(function(F){return DFe(_,F)});if($)return{graphicalItem:C,payload:$}}else if(R==="RadialBar"){var U=(I.data||[]).find(function(F){return mL(_,F)});if(U)return{graphicalItem:C,payload:U}}else if(G0(C,P)||Y0(C,P)||Fm(C,P)){var B=L4e({graphicalItem:C,activeTooltipItem:P,itemData:k.data}),V=k.activeIndex===void 0?B:k.activeIndex;return{graphicalItem:Q(Q({},C),{},{childIndex:V}),payload:Fm(C,P)?k.data[B]:C.props.data[B]}}}return null}},{key:"render",value:function(){var _=this;if(!aD(this))return null;var T=this.props,E=T.children,P=T.className,S=T.width,A=T.height,C=T.style,I=T.compact,N=T.title,k=T.desc,R=DF(T,_6e),$=De(R,!1);if(I)return D.createElement(hF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(gT,qu({},$,{width:S,height:A,title:N,desc:k}),this.renderClipPath(),lD(E,this.renderMap)));if(this.props.accessibilityLayer){var U,B;$.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,$.role=(B=this.props.role)!==null&&B!==void 0?B:"application",$.onKeyDown=function(F){_.accessibilityManager.keyboardEvent(F)},$.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return D.createElement(hF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",qu({className:We("recharts-wrapper",P),style:Q({position:"relative",cursor:"default",width:S,height:A},C)},V,{ref:function(L){_.container=L}}),D.createElement(gT,qu({},$,{width:S,height:A,title:N,desc:k,style:F6e}),this.renderClipPath(),lD(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ce(y,"displayName",n),Ce(y,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ce(y,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,_=v.data,T=v.children,E=v.width,P=v.height,S=v.layout,A=v.stackOffset,C=v.margin,I=x.dataStartIndex,N=x.dataEndIndex;if(x.updateId===void 0){var k=FF(v);return Q(Q(Q({},k),{},{updateId:0},p(Q(Q({props:v},k),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:P,prevLayout:S,prevStackOffset:A,prevMargin:C,prevChildren:T})}if(w!==x.prevDataKey||_!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||S!==x.prevLayout||A!==x.prevStackOffset||!ad(C,x.prevMargin)){var R=FF(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},U=Q(Q({},LF(x,_,S)),{},{updateId:x.updateId+1}),B=Q(Q(Q({},R),$),U);return Q(Q(Q({},B),p(Q({props:v},B),x)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:P,prevLayout:S,prevStackOffset:A,prevMargin:C,prevChildren:T})}if(!pT(T,x.prevChildren)){var V,F,L,H,z=Ur(T,Qd),W=z&&(V=(F=z.props)===null||F===void 0?void 0:F.startIndex)!==null&&V!==void 0?V:I,K=z&&(L=(H=z.props)===null||H===void 0?void 0:H.endIndex)!==null&&L!==void 0?L:N,re=W!==I||K!==N,de=!Me(_),be=de&&!re?x.updateId:x.updateId+1;return Q(Q({updateId:be},p(Q(Q({props:v},x),{},{updateId:be,dataStartIndex:W,dataEndIndex:K}),x)),{},{prevChildren:T,dataStartIndex:W,dataEndIndex:K})}return null}),Ce(y,"renderActiveDot",function(v,x,w){var _;return b.isValidElement(v)?_=b.cloneElement(v,x):Le(v)?_=v(x):_=D.createElement(K0,x),D.createElement(st,{className:"recharts-active-dot",key:w},_)});var g=b.forwardRef(function(x,w){return D.createElement(y,qu({},x,{ref:w}))});return g.displayName=y.displayName,g},WK=yI({chartName:"LineChart",GraphicalChild:Fo,axisComponents:[{axisType:"xAxis",AxisComp:Ya},{axisType:"yAxis",AxisComp:Vo}],formatAxisMap:sI}),Y6e=yI({chartName:"BarChart",GraphicalChild:Ga,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ya},{axisType:"yAxis",AxisComp:Vo}],formatAxisMap:sI}),X6e=yI({chartName:"ComposedChart",GraphicalChild:[Fo,Il,Ga,r_],axisComponents:[{axisType:"xAxis",AxisComp:Ya},{axisType:"yAxis",AxisComp:Vo},{axisType:"zAxis",AxisComp:n_}],formatAxisMap:sI});const Q6e=()=>{var A;const{plan:t}=u0(),e=(A=Be.currentUser)==null?void 0:A.uid,[n,r]=b.useState(new Date),i=ar(n,"yyyy-MM-dd"),[o,a]=b.useState({calories:0,protein_g:0,carbs_g:0,fat_g:0}),[s,c]=b.useState({calories:"",protein_g:"",carbs_g:"",fat_g:""}),[u,d]=b.useState([]),[f,h]=b.useState(null),[p,y]=b.useState(!1),[g,v]=b.useState(!1);b.useEffect(()=>{e&&(async()=>{const C=await ya(Nt(nt,"users",e,"nutritionLogs",i));C.exists()?a({calories:C.data().calories||0,protein_g:C.data().protein_g||0,carbs_g:C.data().carbs_g||0,fat_g:C.data().fat_g||0}):a({calories:0,protein_g:0,carbs_g:0,fat_g:0})})()},[e,i]);async function x(){if(!e)return;const C=Number(s.calories)||0,I=Number(s.protein_g)||0,N=Number(s.carbs_g)||0,k=Number(s.fat_g)||0,R={calories:o.calories+C,protein_g:o.protein_g+I,carbs_g:o.carbs_g+N,fat_g:o.fat_g+k};a(R);const $=Nt(nt,"users",e,"nutritionLogs",i);await _l($,{...R,updatedAt:ul()},{merge:!0}),c({calories:"",protein_g:"",carbs_g:"",fat_g:""}),v(!1),await w()}async function w(){if(!e)return;const C=[];for(let k=6;k>=0;k--){const R=ar(Tv(new Date,k),"yyyy-MM-dd"),$=await ya(Nt(nt,"users",e,"nutritionLogs",R));C.push({date:R,calories:$.exists()&&$.data().calories||0})}d(C);const I=ar(Tv(new Date,1),"yyyy-MM-dd"),N=await ya(Nt(nt,"users",e,"healthDaily",I));N.exists()&&h(N.data())}b.useEffect(()=>{w().catch(()=>{})},[e]);const _=o.calories||0,T=(t==null?void 0:t.target_kcal)||0,E=p?T+((f==null?void 0:f.activeEnergyKcal)||0):T,P=T>0?Math.min(_/E*100,100):0,S=ar(n,"yyyy-MM-dd")===ar(new Date,"yyyy-MM-dd");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Nutrition Tracker"}),(f==null?void 0:f.activeEnergyKcal)&&l.jsxs(hr,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx(SJ,{className:"h-3 w-3"}),"Yesterday: ",f.activeEnergyKcal," kcal burned"]})]}),l.jsx(te,{children:l.jsx(ne,{className:"pt-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(Tv(n,1)),children:l.jsx(mJ,{className:"h-4 w-4"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold",children:S?"Today":ar(n,"MMM dd, yyyy")}),l.jsx("div",{className:"text-sm text-muted-foreground",children:ar(n,"EEEE")})]}),l.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(iH(n,1)),disabled:ar(n,"yyyy-MM-dd")>=ar(new Date,"yyyy-MM-dd"),children:l.jsx(np,{className:"h-4 w-4"})})]})})}),l.jsxs(te,{children:[l.jsx(he,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(zP,{className:"h-5 w-5 text-primary"}),"Daily Progress"]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx(iN,{checked:p,onCheckedChange:y}),"Activity offset"]})]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[_," / ",E," calories"]}),l.jsxs("span",{children:[Math.round(P),"%"]})]}),l.jsx(f0,{value:P})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-primary",children:[o.protein_g,"g"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Protein"}),t&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Goal: ",t.protein_g,"g"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-accent",children:[o.fat_g,"g"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Fat"}),t&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Goal: ",t.fat_g,"g"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-semibold text-warning",children:[o.carbs_g,"g"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Carbs"}),t&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Goal: ",t.carbs_g,"g"]})]})]}),l.jsxs(Of,{open:g,onOpenChange:v,children:[l.jsx(l0,{asChild:!0,children:l.jsxs(X,{className:"w-full",children:[l.jsx(Td,{className:"mr-2 h-4 w-4"}),"Add Meal"]})}),l.jsxs(tu,{children:[l.jsx(nu,{children:l.jsx(ru,{children:"Add a meal"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Calories"}),l.jsx(Ze,{type:"number",value:s.calories,onChange:C=>c({...s,calories:C.target.value}),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Protein (g)"}),l.jsx(Ze,{type:"number",value:s.protein_g,onChange:C=>c({...s,protein_g:C.target.value}),placeholder:"0"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Carbs (g)"}),l.jsx(Ze,{type:"number",value:s.carbs_g,onChange:C=>c({...s,carbs_g:C.target.value}),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Fat (g)"}),l.jsx(Ze,{type:"number",value:s.fat_g,onChange:C=>c({...s,fat_g:C.target.value}),placeholder:"0"})]})]}),l.jsxs(X,{onClick:x,className:"w-full",children:["Add to ",S?"Today":ar(n,"MMM dd")]})]})]})]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"7-Day Overview"})}),l.jsx(ne,{children:l.jsx("div",{className:"h-64",children:l.jsx($0,{width:"100%",height:"100%",children:l.jsxs(WK,{data:u,children:[l.jsx(Ya,{dataKey:"date",tickFormatter:C=>ar(new Date(C),"MMM dd"),fontSize:12}),l.jsx(Vo,{fontSize:12}),l.jsx(zr,{labelFormatter:C=>ar(new Date(C),"MMM dd, yyyy"),formatter:(C,I)=>[`${C} kcal`,"Calories"]}),l.jsx(Fo,{type:"monotone",dataKey:"calories",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4}}),T>0&&l.jsx(Fo,{type:"monotone",dataKey:()=>T,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"5 5",dot:!1})]})})})})]})]})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const J6e=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(o,a)=>{n.platforms.set(o,a)},i=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=r,n.setPlatform=i,n},Z6e=t=>t.CapacitorPlatforms=J6e(t),HK=Z6e(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});HK.addPlatform;HK.setPlatform;var ff;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ff||(ff={}));class lS extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const e5e=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},t5e=t=>{var e,n,r,i,o;const a=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},c=s.Plugins=s.Plugins||{},u=t.CapacitorPlatforms,d=()=>a!==null?a.name:e5e(t),f=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,h=()=>f()!=="web",p=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,y=S=>{const A=T.get(S);return!!(A!=null&&A.platforms.has(f())||x(S))},g=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||y,v=S=>{var A;return(A=s.PluginHeaders)===null||A===void 0?void 0:A.find(C=>C.name===S)},x=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||v,w=S=>t.console.error(S),_=(S,A,C)=>Promise.reject(`${C} does not have an implementation of "${A}".`),T=new Map,E=(S,A={})=>{const C=T.get(S);if(C)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),C.proxy;const I=f(),N=x(S);let k;const R=async()=>(!k&&I in A?k=typeof A[I]=="function"?k=await A[I]():k=A[I]:a!==null&&!k&&"web"in A&&(k=typeof A.web=="function"?k=await A.web():k=A.web),k),$=(H,z)=>{var W,K;if(N){const re=N==null?void 0:N.methods.find(de=>z===de.name);if(re)return re.rtype==="promise"?de=>s.nativePromise(S,z.toString(),de):(de,be)=>s.nativeCallback(S,z.toString(),de,be);if(H)return(W=H[z])===null||W===void 0?void 0:W.bind(H)}else{if(H)return(K=H[z])===null||K===void 0?void 0:K.bind(H);throw new lS(`"${S}" plugin is not implemented on ${I}`,ff.Unimplemented)}},U=H=>{let z;const W=(...K)=>{const re=R().then(de=>{const be=$(de,H);if(be){const oe=be(...K);return z=oe==null?void 0:oe.remove,oe}else throw new lS(`"${S}.${H}()" is not implemented on ${I}`,ff.Unimplemented)});return H==="addListener"&&(re.remove=async()=>z()),re};return W.toString=()=>`${H.toString()}() { [capacitor code] }`,Object.defineProperty(W,"name",{value:H,writable:!1,configurable:!1}),W},B=U("addListener"),V=U("removeListener"),F=(H,z)=>{const W=B({eventName:H},z),K=async()=>{const de=await W;V({eventName:H,callbackId:de},z)},re=new Promise(de=>W.then(()=>de({remove:K})));return re.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},re},L=new Proxy({},{get(H,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?F:B;case"removeListener":return V;default:return U(z)}}});return c[S]=L,T.set(S,{name:S,proxy:L,platforms:new Set([...Object.keys(A),...N?[I]:[]])}),L},P=((o=u==null?void 0:u.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||E;return s.convertFileSrc||(s.convertFileSrc=S=>S),s.getPlatform=f,s.handleError=w,s.isNativePlatform=p,s.isPluginAvailable=g,s.pluginMethodNoop=_,s.registerPlugin=P,s.Exception=lS,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},n5e=t=>t.Capacitor=t5e(t),Da=n5e(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),qK=Da.registerPlugin;Da.Plugins;class KK{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(n),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Da.Exception(e,ff.Unimplemented)}unavailable(e="not available"){return new Da.Exception(e,ff.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const BF=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),UF=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class r5e extends KK{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=UF(i).trim(),o=UF(o).trim(),n[i]=o}),n}async setCookie(e){try{const n=BF(e.key),r=BF(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${o}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}qK("CapacitorCookies",{web:()=>new r5e});const i5e=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),o5e=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,o,a)=>(i[o]=t[e[a]],i),{})},a5e=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[o,a]=i;let s,c;return Array.isArray(a)?(c="",a.forEach(u=>{s=e?encodeURIComponent(u):u,c+=`${o}=${s}&`}),c.slice(0,-1)):(s=e?encodeURIComponent(a):a,c=`${o}=${s}`),`${r}&${c}`},"").substr(1):null,s5e=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=o5e(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[a,s]of Object.entries(t.data||{}))o.set(a,s);n.body=o.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((s,c)=>{o.append(c,s)});else for(const s of Object.keys(t.data))o.append(s,t.data[s]);n.body=o;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class l5e extends KK{async request(e){const n=s5e(e,e.webFetchExtra),r=a5e(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,o=await fetch(i,n),a=o.headers.get("content-type")||"";let{responseType:s="text"}=o.ok?e:{};a.includes("application/json")&&(s="json");let c,u;switch(s){case"arraybuffer":case"blob":u=await o.blob(),c=await i5e(u);break;case"json":c=await o.json();break;case"document":case"text":default:c=await o.text()}const d={};return o.headers.forEach((f,h)=>{d[h]=f}),{data:c,headers:d,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}qK("CapacitorHttp",{web:()=>new l5e});class c5e{constructor(){gu(this,"platform","web")}async canImport(){return!1}async requestPermissions(){return!1}async getDailySummary(e){return{source:"mock"}}}var a4,s4;const Gy=(s4=(a4=window==null?void 0:window.Capacitor)==null?void 0:a4.Plugins)==null?void 0:s4.HealthKit;class u5e{constructor(){gu(this,"platform","ios")}async canImport(){return Da.getPlatform()==="ios"}async requestPermissions(){if(Da.getPlatform()!=="ios"||!Gy)return!1;try{return await Gy.requestAuthorization({read:["HKQuantityTypeIdentifierActiveEnergyBurned","HKQuantityTypeIdentifierStepCount","HKQuantityTypeIdentifierRestingHeartRate"],write:[]}),!0}catch{return!1}}async getDailySummary(e){if(!Gy)return{source:"healthkit"};try{const n=await Gy.queryStatistics({date:e});return{source:"healthkit",activeEnergyKcal:n.activeEnergyBurned??void 0,steps:n.stepCount??void 0,restingHeartRate:n.restingHeartRate??void 0}}catch{return{source:"healthkit"}}}}var l4,c4;const Yy=(c4=(l4=window==null?void 0:window.Capacitor)==null?void 0:l4.Plugins)==null?void 0:c4.HealthConnect;class d5e{constructor(){gu(this,"platform","android")}async canImport(){return Da.getPlatform()==="android"}async requestPermissions(){if(Da.getPlatform()!=="android"||!Yy)return!1;try{return await Yy.requestPermission({read:["activeEnergyBurned","steps","restingHeartRate"]}),!0}catch{return!1}}async getDailySummary(e){if(!Yy)return{source:"healthconnect"};try{const n=await Yy.readDailyTotals({date:e});return{source:"healthconnect",activeEnergyKcal:n.activeEnergyBurned??void 0,steps:n.steps??void 0,restingHeartRate:n.restingHeartRate??void 0}}catch{return{source:"healthconnect"}}}}function GK(){const t=Da.getPlatform(),e=b.useMemo(()=>t==="ios"?new u5e:t==="android"?new d5e:new c5e,[t]);async function n(){return e.requestPermissions()}async function r(i){var s;const o=await e.getDailySummary(i),a=(s=Be.currentUser)==null?void 0:s.uid;if(a){const c=Nt(nt,"users",a,"healthDaily",i);await _l(c,{...o,syncedAt:ul()},{merge:!0})}return o}return{platform:t,connect:n,syncDay:r}}const f5e=()=>{const{platform:t,connect:e,syncDay:n}=GK(),[r,i]=b.useState(null),[o,a]=b.useState(!1),{toast:s}=$P();async function c(){a(!0);try{const h=await e();s(h?{title:"Connected successfully",description:`Health data connection established with ${t==="ios"?"Apple Health":"Google Fit"}`}:{title:"Connection failed",description:"Please ensure you have the health app installed and try again.",variant:"destructive"})}catch{s({title:"Connection error",description:"Something went wrong. Please try again.",variant:"destructive"})}a(!1)}async function u(h){const p=ar(Tv(new Date,h),"yyyy-MM-dd");try{const y=await n(p);i({date:p,...y}),s({title:"Sync complete",description:`Imported data for ${p}`})}catch{s({title:"Sync failed",description:"Could not sync health data. Please try again.",variant:"destructive"})}}const f=t==="ios"?{name:"Apple Health",icon:l.jsx(aE,{className:"h-5 w-5"}),description:"Connect with Apple HealthKit to automatically import your activity data.",features:["Active Energy (calories burned)","Steps","Resting Heart Rate"]}:t==="android"?{name:"Google Fit",icon:l.jsx(dJ,{className:"h-5 w-5"}),description:"Connect with Google Fit to automatically import your fitness data.",features:["Active Energy (calories burned)","Steps","Heart Rate"]}:{name:"Health Integration",icon:l.jsx(jJ,{className:"h-5 w-5"}),description:"Health data sync is available on mobile devices.",features:["Install our mobile app to connect with health platforms"]};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Health Integration"}),l.jsx("p",{className:"text-muted-foreground",children:"Sync your activity data to enhance your nutrition tracking"})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[f.icon,f.name]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:f.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:"What we import:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:f.features.map((h,p)=>l.jsx(hr,{variant:"secondary",className:"text-xs",children:h},p))})]}),l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg",children:[l.jsx(FJ,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("p",{className:"font-medium",children:"Privacy first"}),l.jsx("p",{children:"Your health data stays on your device. We only access what you explicitly authorize."})]})]}),t!=="web"?l.jsx(X,{onClick:c,disabled:o,className:"w-full",children:o?"Connecting...":`Connect ${f.name}`}):l.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[l.jsx(aE,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),l.jsx("p",{className:"text-sm font-medium",children:"Mobile Required"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Install our mobile app to connect with health platforms"})]})]})]}),t!=="web"&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(AJ,{className:"h-5 w-5"}),"Manual Sync"]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manually sync your latest health data when needed."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{variant:"secondary",onClick:()=>u(1),className:"flex-1",children:"Sync Yesterday"}),l.jsx(X,{variant:"secondary",onClick:()=>u(0),className:"flex-1",children:"Sync Today"})]}),r&&l.jsx("div",{className:"p-3 bg-primary/5 rounded-lg",children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:["Last sync: ",ar(new Date(r.date),"MMM dd, yyyy")]}),l.jsxs("div",{className:"text-muted-foreground",children:[r.activeEnergyKcal?`${r.activeEnergyKcal} kcal burned`:"No activity data",r.steps&&`  ${r.steps} steps`]})]})})]})]})]})},h5e=()=>l.jsx("main",{className:"p-6 max-w-md mx-auto",children:l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Units"})}),l.jsxs(ne,{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Units default to US (lb, ft/in) for v1."}),l.jsx("p",{children:"We'll add unit customization options in a future update."})]})]})}),p5e=()=>{const{profile:t,plan:e}=u0();return l.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:JSON.stringify({profile:t,plan:e},null,2)})},m5e=()=>{var s;const{platform:t,connect:e}=GK(),[n,r]=b.useState(null),[i,o]=b.useState(null),a=(s=Be.currentUser)==null?void 0:s.uid;return b.useEffect(()=>{e().then(c=>r(c))},[]),b.useEffect(()=>{if(!a)return;const c=ar(new Date,"yyyy-MM-dd");ya(Nt(nt,"users",a,"healthDaily",c)).then(u=>{u.exists()&&o(u.data())})},[a]),l.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:JSON.stringify({platform:t,permission:n,last:i},null,2)})},g5e="https://us-central1-mybodyscan-f3daf.cloudfunctions.net";function y5e(t,e=0){const n=10**e;return Math.round(t*n)/n}function vI({protein:t=0,carbs:e=0,fat:n=0,alcohol:r=0,calories:i}){const o=y5e(t*4+e*4+n*9+r*7,0);return typeof i=="number"&&Math.abs(i-o)<=5?{calories:i,reconciled:!1,caloriesFromMacros:o,caloriesInput:i}:{calories:o,reconciled:i!==void 0,caloriesFromMacros:o,caloriesInput:i}}async function o_(t,e,n="POST"){var o;const r=await((o=Be.currentUser)==null?void 0:o.getIdToken());if(!r)throw new Error("auth");const i=await fetch(`${g5e}${t}`,{method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:n==="POST"?JSON.stringify(e||{}):void 0});if(!i.ok)throw new Error(await i.text());return i.json()}async function wp(t,e){if(It()){vi("demo_block",{action:"meal_add"});const n=wa[t]||a_(t),r={id:crypto.randomUUID(),...e,...vI(e)};return wa[t]=[...n,r],r}return o_("/addMeal",{dateISO:t,meal:e})}async function v5e(t,e){if(It()){const n=wa[t]||a_(t);wa[t]=n.filter(r=>r.id!==e);return}return o_("/deleteMeal",{dateISO:t,mealId:e})}async function VA(t){if(It()){const e=wa[t]||a_(t);return{totals:{calories:e.reduce((r,i)=>r+(i.calories||0),0)},meals:e}}return o_("/getDailyLog",{dateISO:t})}async function YK(t,e){const n=new Date().toISOString().slice(0,10);if(It()){const o=new Date(n),a=[];for(let s=t-1;s>=0;s--){const c=new Date(o);c.setDate(o.getDate()-s);const u=c.toISOString().slice(0,10),f=(wa[u]||a_(u)).reduce((h,p)=>{const y=vI(p);return h.calories+=y.calories||0,h.protein+=p.protein||0,h.carbs+=p.carbs||0,h.fat+=p.fat||0,h.alcohol+=p.alcohol||0,h},{calories:0,protein:0,carbs:0,fat:0,alcohol:0});a.push({date:u,totals:f})}return a}const r=await o_("/getNutritionHistory",{range:t,anchorDateISO:n});return(Array.isArray(r==null?void 0:r.days)?r.days:[]).map(o=>{var a,s,c,u,d;return{date:o.date,totals:{calories:Number((a=o==null?void 0:o.totals)==null?void 0:a.calories)||0,protein:Number((s=o==null?void 0:o.totals)==null?void 0:s.protein)||0,carbs:Number((c=o==null?void 0:o.totals)==null?void 0:c.carbs)||0,fat:Number((u=o==null?void 0:o.totals)==null?void 0:u.fat)||0,alcohol:Number((d=o==null?void 0:o.totals)==null?void 0:d.alcohol)||0}}})}const wa={};function a_(t){if(!wa[t]){const e=[{id:"1",name:"Oatmeal",protein:6,carbs:27,fat:3},{id:"2",name:"Chicken Salad",protein:30,carbs:10,fat:8},{id:"3",name:"Greek Yogurt",protein:17,carbs:9,fat:0}].map(n=>({...n,...vI(n)}));wa[t]=e}return wa[t]}const x5e="https://us-central1-mybodyscan-f3daf.cloudfunctions.net";async function xI(t,e){var i;const n=await((i=Be.currentUser)==null?void 0:i.getIdToken());if(!n)throw new Error("auth");const r=await fetch(`${x5e}${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(e||{})});if(!r.ok)throw new Error(await r.text());return r.json()}async function b5e(t){return It()?(vi("demo_block",{action:"workout_generate"}),s_):xI("/generateWorkoutPlan",{prefs:t})}async function bI(){return It()?s_:xI("/getPlan",{})}async function w5e(t,e,n,r){if(It()){vi("demo_block",{action:"workout_done"});const i=s_.days[e],o=i.exercises.find(c=>c.id===n);o&&(o.done=r);const a=i.exercises.filter(c=>c.done).length;return{ratio:i.exercises.length?a/i.exercises.length:0}}return xI("/markExerciseDone",{planId:t,dayIndex:e,exerciseId:n,done:r})}async function _5e(t){var f,h,p;if(It()){const y=s_.days[0],g=y.exercises.filter(v=>v.done).length;return y.exercises.length?g/y.exercises.length:0}const e=(f=Be.currentUser)==null?void 0:f.uid;if(!e)throw new Error("auth");const n=wl(nt,`users/${e}/workoutPlans/${t}/progress`),r=await pC(n);let i=0,o=0;const a=new Date,s=a.getDay(),c=new Date(a);c.setDate(a.getDate()-(s+6)%7);const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=await bI();for(let y=0;y<7;y++){const g=new Date(c);g.setDate(c.getDate()+y);const v=g.toISOString().slice(0,10),x=r.docs.find(_=>_.id===v),w=(h=d==null?void 0:d.days)==null?void 0:h.find(_=>_.day===u[g.getDay()]);w&&(i+=w.exercises.length,x&&(o+=(((p=x.data())==null?void 0:p.completed)||[]).length))}return i?o/i:0}const s_={id:"demo",days:[{day:"Mon",exercises:[{id:"e1",name:"Push Ups",sets:3,reps:10,done:!0},{id:"e2",name:"Squats",sets:3,reps:12,done:!1},{id:"e3",name:"Lunges",sets:3,reps:12,done:!1},{id:"e4",name:"Plank",sets:3,reps:60,done:!1},{id:"e5",name:"Burpees",sets:3,reps:10,done:!1}]},{day:"Tue",exercises:[]},{day:"Wed",exercises:[]},{day:"Thu",exercises:[]},{day:"Fri",exercises:[]},{day:"Sat",exercises:[]},{day:"Sun",exercises:[]}]};function S5e(){const t=Gt(),{t:e}=Uo(),n=new Date().toISOString().slice(0,10),[r,i]=b.useState({calories:0}),[o,a]=b.useState({done:0,total:0});b.useEffect(()=>{VA(n).then(d=>i(d.totals)),bI().then(async d=>{var p,y,g;if(!d)return;const f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date().getDay()],h=d.days.findIndex(v=>v.day===f);if(h>=0){const v=(p=Be.currentUser)==null?void 0:p.uid;if(v){const x=await ya(Nt(nt,`users/${v}/workoutPlans/${d.id}/progress/${n}`)),w=x.exists()&&((g=(y=x.data())==null?void 0:y.completed)==null?void 0:g.length)||0;a({done:w,total:d.days[h].exercises.length})}}})},[n]);const s=async()=>{var d;try{vi("start_scan_click"),await eN();const f=await $8();se({title:"Credit used",description:"Starting scan..."}),t("/scan",{state:f})}catch(f){(f==null?void 0:f.message)==="demo-blocked"||((d=f==null?void 0:f.message)!=null&&d.includes("No credits")?(se({title:"No credits available",description:"Purchase credits to continue scanning.",variant:"destructive"}),t("/plans")):se({title:"Error",description:(f==null?void 0:f.message)||"Failed to start scan",variant:"destructive"}))}},c=()=>{vi("log_meal_click"),t("/meals")},u=()=>{vi("log_workout_click"),t("/workouts")};return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Today - MyBodyScan",description:"Your daily health and fitness plan"}),l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(If,{}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:e("today.title")}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{className:"text-lg",children:e("today.workout")})}),l.jsx(ne,{children:l.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.done," of ",o.total," exercises completed today"]})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{className:"text-lg",children:e("today.meals")})}),l.jsxs(ne,{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Target: 2,200 calories"}),l.jsxs("span",{className:"text-sm font-medium",children:[r.calories," / 2,200"]})]}),l.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min((r.calories||0)/2200*100,100)}%`}})}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.max(0,2200-(r.calories||0))," calories remaining"]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{className:"text-lg",children:e("today.coachingTip")})}),l.jsx(ne,{children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Consistency beats perfection. Small daily actions compound into significant results over time."})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx(X,{onClick:s,className:"w-full",children:e("today.scan")}),l.jsx(X,{variant:"secondary",onClick:c,className:"w-full",children:e("today.logMeal")}),l.jsx(X,{variant:"secondary",onClick:u,className:"w-full",children:e("today.logWorkout")})]})]}),l.jsx(nr,{})]})}var l_="Checkbox",[E5e]=Dr(l_),[T5e,wI]=E5e(l_);function A5e(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:a,name:s,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,p]=Aa({prop:n,defaultProp:i??!1,onChange:c,caller:l_}),[y,g]=b.useState(null),[v,x]=b.useState(null),w=b.useRef(!1),_=y?!!a||!!y.closest("form"):!0,T={checked:h,disabled:o,setChecked:p,control:y,setControl:g,name:s,form:a,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Ys(i)?!1:i,isFormControl:_,bubbleInput:v,setBubbleInput:x};return l.jsx(T5e,{scope:e,...T,children:P5e(f)?f(T):r})}var XK="CheckboxTrigger",QK=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:a,disabled:s,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=wI(XK,t),g=Qe(i,d),v=b.useRef(c);return b.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const w=()=>f(v.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[o,f]),l.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Ys(c)?"mixed":c,"aria-required":u,"data-state":nG(c),"data-disabled":s?"":void 0,disabled:s,value:a,...r,ref:g,onKeyDown:pe(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:pe(n,x=>{f(w=>Ys(w)?!0:!w),y&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});QK.displayName=XK;var _I=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:c,onCheckedChange:u,form:d,...f}=t;return l.jsx(A5e,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:s,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(QK,{...f,ref:e,__scopeCheckbox:n}),h&&l.jsx(tG,{__scopeCheckbox:n})]})})});_I.displayName=l_;var JK="CheckboxIndicator",ZK=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=wI(JK,n);return l.jsx(Ei,{present:r||Ys(o.checked)||o.checked===!0,children:l.jsx(_e.span,{"data-state":nG(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});ZK.displayName=JK;var eG="CheckboxBubbleInput",tG=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:s,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=wI(eG,t),y=Qe(n,p),g=nN(o),v=JP(r);b.useEffect(()=>{const w=h;if(!w)return;const _=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(_,"checked").set,P=!i.current;if(g!==o&&E){const S=new Event("click",{bubbles:P});w.indeterminate=Ys(o),E.call(w,Ys(o)?!1:o),w.dispatchEvent(S)}},[h,g,o,i]);const x=b.useRef(Ys(o)?!1:o);return l.jsx(_e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:s,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});tG.displayName=eG;function P5e(t){return typeof t=="function"}function Ys(t){return t==="indeterminate"}function nG(t){return Ys(t)?"indeterminate":t?"checked":"unchecked"}const cd=b.forwardRef(({className:t,...e},n)=>l.jsx(_I,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(ZK,{className:we("flex items-center justify-center text-current"),children:l.jsx(ng,{className:"h-4 w-4"})})}));cd.displayName=_I.displayName;function kh({title:t,description:e,className:n,children:r,...i}){return l.jsxs("section",{className:we("space-y-4",n),...i,children:[(t||e)&&l.jsxs("div",{className:"space-y-1",children:[t&&l.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:t}),e&&l.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),l.jsx("div",{children:r})]})}function j5e(){const[t,e]=b.useState(0),[n,r]=b.useState({}),i=Gt();function o(u){r({...n,...u})}async function a(){var d;const u=(d=hg().currentUser)==null?void 0:d.uid;if(u)try{await _l(Nt(nt,"users",u),{onboarding:{...n,complete:!0,completedAt:ul()}},{merge:!0}),se({title:"Profile complete!",description:"Welcome to MyBodyScan"}),i("/today")}catch(f){se({title:"Error saving profile",description:(f==null?void 0:f.message)||"Please try again.",variant:"destructive"})}}const s=["About You","Your Goals","Equipment & Injuries","Activity Preferences","Diet & Notifications"],c=[l.jsx(kh,{title:"Tell us about yourself",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"age",children:"Age"}),l.jsx(Ze,{id:"age",placeholder:"25",type:"number",value:n.age||"",onChange:u=>o({age:Number(u.target.value)})})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"sex",children:"Sex"}),l.jsxs(vs,{value:n.sex||"",onValueChange:u=>o({sex:u}),children:[l.jsx(ra,{children:l.jsx(xs,{placeholder:"Select sex"})}),l.jsxs(ia,{children:[l.jsx(Rt,{value:"male",children:"Male"}),l.jsx(Rt,{value:"female",children:"Female"}),l.jsx(Rt,{value:"other",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Height"}),l.jsx("div",{className:"mt-1",children:l.jsx(cN,{valueCm:n.height,onChangeCm:u=>o({height:u??void 0})})})]})]})},0),l.jsx(kh,{title:"What are your goals?",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"goal",children:"Primary Goal"}),l.jsxs(vs,{value:n.goal||"",onValueChange:u=>o({goal:u}),children:[l.jsx(ra,{children:l.jsx(xs,{placeholder:"Select your goal"})}),l.jsxs(ia,{children:[l.jsx(Rt,{value:"lose-fat",children:"Lose body fat"}),l.jsx(Rt,{value:"gain-muscle",children:"Build muscle"}),l.jsx(Rt,{value:"maintain",children:"Maintain current fitness"}),l.jsx(Rt,{value:"recomp",children:"Body recomposition"})]})]})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"timeline",children:"Timeline (months)"}),l.jsx(Ze,{id:"timeline",placeholder:"6",type:"number",value:n.timeline||"",onChange:u=>o({timeline:Number(u.target.value)})})]})]})},1),l.jsx(kh,{title:"Equipment & Health",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"equipment",children:"Available Equipment"}),l.jsxs(vs,{value:n.equipment||"",onValueChange:u=>o({equipment:u}),children:[l.jsx(ra,{children:l.jsx(xs,{placeholder:"Select equipment access"})}),l.jsxs(ia,{children:[l.jsx(Rt,{value:"gym",children:"Full gym access"}),l.jsx(Rt,{value:"home-basic",children:"Basic home equipment"}),l.jsx(Rt,{value:"bodyweight",children:"Bodyweight only"}),l.jsx(Rt,{value:"none",children:"No equipment"})]})]})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"injuries",children:"Injuries or Limitations"}),l.jsx(Ze,{id:"injuries",placeholder:"e.g., Lower back, knee issues (optional)",value:n.injuries||"",onChange:u=>o({injuries:u.target.value})})]})]})},2),l.jsx(kh,{title:"Activity preferences",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"activities",children:"Preferred Activities"}),l.jsx(Ze,{id:"activities",placeholder:"e.g., Running, weight training, yoga",value:n.activities||"",onChange:u=>o({activities:u.target.value})})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"experience",children:"Experience Level"}),l.jsxs(vs,{value:n.experience||"",onValueChange:u=>o({experience:u}),children:[l.jsx(ra,{children:l.jsx(xs,{placeholder:"Select experience level"})}),l.jsxs(ia,{children:[l.jsx(Rt,{value:"beginner",children:"Beginner (0-6 months)"}),l.jsx(Rt,{value:"intermediate",children:"Intermediate (6 months - 2 years)"}),l.jsx(Rt,{value:"advanced",children:"Advanced (2+ years)"})]})]})]})]})},3),l.jsx(kh,{title:"Diet & preferences",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"diet",children:"Diet Type"}),l.jsxs(vs,{value:n.diet||"",onValueChange:u=>o({diet:u}),children:[l.jsx(ra,{children:l.jsx(xs,{placeholder:"Select diet preference"})}),l.jsxs(ia,{children:[l.jsx(Rt,{value:"balanced",children:"Balanced"}),l.jsx(Rt,{value:"low-carb",children:"Low carb"}),l.jsx(Rt,{value:"vegetarian",children:"Vegetarian"}),l.jsx(Rt,{value:"vegan",children:"Vegan"}),l.jsx(Rt,{value:"keto",children:"Ketogenic"})]})]})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"likes",children:"Foods you enjoy"}),l.jsx(Ze,{id:"likes",placeholder:"e.g., Chicken, fish, vegetables, fruits",value:n.likes||"",onChange:u=>o({likes:u.target.value})})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(cd,{id:"notifications",checked:n.notifications||!1,onCheckedChange:u=>o({notifications:u})}),l.jsx(ze,{htmlFor:"notifications",children:"Enable scan reminders and coaching tips"})]})]})},4)];return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Setup Your Profile"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Step ",t+1," of ",c.length,": ",s[t]]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:s[t]})}),l.jsx(ne,{children:c[t]})]}),l.jsxs("div",{className:"flex gap-2",children:[t>0&&l.jsx(X,{variant:"outline",onClick:()=>e(t-1),className:"flex-1",children:"Back"}),t<c.length-1?l.jsx(X,{onClick:()=>e(t+1),className:"flex-1",children:"Next"}):l.jsx(X,{onClick:a,className:"flex-1",children:"Complete Setup"})]})]})]})}const C5e=["Good lighting - natural light works best","Full body visible from head to toe","Plain background - avoid patterns","Form-fitting clothes or minimal clothing","Stand straight with arms slightly away from body","Remove shoes and accessories"];function N5e(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),i=Gt(),{t:o}=Uo(),a=d=>{const f=Array.from(d.target.files||[]);if(f.filter(p=>!p.type.startsWith("image/")).length>0){se({title:"Invalid files",description:"Only image files are allowed",variant:"destructive"});return}e(f.slice(0,4))},s=d=>{e(t.filter((f,h)=>h!==d))},c=t.length===4,u=async()=>{if(It()){se({title:o("auth.create_account")}),i("/auth");return}if(!c){se({title:"Missing photos",description:"Please upload exactly 4 photos (front, left, right, back)",variant:"destructive"});return}r(!0);try{await eN();const d=await $8(),f=await Sye(d,t);await Eye(d.scanId,f),vi("scan_submit"),Ev("info","scan_submit",{scanId:d.scanId}),se({title:"Scan submitted successfully"}),i(`/processing/${d.scanId}`)}catch(d){(d==null?void 0:d.message)==="No credits available"?(se({title:"No scan credits",description:"Get more credits to run scans."}),i("/plans")):(d==null?void 0:d.message)!=="demo-blocked"&&se({title:"Scan failed",description:(d==null?void 0:d.message)||"Something went wrong. Please try again.",variant:"destructive"})}finally{r(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:o("scan.title"),description:"Take a new body composition scan"}),l.jsx($n,{}),l.jsx(fl,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(Fp,{className:"w-12 h-12 text-primary mx-auto"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:o("scan.newScan")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o("scan.photosRequired")})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(WJ,{className:"w-5 h-5 text-accent"}),o("scan.takePhotos")]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx(Ze,{type:"file",multiple:!0,accept:"image/*",onChange:a,className:"cursor-pointer"}),t.length>0&&l.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map((d,f)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:URL.createObjectURL(d),alt:`Photo ${f+1}`,className:"w-full h-24 object-cover rounded border"}),l.jsx("button",{onClick:()=>s(f),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1",children:l.jsx(rg,{className:"w-3 h-3"})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs p-1 text-center",children:["Front","Left","Right","Back"][f]||`Photo ${f+1}`})]},f))}),!c&&t.length>0&&l.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[4-t.length," more photos needed"]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(yJ,{className:"w-5 h-5 text-accent"}),"Preparation Checklist"]})}),l.jsx(ne,{children:l.jsx("ul",{className:"space-y-3",children:C5e.map((d,f)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm",children:[l.jsx("div",{className:"w-4 h-4 rounded-full border border-primary flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-muted-foreground",children:d})]},f))})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(X,{onClick:u,disabled:n||!c,className:"w-full h-12 text-base",children:n?"Processing...":"Start Scan"}),l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By starting a scan, you agree to our"," ",l.jsx("a",{href:"/legal/terms",className:"underline hover:text-primary",children:o("legal.terms")})," ","and"," ",l.jsx("a",{href:"/legal/privacy",className:"underline hover:text-primary",children:o("legal.privacy")})]})]})]}),l.jsx(nr,{})]})}const I5e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function k5e(){const{t}=Uo(),[e,n]=b.useState(null),[r,i]=b.useState([]),[o,a]=b.useState(0),[s,c]=b.useState(0),u=I5e[new Date().getDay()],d=new Date().toISOString().slice(0,10);b.useEffect(()=>{bI().then(async x=>{if(x){n(x),await f(x);const w=await _5e(x.id);c(w)}})},[]);async function f(x){var P,S;const w=x.days.findIndex(A=>A.day===u);if(w<0)return;const _=(P=Be.currentUser)==null?void 0:P.uid;if(!_)return;const T=await ya(Nt(nt,`users/${_}/workoutPlans/${x.id}/progress/${d}`)),E=T.exists()?((S=T.data())==null?void 0:S.completed)||[]:[];i(E),a(x.days[w].exercises.length?E.length/x.days[w].exercises.length:0)}const h=async x=>{const w=e.days.findIndex(E=>E.day===u),_=!r.includes(x),T=await w5e(e.id,w,x,_);i(_?[...r,x]:r.filter(E=>E!==x)),a(T.ratio),_&&vi("workout_mark_done",{exerciseId:x}),It()&&se({title:"Sign up to save your progress."})},p=async()=>{const x=await b5e({focus:"back"}),w={id:x.planId,days:x.days};n(w),i([]),a(0),c(0)};if(!e)return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Workouts - MyBodyScan",description:"Track your daily workout routine"}),l.jsx($n,{}),l.jsx("main",{className:"max-w-md mx-auto p-6 space-y-6",children:l.jsx(te,{children:l.jsxs(ne,{className:"p-8 text-center",children:[l.jsx(rp,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-foreground mb-4",children:"No workout plan yet"}),l.jsxs(X,{onClick:p,className:"w-full",children:[l.jsx(Td,{className:"w-4 h-4 mr-2"}),"Create my plan"]})]})})}),l.jsx(nr,{})]});const y=e.days.find(x=>x.day===u),g=r.length,v=(y==null?void 0:y.exercises.length)||0;return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Workouts - MyBodyScan",description:"Track your daily workout routine"}),l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(If,{}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(rp,{className:"w-8 h-8 text-primary mx-auto"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:t("workouts.title")}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[g," of ",v," exercises completed"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(s*100),"% this week"]})]}),l.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${o*100}%`}})}),y&&y.exercises.length>0?l.jsx("div",{className:"space-y-4",children:y.exercises.map(x=>l.jsx(te,{children:l.jsx(ne,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(cd,{id:x.id,checked:r.includes(x.id),onCheckedChange:()=>h(x.id)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-foreground",children:x.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.sets," sets  ",x.reps," reps"]})]})]})})},x.id))}):l.jsx(te,{children:l.jsxs(ne,{className:"p-8 text-center",children:[l.jsx(rp,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Rest day"})]})})]}),l.jsx(nr,{})]})}function kl(){var e;const t=(e=Be.currentUser)==null?void 0:e.uid;if(!t)throw new Error("auth");return t}function O5e(t){const e=t??kl();return Qc(wl(nt,`users/${e}/nutrition/favorites`),Jc("updatedAt","desc"))}function R5e(t){const e=t??kl();return Qc(wl(nt,`users/${e}/nutrition/templates`),Jc("updatedAt","desc"))}function rG(t){const e=kl();return eo(O5e(e),n=>{const r=[];n.forEach(i=>{const o=i.data();r.push({id:i.id,...o})}),t(r)})}function M5e(t){const e=kl();return eo(R5e(e),n=>{const r=[];n.forEach(i=>{const o=i.data();r.push({id:i.id,...o})}),t(r)})}async function D5e(t){const e=kl(),n=Nt(nt,`users/${e}/nutrition/favorites/${t.id}`),r={name:t.name,brand:t.brand,item:t,updatedAt:ul()};await _l(n,r,{merge:!0})}async function $5e(t){const e=kl();await H5(Nt(nt,`users/${e}/nutrition/favorites/${t}`))}async function L5e(t,e,n){const r=kl(),i=t??(typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`template-${Math.random().toString(36).slice(2,10)}`),o=Nt(nt,`users/${r}/nutrition/templates/${i}`),a={name:e,items:n,updatedAt:ul()};return await _l(o,a,{merge:!0}),i}async function F5e(t){const e=kl();await H5(Nt(nt,`users/${e}/nutrition/templates/${t}`))}const V5e=["serving","g","oz","cups","slices","pieces"],SI=28.3495;function li(t,e=2){if(t==null)return null;const n=10**e;return Math.round(t*n)/n}function zF(t){return t?li(t/SI,2):null}function B5e(t){if(!t)return null;const e=t.toLowerCase();return e.includes("gram")||e==="g"?"g":e.includes("ounce")||e==="oz"?"oz":e.includes("cup")?"cups":e.includes("slice")?"slices":e.includes("piece")?"pieces":e.includes("serv")?"serving":e}function iG(t){var s,c,u;const e=B5e(((s=t.serving)==null?void 0:s.unit)||((c=t.serving)==null?void 0:c.text)||null),n=typeof((u=t.serving)==null?void 0:u.qty)=="number"?t.serving.qty:null;if(n&&e==="g")return n;if(n&&e==="oz")return n*SI;const r=t.per_serving,i=t.per_100g;if(!i)return null;const o=[];if(r.protein_g&&i.protein_g&&o.push(r.protein_g/i.protein_g*100),r.carbs_g&&i.carbs_g&&o.push(r.carbs_g/i.carbs_g*100),r.fat_g&&i.fat_g&&o.push(r.fat_g/i.fat_g*100),r.kcal&&i.kcal&&o.push(r.kcal/i.kcal*100),!o.length)return null;const a=o.reduce((d,f)=>d+f,0)/o.length;return li(a,2)}function U5e(t,e,n){switch(n){case"g":return e;case"oz":return e*SI;case"serving":case"cups":case"slices":case"pieces":{const r=iG(t);return r?r*e:null}default:return null}}function oG(t,e,n){const r=U5e(t,e,n),i=t.per_serving,o=t.per_100g,a=e;if(r!=null&&o){const s=r/100;return{grams:li(r,2),calories:o.kcal!=null?li(o.kcal*s,0):null,protein:o.protein_g!=null?li(o.protein_g*s,2):null,carbs:o.carbs_g!=null?li(o.carbs_g*s,2):null,fat:o.fat_g!=null?li(o.fat_g*s,2):null}}return{grams:r!=null?li(r,2):null,calories:i.kcal!=null?li(i.kcal*a,0):null,protein:i.protein_g!=null?li(i.protein_g*a,2):null,carbs:i.carbs_g!=null?li(i.carbs_g*a,2):null,fat:i.fat_g!=null?li(i.fat_g*a,2):null}}function z5e(t){return{id:t.id,name:t.name,brand:t.brand,source:t.source,serving:{qty:t.serving.qty,unit:t.serving.unit,text:t.serving.text},per_serving:{...t.per_serving},per_100g:t.per_100g?{...t.per_100g}:null,fdcId:t.fdcId??null,gtin:t.gtin??null}}function WF(t){var e,n,r,i,o,a,s;return{id:t.id||`snapshot-${Math.random().toString(36).slice(2,8)}`,name:t.name,brand:t.brand||void 0,source:t.source==="OFF"?"OFF":"USDA",serving:{qty:((e=t.serving)==null?void 0:e.qty)??null,unit:((n=t.serving)==null?void 0:n.unit)??null,text:((r=t.serving)==null?void 0:r.text)??void 0},per_serving:{kcal:((i=t.per_serving)==null?void 0:i.kcal)??null,protein_g:((o=t.per_serving)==null?void 0:o.protein_g)??null,carbs_g:((a=t.per_serving)==null?void 0:a.carbs_g)??null,fat_g:((s=t.per_serving)==null?void 0:s.fat_g)??null},per_100g:t.per_100g?{kcal:t.per_100g.kcal??null,protein_g:t.per_100g.protein_g??null,carbs_g:t.per_100g.carbs_g??null,fat_g:t.per_100g.fat_g??null}:void 0,gtin:t.gtin??void 0,fdcId:t.fdcId??void 0}}function aG(t,e,n,r,i="search"){return{name:t.name,protein:r.protein??void 0,carbs:r.carbs??void 0,fat:r.fat??void 0,calories:r.calories??void 0,serving:{qty:e,unit:n,grams:r.grams,originalQty:t.serving.qty??null,originalUnit:t.serving.unit??null},item:z5e(t),entrySource:i}}function EI({item:t,defaultQty:e=1,defaultUnit:n="serving",confirmLabel:r="Add",onConfirm:i,onCancel:o,busy:a,entrySource:s="search"}){const[c,u]=b.useState(e),[d,f]=b.useState(n),[h,p]=b.useState("");b.useEffect(()=>{u(e),f(n),p("")},[t,e,n]);const y=b.useMemo(()=>oG(t,c,d),[t,c,d]),g=b.useMemo(()=>iG(t),[t]),v=()=>{const x=aG(t,c,d,y,s);h.trim()&&(x.notes=h.trim()),i({qty:c,unit:d,result:y,meal:x})};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"serving-qty",children:"Quantity"}),l.jsx(Ze,{id:"serving-qty",type:"number",min:"0",step:"0.1",value:c,onChange:x=>u(Number(x.target.value)||0)})]}),l.jsxs("div",{children:[l.jsx(ze,{htmlFor:"serving-unit",children:"Unit"}),l.jsxs(vs,{value:d,onValueChange:x=>f(x),children:[l.jsx(ra,{id:"serving-unit",children:l.jsx(xs,{})}),l.jsx(ia,{children:V5e.map(x=>l.jsx(Rt,{value:x,children:x==="serving"&&t.serving.text?`serving (${t.serving.text})`:x},x))})]})]})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Calories"}),l.jsxs("div",{className:"text-lg font-semibold",children:[y.calories??""," kcal"]})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Macros"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.protein??"","g P  ",y.carbs??"","g C  ",y.fat??"","g F"]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.grams?`${y.grams} g`:"",y.grams?` (${zF(y.grams)??"?"} oz)`:""]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"serving-notes",children:"Notes (optional)"}),l.jsx(tN,{id:"serving-notes",value:h,onChange:x=>p(x.target.value),placeholder:"Add preparation notes",rows:2}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Database serving: ",t.serving.text||`${t.serving.qty??"?"} ${t.serving.unit??"unit"}`,"  approx ",g?`${g} g / ${zF(g)??"?"} oz`:"weight unknown"]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[o&&l.jsx(X,{type:"button",variant:"ghost",onClick:o,disabled:a,children:"Cancel"}),l.jsx(X,{type:"button",onClick:v,disabled:a||c<=0,children:a?"Adding":r})]})]})}function sG({data:t}){return t.length?l.jsx("div",{className:"h-64 w-full",children:l.jsx($0,{children:l.jsxs(X6e,{data:t,margin:{top:16,right:12,bottom:8,left:0},children:[l.jsx(t_,{strokeDasharray:"3 3",className:"text-muted"}),l.jsx(Ya,{dataKey:"date",tick:{fontSize:12},tickMargin:8}),l.jsx(Vo,{yAxisId:"calories",tick:{fontSize:12},width:48}),l.jsx(Vo,{yAxisId:"macros",orientation:"right",tick:{fontSize:12},width:48}),l.jsx(zr,{contentStyle:{fontSize:"0.75rem"}}),l.jsx(xc,{wrapperStyle:{fontSize:"0.75rem"}}),l.jsx(Ga,{yAxisId:"calories",dataKey:"calories",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"Calories"}),l.jsx(Il,{yAxisId:"macros",type:"monotone",dataKey:"protein",stroke:"hsl(var(--accent))",fill:"hsl(var(--accent) / 0.2)",name:"Protein (g)"}),l.jsx(Fo,{yAxisId:"macros",type:"monotone",dataKey:"carbs",stroke:"hsl(var(--muted-foreground))",strokeWidth:2,name:"Carbs (g)"}),l.jsx(Fo,{yAxisId:"macros",type:"monotone",dataKey:"fat",stroke:"hsl(var(--secondary-foreground))",strokeDasharray:"4 4",name:"Fat (g)"})]})})}):l.jsx("div",{className:"flex h-48 w-full items-center justify-center rounded-md border border-dashed border-muted-foreground/40 text-sm text-muted-foreground",children:"No nutrition data yet"})}const lG="mbs_nutrition_recents_v2",TI=50,HF=2200;function W5e(){if(typeof window>"u")return[];const t=window.localStorage.getItem(lG);if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e))return e.slice(0,TI)}catch(e){console.warn("recents_parse_error",e)}return[]}function H5e(t){typeof window>"u"||window.localStorage.setItem(lG,JSON.stringify(t.slice(0,TI)))}function q5e(){const t=b.useMemo(()=>new Date().toISOString().slice(0,10),[]),[e,n]=b.useState({totals:{calories:0},meals:[]}),[r,i]=b.useState([]),[o,a]=b.useState(!0),[s,c]=b.useState(!1),[u,d]=b.useState(()=>W5e()),[f,h]=b.useState([]),[p,y]=b.useState([]),[g,v]=b.useState(!1),[x,w]=b.useState(null),[_,T]=b.useState("serving"),[E,P]=b.useState(1);b.useEffect(()=>{S(),A()},[]),b.useEffect(()=>{try{const z=rG(h);return()=>z==null?void 0:z()}catch(z){console.warn("favorites_subscribe_error",z);return}},[]),b.useEffect(()=>{try{const z=M5e(y);return()=>z==null?void 0:z()}catch(z){console.warn("templates_subscribe_error",z);return}},[]);const S=b.useCallback(()=>{a(!0),VA(t).then(z=>{n(z)}).finally(()=>a(!1))},[t]),A=b.useCallback(()=>{YK(7).then(i).catch(()=>i([]))},[]),C=b.useCallback(z=>{const W=[z,...u.filter(K=>K.id!==z.id)].slice(0,TI);d(W),H5e(W)},[u]),I=(z,W=1,K="serving")=>{w(z),P(W),T(K),v(!0)},N=async({qty:z,unit:W,meal:K})=>{if(x){c(!0);try{await wp(t,{...K,entrySource:"search"}),se({title:"Meal logged",description:`${x.name} added`}),C(x),S(),A()}catch(re){se({title:"Unable to log",description:(re==null?void 0:re.message)||"Try again",variant:"destructive"})}finally{c(!1),v(!1)}}},k=async z=>{z&&(await v5e(t,z),se({title:"Meal removed"}),S(),A())},R=async()=>{const z=new Date(Date.now()-864e5).toISOString().slice(0,10),W=await VA(z);if(!W.meals.length){se({title:"No meals yesterday",description:"Nothing to copy."});return}c(!0);try{for(const K of W.meals)await wp(t,{...K,id:void 0});se({title:"Copied",description:"Yesterday's meals added"}),S(),A()}finally{c(!1)}},$=async()=>{const z=e.meals.filter(re=>{var de;return re.item&&((de=re.serving)==null?void 0:de.qty)&&re.serving.unit});if(!z.length){se({title:"No template items",description:"Log meals with nutrition data to save templates."});return}const W=window.prompt("Template name?");if(!W)return;const K=z.map(re=>{var de,be;return{item:WF(re.item),qty:((de=re.serving)==null?void 0:de.qty)??1,unit:((be=re.serving)==null?void 0:be.unit)||"serving"}});try{await L5e(null,W,K),se({title:"Template saved",description:W})}catch(re){se({title:"Unable to save",description:(re==null?void 0:re.message)||"Try again",variant:"destructive"})}},U=async z=>{var W;if((W=z.items)!=null&&W.length){c(!0);try{for(const K of z.items){const re=K.unit||"serving",de=K.qty??1,be=K.item,oe=oG(be,de,re),Pe=aG(be,de,re,oe,"template");await wp(t,Pe),C(be)}se({title:"Template applied",description:z.name}),S(),A()}catch(K){se({title:"Template failed",description:(K==null?void 0:K.message)||"Try again",variant:"destructive"})}finally{c(!1)}}},B=async z=>{try{await F5e(z),se({title:"Template removed"})}catch(W){se({title:"Delete failed",description:(W==null?void 0:W.message)||"Try again",variant:"destructive"})}},V=e.totals.calories||0,F=Math.min(1,V/HF),L=2*Math.PI*54,H=r.map(z=>({date:new Date(z.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),calories:z.totals.calories||0,protein:z.totals.protein||0,carbs:z.totals.carbs||0,fat:z.totals.fat||0}));return l.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[l.jsx(Fe,{title:"Meals - MyBodyScan",description:"Track your daily nutrition"}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex max-w-5xl flex-col gap-6 p-6",children:[l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx(Xv,{className:"mx-auto h-10 w-10 text-primary"}),l.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Today's Meals"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Log foods from search, barcode, favorites, and templates. Macros shown in kcal and US units."})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Daily Progress"})}),l.jsxs(ne,{className:"grid gap-6 md:grid-cols-[200px_1fr] md:items-center",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsxs("svg",{className:"h-40 w-40",viewBox:"0 0 120 120",children:[l.jsx("circle",{cx:"60",cy:"60",r:"54",strokeWidth:"8",className:"fill-none stroke-muted"}),l.jsx("circle",{cx:"60",cy:"60",r:"54",strokeWidth:"8",className:"fill-none stroke-primary transition-all",strokeDasharray:`${L} ${L}`,strokeDashoffset:`${L-L*F}`,strokeLinecap:"round"}),l.jsx("text",{x:"60",y:"60",textAnchor:"middle",dominantBaseline:"central",className:"text-2xl font-semibold fill-foreground",children:Math.round(V)})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target ",HF," kcal"]})]}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("p",{children:["Protein: ",l.jsxs("span",{className:"font-medium",children:[e.totals.protein??0," g"]})]}),l.jsxs("p",{children:["Carbs: ",l.jsxs("span",{className:"font-medium",children:[e.totals.carbs??0," g"]})]}),l.jsxs("p",{children:["Fat: ",l.jsxs("span",{className:"font-medium",children:[e.totals.fat??0," g"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(X,{size:"sm",asChild:!0,children:l.jsxs("a",{href:"/meals/search",children:[l.jsx(Td,{className:"mr-1 h-4 w-4"})," Search foods"]})}),l.jsx(X,{size:"sm",variant:"outline",asChild:!0,children:l.jsxs("a",{href:"/barcode",children:[l.jsx(XV,{className:"mr-1 h-4 w-4"})," Scan barcode"]})}),l.jsxs(X,{size:"sm",variant:"outline",onClick:R,disabled:s,children:[l.jsx(bJ,{className:"mr-1 h-4 w-4"})," Copy yesterday"]}),l.jsx(X,{size:"sm",variant:"ghost",asChild:!0,children:l.jsxs("a",{href:"/meals/history",children:[l.jsx(JV,{className:"mr-1 h-4 w-4"})," History"]})})]})]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"7-day chart"})}),l.jsx(ne,{children:H.length?l.jsx(sG,{data:H}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet."})})]}),f.length>0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(sE,{className:"h-4 w-4 text-yellow-500"})," Favorites"]})}),l.jsx(ne,{className:"flex flex-wrap gap-2",children:f.map(z=>l.jsx(X,{size:"sm",variant:"secondary",onClick:()=>I(z.item),children:z.item.name},z.id))})]}),u.length>0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(oE,{className:"h-4 w-4"})," Recents"]})}),l.jsx(ne,{className:"flex flex-wrap gap-2",children:u.slice(0,8).map(z=>l.jsx(X,{variant:"outline",size:"sm",onClick:()=>I(z),children:z.name},z.id))})]}),p.length>0&&l.jsxs(te,{children:[l.jsxs(he,{className:"flex items-center justify-between",children:[l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(oE,{className:"h-4 w-4"})," Templates"]}),l.jsx(X,{size:"sm",variant:"outline",onClick:$,children:"Save today"})]}),l.jsx(ne,{className:"space-y-2 text-sm",children:p.map(z=>{var W;return l.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:z.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[((W=z.items)==null?void 0:W.length)??0," items"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{size:"sm",onClick:()=>U(z),disabled:s,children:"Apply"}),l.jsx(X,{size:"sm",variant:"ghost",onClick:()=>B(z.id),children:l.jsx(tB,{className:"h-4 w-4"})})]})]},z.id)})})]}),p.length===0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Templates"})}),l.jsxs(ne,{className:"flex flex-col gap-2 text-sm",children:[l.jsx("p",{className:"text-muted-foreground",children:"Save recurring meals and apply them in one tap."}),l.jsx(X,{size:"sm",variant:"outline",onClick:$,children:"Save today as template"})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Logged meals"})}),l.jsxs(ne,{className:"space-y-3",children:[o&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading meals"}),!o&&!e.meals.length&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No meals logged yet. Start with search or barcode."}),e.meals.map(z=>{var de,be,oe;const W=z.item?WF(z.item):null,K=((de=z.serving)==null?void 0:de.qty)??1,re=((be=z.serving)==null?void 0:be.unit)||"serving";return l.jsx(te,{className:"border",children:l.jsxs(ne,{className:"flex flex-col gap-2 py-4 text-sm md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:z.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.calories??""," kcal  ",z.protein??0,"g P  ",z.carbs??0,"g C  ",z.fat??0,"g F"]}),(oe=z.serving)!=null&&oe.grams?l.jsxs("p",{className:"text-xs text-muted-foreground",children:[K," ",re,"  approx ",Math.round(z.serving.grams)," g"]}):null]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[W&&l.jsx(X,{size:"sm",variant:"outline",onClick:()=>I(W,K,re),children:"Edit"}),l.jsx(X,{size:"sm",variant:"ghost",onClick:()=>z.id&&k(z.id),children:"Remove"})]})]})},z.id||z.name)})]})]})]}),l.jsx(nr,{}),l.jsx(Of,{open:g,onOpenChange:v,children:l.jsxs(tu,{className:"max-w-xl",children:[l.jsx(nu,{children:l.jsx(ru,{children:x?`Log ${x.name}`:"Log food"})}),x&&l.jsx(EI,{item:x,defaultQty:E,defaultUnit:_,onConfirm:N,busy:s,entrySource:"manual"})]})})]})}function K5e(){const{t}=Uo(),[e,n]=b.useState(0),[r,i]=b.useState(null),[o,a]=b.useState({}),[s,c]=b.useState(!1);b.useEffect(()=>{It()||u()},[]);const u=async()=>{try{}catch{console.log("No existing plan found")}},d=async()=>{if(It()){se({title:"Sign up to use this feature",description:"Create a free account to get your personalized plan."});return}c(!0);try{i({id:"demo-plan",weeks:[{number:1,days:[{name:"Monday",exercises:[{id:"1",name:"Push-ups",sets:3,reps:"8-12",rir:2,rest:"60s",tips:"Keep core tight"},{id:"2",name:"Squats",sets:3,reps:"12-15",rir:2,rest:"90s"},{id:"3",name:"Plank",sets:3,reps:"30-60s",rir:1,rest:"60s"}]}]}]}),se({title:"Your personalized plan is ready!"})}catch(h){se({title:"Error generating plan",description:(h==null?void 0:h.message)||"Please try again",variant:"destructive"})}finally{c(!1)}},f=["Basic Info","Goals","Preferences","Equipment","Final Details"];return r?l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Coach - MyBodyScan",description:"Your personalized fitness plan"}),l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(fl,{}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(zP,{className:"w-8 h-8 text-primary mx-auto"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:t("coach.title")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Week 1 of 4"})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"This Week's Plan"})}),l.jsx(ne,{className:"space-y-4",children:r.weeks[0].days.map(h=>l.jsxs(te,{children:[l.jsx(he,{className:"pb-3",children:l.jsx(me,{className:"text-base",children:h.name})}),l.jsx(ne,{className:"pt-0",children:l.jsx("div",{className:"space-y-3",children:h.exercises.map(p=>l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-sm",children:p.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.sets," sets  ",p.reps,"  RIR ",p.rir,"  Rest ",p.rest]}),p.tips&&l.jsx("p",{className:"text-xs text-accent mt-1",children:p.tips})]})},p.id))})})]},h.name))})]}),l.jsx(te,{children:l.jsx(ne,{className:"p-4",children:l.jsx(X,{className:"w-full",variant:"outline",children:"Weekly Check-in (Coming Soon)"})})})]}),l.jsx(nr,{})]}):l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Coach Setup - MyBodyScan",description:"Set up your personalized coaching plan"}),l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(fl,{}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(rp,{className:"w-8 h-8 text-primary mx-auto"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:t("coach.onboarding")}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ",e+1," of ",f.length]})]}),l.jsx(f0,{value:e/f.length*100}),e===0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Basic Information"})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Height"}),l.jsx("div",{className:"mt-1",children:l.jsx(cN,{valueCm:o.height,onChangeCm:h=>a({...o,height:h??void 0})})})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Weight (lb)"}),l.jsx(Ze,{type:"number",value:o.weight!=null?Math.round($d(o.weight)):"",onChange:h=>{if(h.target.value===""){a({...o,weight:void 0});return}const p=Number(h.target.value);Number.isNaN(p)||a({...o,weight:KC(p)})}})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Age"}),l.jsx(Ze,{type:"number",value:o.age||"",onChange:h=>a({...o,age:parseInt(h.target.value)})})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Sex"}),l.jsxs(vs,{value:o.sex,onValueChange:h=>a({...o,sex:h}),children:[l.jsx(ra,{children:l.jsx(xs,{placeholder:"Select"})}),l.jsxs(ia,{children:[l.jsx(Rt,{value:"male",children:"Male"}),l.jsx(Rt,{value:"female",children:"Female"})]})]})]})]})]})]}),e===1&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:t("coach.goal")})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-3",children:[{value:"cut",label:t("coach.goalCut")},{value:"recomp",label:t("coach.goalRecomp")},{value:"gain",label:t("coach.goalGain")}].map(h=>l.jsx(X,{variant:o.goal===h.value?"default":"outline",className:"w-full justify-start",onClick:()=>a({...o,goal:h.value}),children:h.label},h.value))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{children:t("coach.difficulty")}),l.jsx("div",{className:"space-y-2",children:[{value:"easy",label:t("coach.difficultyEasy")},{value:"moderate",label:t("coach.difficultyModerate")},{value:"aggressive",label:t("coach.difficultyAggressive")}].map(h=>l.jsx(X,{variant:o.difficulty===h.value?"default":"outline",className:"w-full justify-start",onClick:()=>a({...o,difficulty:h.value}),children:h.label},h.value))})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[e>0&&l.jsx(X,{variant:"outline",onClick:()=>n(e-1),className:"flex-1",children:t("common.back")}),e<f.length-1?l.jsx(X,{onClick:()=>n(e+1),className:"flex-1",children:t("common.next")}):l.jsx(X,{onClick:d,disabled:s,className:"flex-1",children:t(s?"common.loading":"common.finish")})]})]}),l.jsx(nr,{})]})}function qF({onBarcodeScanned:t}){const{t:e}=Uo(),[n,r]=b.useState(!1),[i,o]=b.useState(""),a=()=>{i.length>=8&&i.length<=14&&(t(i),o(""),r(!1))};return l.jsxs(Of,{open:n,onOpenChange:r,children:[l.jsx(l0,{asChild:!0,children:l.jsxs(X,{variant:"outline",size:"sm",children:[l.jsx(Fp,{className:"w-4 h-4 mr-2"}),e("meals.scanBarcode")]})}),l.jsxs(tu,{children:[l.jsx(nu,{children:l.jsx(ru,{children:"Scan Barcode"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-muted rounded-lg p-8 text-center",children:[l.jsx(Fp,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Camera barcode scanning will be available in the mobile app"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ze,{htmlFor:"manual-barcode",children:"Or enter barcode manually"}),l.jsx(Ze,{id:"manual-barcode",placeholder:"Enter 8-14 digit barcode",value:i,onChange:s=>o(s.target.value.replace(/\D/g,"")),maxLength:14})]}),l.jsx(X,{onClick:a,disabled:i.length<8||i.length>14,className:"w-full",children:"Search"})]})]})]})}const G5e=[{id:"1",name:"Chicken Breast",calories_per_100g:165,protein_per_100g:31,carbs_per_100g:0,fat_per_100g:3.6,portion_size:120,portion_name:"medium piece"},{id:"2",name:"Brown Rice",calories_per_100g:112,protein_per_100g:2.6,carbs_per_100g:22,fat_per_100g:.9},{id:"3",name:"Greek Yogurt",calories_per_100g:97,protein_per_100g:17,carbs_per_100g:9,fat_per_100g:0,portion_size:150,portion_name:"cup"}];function Y5e(){const{t}=Uo(),[e,n]=b.useState(""),[r,i]=b.useState([]),[o,a]=b.useState(null),[s,c]=b.useState(100),[u,d]=b.useState("g"),[f,h]=b.useState([]),[p,y]=b.useState({calories:2200,protein:140,carbs:250,fat:75}),[g,v]=b.useState([]),[x,w]=b.useState(!1),[_,T]=b.useState(!1);b.useEffect(()=>{E(),P()},[]);const E=async()=>{if(It()){h([{id:"1",name:"Oatmeal",quantity:50,unit:"g",calories:190,protein:6,carbs:32,fat:4},{id:"2",name:"Chicken Salad",quantity:200,unit:"g",calories:280,protein:35,carbs:8,fat:12}]);return}try{const V=new Date().toISOString().slice(0,10)}catch{console.log("Error loading daily log")}},P=async()=>{v([{day:"Mon",calories:2100,protein:130},{day:"Tue",calories:2300,protein:145},{day:"Wed",calories:1950,protein:120},{day:"Thu",calories:2400,protein:150},{day:"Fri",calories:2200,protein:140},{day:"Sat",calories:2500,protein:155},{day:"Sun",calories:2e3,protein:125}])},S=async V=>{if(!V.trim()){i([]);return}T(!0);try{const F=/^\d{8,14}$/.test(V);if(It()){const L=G5e.filter(H=>H.name.toLowerCase().includes(V.toLowerCase()));i(L)}}catch{se({title:"Search failed",description:"Please try again",variant:"destructive"})}finally{T(!1)}},A=V=>{n(V),S(V)},C=async()=>{if(!o)return;if(It()){se({title:"Sign up to use this feature",description:"Create a free account to track your nutrition."});return}const V=u==="portions"&&o.portion_size?s*o.portion_size/100:s/100,F={id:Date.now().toString(),name:o.name,quantity:s,unit:u,calories:Math.round(o.calories_per_100g*V),protein:Math.round(o.protein_per_100g*V),carbs:Math.round(o.carbs_per_100g*V),fat:Math.round(o.fat_per_100g*V)};try{h([...f,F]),a(null),w(!1),se({title:"Food logged successfully"})}catch{se({title:"Failed to log food",description:"Please try again",variant:"destructive"})}},I=async V=>{h(f.filter(F=>F.id!==V)),se({title:"Entry removed"})},N=f.reduce((V,F)=>V+F.calories,0),k=f.reduce((V,F)=>V+F.protein,0),R=f.reduce((V,F)=>V+F.carbs,0),$=f.reduce((V,F)=>V+F.fat,0),B=(p.protein>0?k/p.protein*100:0)<70;return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Nutrition - MyBodyScan",description:"Track your daily nutrition and macros"}),l.jsx($n,{}),l.jsxs("main",{className:"max-w-md mx-auto p-6 space-y-6",children:[l.jsx(fl,{}),B&&l.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-warning-foreground",children:"Your protein intake has been low this week. Try to hit your daily target for better results."})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(Xv,{className:"w-8 h-8 text-primary mx-auto"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:t("meals.title")})]}),l.jsxs(JW,{defaultValue:"today",className:"w-full",children:[l.jsxs(aN,{className:"grid w-full grid-cols-3",children:[l.jsx(vc,{value:"today",children:"Today"}),l.jsx(vc,{value:"search",children:"Search"}),l.jsx(vc,{value:"targets",children:"Targets"})]}),l.jsxs(hp,{value:"today",className:"space-y-4",children:[l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{className:"text-center",children:"Daily Progress"})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-foreground",children:N}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Calories"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["/",p.calories]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg font-bold text-accent",children:[k,"g"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Protein"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["/",p.protein,"g"]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg font-bold text-warning",children:[R,"g"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Carbs"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["/",p.carbs,"g"]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg font-bold text-destructive",children:[$,"g"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Fat"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["/",p.fat,"g"]})]})]}),l.jsx("div",{className:"space-y-2",children:l.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Math.min(N/p.calories*100,100)}%`}})})})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{className:"text-sm",children:"This Week"})}),l.jsx(ne,{children:l.jsx("div",{className:"h-32",children:l.jsx($0,{width:"100%",height:"100%",children:l.jsxs(WK,{data:g,children:[l.jsx(t_,{strokeDasharray:"3 3"}),l.jsx(Ya,{dataKey:"day",fontSize:10}),l.jsx(Vo,{fontSize:10}),l.jsx(zr,{}),l.jsx(Fo,{type:"monotone",dataKey:"calories",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Today's Meals"}),l.jsxs(Of,{open:x,onOpenChange:w,children:[l.jsx(l0,{asChild:!0,children:l.jsxs(X,{size:"sm",children:[l.jsx(Td,{className:"w-4 h-4 mr-2"}),"Add"]})}),l.jsxs(tu,{children:[l.jsx(nu,{children:l.jsx(ru,{children:"Log Food"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ze,{placeholder:t("meals.search"),value:e,onChange:V=>{n(V.target.value),S(V.target.value)},className:"flex-1"}),l.jsx(qF,{onBarcodeScanned:A})]}),_&&l.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Searching..."}),r.length>0&&l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:r.map(V=>l.jsx(X,{variant:"outline",className:"w-full justify-start h-auto p-3",onClick:()=>a(V),children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:V.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[V.calories_per_100g," cal/100g  P: ",V.protein_per_100g,"g"]})]})},V.id))}),o&&l.jsxs("div",{className:"space-y-4 border-t pt-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:o.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.calories_per_100g," cal  ",o.protein_per_100g,"g protein per 100g"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Quantity"}),l.jsx(Ze,{type:"number",value:s,onChange:V=>c(parseFloat(V.target.value)||0)})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Unit"}),l.jsxs("select",{value:u,onChange:V=>d(V.target.value),className:"w-full p-2 border rounded",children:[l.jsx("option",{value:"g",children:"Grams"}),o.portion_size&&l.jsx("option",{value:"portions",children:o.portion_name||"Portions"})]})]})]}),l.jsx(X,{onClick:C,className:"w-full",children:"Log Food"})]})]})]})]})]})}),l.jsx(ne,{children:f.length>0?l.jsx("div",{className:"space-y-3",children:f.map(V=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-sm",children:V.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.quantity,V.unit==="g"?"g":` ${V.unit}`," ",V.calories," cal  P: ",V.protein,"g  C: ",V.carbs,"g  F: ",V.fat,"g"]})]}),l.jsx(X,{variant:"ghost",size:"sm",onClick:()=>I(V.id),className:"text-destructive hover:text-destructive",children:l.jsx(eB,{className:"w-4 h-4"})})]},V.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Xv,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"No meals logged yet today"})]})})]})]}),l.jsxs(hp,{value:"search",className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ze,{placeholder:t("meals.search"),value:e,onChange:V=>{n(V.target.value),S(V.target.value)},className:"flex-1"}),l.jsx(qF,{onBarcodeScanned:A})]}),_&&l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Searching..."}),r.length>0&&l.jsx("div",{className:"space-y-3",children:r.map(V=>l.jsx(te,{children:l.jsx(ne,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium",children:V.name}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[l.jsxs("div",{children:["Per 100g: ",V.calories_per_100g," cal  P: ",V.protein_per_100g,"g  C: ",V.carbs_per_100g,"g  F: ",V.fat_per_100g,"g"]}),V.portion_size&&l.jsxs("div",{className:"mt-1",children:["Per ",V.portion_name||"portion"," (",V.portion_size,"g): ",Math.round(V.calories_per_100g*V.portion_size/100)," cal"]})]})]}),l.jsx(X,{size:"sm",onClick:()=>{a(V),w(!0)},children:l.jsx(Td,{className:"w-4 h-4"})})]})})},V.id))})]}),l.jsx(hp,{value:"targets",className:"space-y-4",children:l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(UP,{className:"w-5 h-5"}),"Daily Targets"]})}),l.jsxs(ne,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Calories"}),l.jsx(Ze,{type:"number",value:p.calories,onChange:V=>y({...p,calories:parseInt(V.target.value)||0})})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Protein (g)"}),l.jsx(Ze,{type:"number",value:p.protein,onChange:V=>y({...p,protein:parseInt(V.target.value)||0})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ze,{children:"Carbs (g)"}),l.jsx(Ze,{type:"number",value:p.carbs,onChange:V=>y({...p,carbs:parseInt(V.target.value)||0})})]}),l.jsxs("div",{children:[l.jsx(ze,{children:"Fat (g)"}),l.jsx(Ze,{type:"number",value:p.fat,onChange:V=>y({...p,fat:parseInt(V.target.value)||0})})]})]}),l.jsxs("div",{className:"bg-muted rounded-lg p-3",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Recommendations"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Protein: ~1g per lb body weight (",Math.round(p.protein*2.2),"lb person)"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Fat: 20-35% of total calories (",Math.round(p.calories*.25/9),"-",Math.round(p.calories*.35/9),"g)"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Carbs: Fill remaining calories"})]}),l.jsx(X,{className:"w-full",onClick:()=>se({title:"Targets updated"}),children:"Save Targets"})]})]})})]})]}),l.jsx(nr,{})]})}function X5e({children:t}){const{t:e}=Uo(),[n,r]=b.useState(!1),[i,o]=b.useState(!1),[a,s]=b.useState(!1),[c,u]=b.useState(!1);b.useEffect(()=>{localStorage.getItem("mbs-consent")==="accepted"&&r(!0)},[]);const d=()=>{i&&a&&c&&(localStorage.setItem("mbs-consent","accepted"),r(!0))};return n?l.jsx(l.Fragment,{children:t}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:l.jsxs(te,{className:"w-full max-w-md",children:[l.jsx(he,{children:l.jsx(me,{className:"text-center",children:"Welcome to MyBodyScan"})}),l.jsxs(ne,{className:"space-y-6",children:[l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Before using our app, please review and accept our policies"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(cd,{checked:i,onCheckedChange:f=>o(f===!0),className:"mt-1"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{children:"I accept the "}),l.jsx("a",{href:"/legal/terms",target:"_blank",className:"text-primary underline hover:no-underline",children:"Terms of Service"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(cd,{checked:a,onCheckedChange:f=>s(f===!0),className:"mt-1"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{children:"I accept the "}),l.jsx("a",{href:"/legal/privacy",target:"_blank",className:"text-primary underline hover:no-underline",children:"Privacy Policy"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(cd,{checked:c,onCheckedChange:f=>u(f===!0),className:"mt-1"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{children:"I understand the "}),l.jsx("a",{href:"/legal/disclaimer",target:"_blank",className:"text-primary underline hover:no-underline",children:"Medical Disclaimer"})]})]})]}),l.jsx(X,{onClick:d,disabled:!i||!a||!c,className:"w-full",children:e("legal.accept")})]})]})})}const oa=!1,Q5e=3e3;function lo(t){const e=Number(t);return Number.isFinite(e)?Number(e.toFixed(2)):null}function cG(t){const e=(t==null?void 0:t.serving)||{},n=(t==null?void 0:t.per_serving)||{},r=(t==null?void 0:t.per_100g)||(t==null?void 0:t.per100g)||void 0,i=typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`food-${Math.random().toString(36).slice(2,10)}`;return{id:String((t==null?void 0:t.id)??i),name:typeof(t==null?void 0:t.name)=="string"?t.name:"Food",brand:typeof(t==null?void 0:t.brand)=="string"?t.brand:void 0,source:(t==null?void 0:t.source)==="OFF"?"OFF":"USDA",gtin:typeof(t==null?void 0:t.gtin)=="string"?t.gtin:typeof(t==null?void 0:t.upc)=="string"?t.upc:void 0,fdcId:lo(t==null?void 0:t.fdcId)??void 0,serving:{qty:lo(e.qty??e.quantity),unit:typeof e.unit=="string"?e.unit:null,text:typeof e.text=="string"?e.text:void 0},per_serving:{kcal:lo(n.kcal),protein_g:lo(n.protein_g),carbs_g:lo(n.carbs_g),fat_g:lo(n.fat_g)},per_100g:r?{kcal:lo(r.kcal),protein_g:lo(r.protein_g),carbs_g:lo(r.carbs_g),fat_g:lo(r.fat_g)}:void 0}}function aa(t){const e=t||"sample";return[{id:`mock-${e}-1`,name:`${e} (USDA Mock)`,brand:"MyBodyScan",source:"USDA",serving:{qty:100,unit:"g",text:"100 g"},per_serving:{kcal:180,protein_g:20,carbs_g:15,fat_g:6},per_100g:{kcal:180,protein_g:20,carbs_g:15,fat_g:6}},{id:`mock-${e}-2`,name:`${e} (OFF Mock)`,brand:"Sample Foods",source:"OFF",serving:{qty:1,unit:"serving",text:"1 serving"},per_serving:{kcal:210,protein_g:18,carbs_g:22,fat_g:7},per_100g:void 0}]}async function uG(t,e){const n=L8(t);if(!n)return null;const r=new AbortController,i=setTimeout(()=>r.abort(),Q5e);try{return await fetch(n,{...e,headers:{"Content-Type":"application/json",...(e==null?void 0:e.headers)||{}},signal:r.signal}).finally(()=>clearTimeout(i))}catch(o){throw clearTimeout(i),o}}async function J5e(t){if(!(t!=null&&t.trim()))return[];if(oa){const e=aa(t.trim());if(!Nx)return e}try{const e=await uG(`/nutritionSearch?q=${encodeURIComponent(t.trim())}`);if(!e)return oa?aa(t.trim()):[];if(!e.ok)return oa?aa(t.trim()):[];const n=await e.json();return Array.isArray(n==null?void 0:n.items)?n.items.map(r=>cG(r)):oa?aa(t.trim()):[]}catch(e){return console.error("nutrition_search_error",e),oa?aa(t.trim()):[]}}async function Z5e(t){if(!(t!=null&&t.trim()))return null;if(oa){const e=aa(t.trim());if(!Nx)return e[0]??null}try{const e=await uG(`/nutritionBarcode?code=${encodeURIComponent(t.trim())}`);if(!e)return oa?aa(t.trim())[0]??null:null;if(e.status===404)return null;if(!e.ok)return oa?aa(t.trim())[0]??null:null;const n=await e.json();return n!=null&&n.item?cG(n.item):null}catch(e){return console.error("nutrition_barcode_error",e),oa?aa(t.trim())[0]??null:null}}const dG="mbs_nutrition_recents_v2",AI=50;function eze(){if(typeof window>"u")return[];const t=window.localStorage.getItem(dG);if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e))return e.slice(0,AI)}catch(e){console.warn("recents_parse_error",e)}return[]}function tze(t){typeof window>"u"||window.localStorage.setItem(dG,JSON.stringify(t.slice(0,AI)))}function nze(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),[i,o]=b.useState([]),[a,s]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState([]),[h,p]=b.useState(!1),[y,g]=b.useState(()=>eze()),[v,x]=b.useState([]),w=b.useMemo(()=>new Date().toISOString().slice(0,10),[]);b.useEffect(()=>{try{const I=rG(x);return()=>{I==null||I()}}catch(I){console.warn("favorites_subscribe_error",I),x([]);return}},[]),b.useEffect(()=>{const I=t.trim();if(!I){o([]);return}r(!0);const N=window.setTimeout(()=>{J5e(I).then(o).catch(k=>{console.error(k),se({title:"Search failed",description:"Try another food",variant:"destructive"})}).finally(()=>r(!1))},250);return()=>window.clearTimeout(N)},[t]);const _=I=>{u(I),s(!0)},T=b.useCallback(I=>{const N=[I,...y.filter(k=>k.id!==I.id)].slice(0,AI);g(N),tze(N)},[y]),E=({qty:I,unit:N,result:k})=>{if(!c)return;const R=`${c.id}-${Date.now()}`;f($=>[...$,{id:R,item:c,qty:I,unit:N,macros:k}]),s(!1)},P=()=>f([]),S=async I=>{if(I.length){p(!0);try{for(const N of I)await wp(w,{name:N.item.name,protein:N.macros.protein??void 0,carbs:N.macros.carbs??void 0,fat:N.macros.fat??void 0,calories:N.macros.calories??void 0,serving:{qty:N.qty,unit:N.unit,grams:N.macros.grams,originalQty:N.item.serving.qty??null,originalUnit:N.item.serving.unit??null},item:{id:N.item.id,name:N.item.name,brand:N.item.brand,source:N.item.source,serving:N.item.serving,per_serving:N.item.per_serving,per_100g:N.item.per_100g??null,fdcId:N.item.fdcId??null,gtin:N.item.gtin??null},entrySource:"search"}),T(N.item);se({title:"Foods logged",description:`${I.length} item(s) added`}),f(N=>N.filter(k=>!I.includes(k)))}catch(N){se({title:"Unable to log",description:(N==null?void 0:N.message)||"Try again",variant:"destructive"})}finally{p(!1)}}},A=async I=>{try{const N=v.find(k=>k.id===I.id);N?(await $5e(N.id),se({title:"Removed from favorites",description:I.name})):(await D5e(I),se({title:"Favorited",description:I.name}))}catch(N){se({title:"Favorite update failed",description:(N==null?void 0:N.message)||"Try again",variant:"destructive"})}},C=d.reduce((I,N)=>I+(N.macros.calories??0),0);return l.jsxs("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[l.jsx(Fe,{title:"Food Search",description:"Find foods from USDA and OpenFoodFacts"}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex max-w-4xl flex-col gap-6 p-6",children:[l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx(LJ,{className:"mx-auto h-10 w-10 text-primary"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Search Foods"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tap a result to adjust servings. Results use kcal and US units."})]}),l.jsxs("form",{className:"flex gap-2",onSubmit:I=>I.preventDefault(),children:[l.jsx(Ze,{value:t,onChange:I=>e(I.target.value),placeholder:"Search chicken breast, oatmeal, whey",className:"flex-1"}),l.jsx(X,{type:"button",variant:"outline",asChild:!0,children:l.jsxs("a",{href:"/barcode",children:[l.jsx(XV,{className:"mr-1 h-4 w-4"}),"Scan"]})})]}),v.length>0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(sE,{className:"h-4 w-4 text-yellow-500"})," Favorites"]})}),l.jsx(ne,{className:"flex flex-wrap gap-2",children:v.map(I=>l.jsx(X,{variant:"secondary",size:"sm",onClick:()=>_(I.item),children:I.item.name},I.id))})]}),y.length>0&&l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(rze,{})," Recent"]})}),l.jsx(ne,{className:"flex flex-wrap gap-2",children:y.slice(0,8).map(I=>l.jsx(X,{variant:"outline",size:"sm",onClick:()=>_(I),children:I.name},I.id))})]}),l.jsxs(te,{children:[l.jsxs(he,{className:"flex items-center justify-between",children:[l.jsx(me,{children:"Results"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"USDA primary  OFF fallback"})]}),l.jsxs(ne,{className:"space-y-3",children:[n&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(ZV,{className:"h-4 w-4 animate-spin"})," Searching databases"]}),!n&&!i.length&&t.trim().length>0&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No matches. Try alternate spelling or scan the barcode."}),!n&&!t.trim()&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a food name to begin."}),i.map(I=>{const N=v.find(k=>k.id===I.id);return l.jsx(te,{className:"border",children:l.jsxs(ne,{className:"flex flex-col gap-2 py-4 text-sm md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"font-medium text-foreground",children:I.name}),l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:I.brand||I.source}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.per_serving.kcal??""," kcal  ",I.per_serving.protein_g??"","g P  ",I.per_serving.carbs_g??"","g C ",I.per_serving.fat_g??"","g F"]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(X,{size:"sm",variant:"ghost",onClick:()=>A(I),children:N?l.jsx(sE,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}):l.jsx(BJ,{className:"h-4 w-4"})}),l.jsxs(X,{size:"sm",onClick:()=>_(I),children:[l.jsx(Td,{className:"mr-1 h-4 w-4"})," Add"]})]})]})},I.id)})]})]}),d.length>0&&l.jsxs(te,{children:[l.jsxs(he,{className:"flex items-center justify-between",children:[l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(oE,{className:"h-4 w-4"})," Queued (",d.length,")"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{variant:"outline",size:"sm",onClick:P,disabled:h,children:"Clear"}),l.jsx(X,{size:"sm",onClick:()=>S(d),disabled:h,children:h?"Logging":`Log all (${Math.round(C)} kcal)`})]})]}),l.jsx(ne,{className:"space-y-2 text-sm",children:d.map(I=>l.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:I.item.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.qty," ",I.unit,"  ",I.macros.calories??""," kcal"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(X,{size:"sm",variant:"outline",onClick:()=>S([I]),disabled:h,children:[l.jsx(ng,{className:"mr-1 h-4 w-4"})," Log"]}),l.jsx(X,{size:"sm",variant:"ghost",onClick:()=>f(N=>N.filter(k=>k.id!==I.id)),disabled:h,children:l.jsx(tB,{className:"h-4 w-4"})})]})]},I.id))})]})]}),l.jsx(nr,{}),l.jsx(Of,{open:a,onOpenChange:s,children:l.jsxs(tu,{className:"max-w-xl",children:[l.jsx(nu,{children:l.jsxs(ru,{children:["Add ",c==null?void 0:c.name]})}),c&&l.jsx(EI,{item:c,onConfirm:E})]})})]})}function rze(){return l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M3 12a9 9 0 1 1 3.89 7.39"}),l.jsx("polyline",{points:"3 12 6 9 9 12"}),l.jsx("line",{x1:"12",y1:"7",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"12",x2:"15",y2:"15"})]})}const ize="US",KF={"en-us":"US","en-gb":"GB","en-au":"AU","en-ca":"CA","fr-fr":"FR","fr-ca":"CA","de-de":"DE","es-mx":"MX","es-us":"US","pt-br":"BR"},GF={us:"US",ca:"CA",gb:"GB",uk:"GB",au:"AU",fr:"FR",de:"DE",mx:"MX",br:"BR"};function oze(t){const e=(t||(typeof navigator<"u"?navigator.language:void 0)||ize).toLowerCase();if(KF[e])return KF[e];const n=e.split(/[-_]/),r=n[1]||n[0];return r&&GF[r]?GF[r]:"EU"}const aze="https://cdn.jsdelivr.net/npm/@ericblade/quagga2@1.2.11/dist/quagga.min.js";function sze(){const t=b.useRef(null),[e,n]=b.useState(""),[r,i]=b.useState(!1),[o,a]=b.useState(!1),[s,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[p,y]=b.useState(null),[g,v]=b.useState(!1),[x,w]=b.useState(!1),_=b.useMemo(()=>oze(typeof navigator<"u"?navigator.language:void 0),[]);b.useEffect(()=>{if(typeof window>"u")return;if(window.Quagga){i(!0);return}const k=document.createElement("script");return k.src=aze,k.async=!0,k.onload=()=>i(!0),k.onerror=()=>se({title:"Scanner unavailable",description:"Unable to load barcode library."}),document.body.appendChild(k),()=>{k.remove()}},[]);const T=b.useCallback(()=>{const k=window.Quagga;k!=null&&k.stop&&k.stop(),a(!1),d(!1),c(!1)},[]),E=b.useCallback(async k=>{var $;const R=($=k==null?void 0:k.codeResult)==null?void 0:$.code;R&&(h(R),T(),await C(R))},[T]),P=b.useCallback(()=>{const k=window.Quagga;if(!k||!t.current){se({title:"Scanner not ready",description:"Library not loaded"});return}k.init({inputStream:{name:"Live",type:"LiveStream",target:t.current,constraints:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},decoder:{readers:["ean_reader","upc_reader","upc_e_reader","code_128_reader"]},locate:!0},R=>{var U,B;if(R){console.error("quagga_init_error",R),se({title:"Camera unavailable",description:"Check permissions or try manual entry."});return}k.start(),a(!0),k.onDetected(E);const $=(B=(U=k.CameraAccess)==null?void 0:U.getActiveTrack)==null?void 0:B.call(U);$&&$.getCapabilities&&$.getCapabilities().torch&&c(!0)})},[E]),S=()=>{const k=window.Quagga;k!=null&&k.offDetected&&k.offDetected(E),T()},A=async()=>{var $,U;const k=window.Quagga,R=(U=($=k==null?void 0:k.CameraAccess)==null?void 0:$.getActiveTrack)==null?void 0:U.call($);if(R!=null&&R.applyConstraints)try{await R.applyConstraints({advanced:[{torch:!u}]}),d(B=>!B)}catch(B){console.error("torch_toggle_error",B),se({title:"Torch unsupported",description:"Use additional light if needed."})}},C=async k=>{v(!0),y(null);try{const R=await Z5e(k);y(R),R||se({title:"No match",description:"Try manual entry or search."})}catch(R){se({title:"Lookup failed",description:(R==null?void 0:R.message)||"Try again",variant:"destructive"})}finally{v(!1)}},I=async k=>{k.preventDefault(),e.trim()&&await C(e.trim())},N=async({meal:k})=>{if(p){w(!0);try{await wp(new Date().toISOString().slice(0,10),{...k,entrySource:"barcode"}),se({title:"Logged",description:`${p.name} added to today`})}catch(R){se({title:"Unable to log",description:(R==null?void 0:R.message)||"Try again",variant:"destructive"})}finally{w(!1)}}};return b.useEffect(()=>()=>{S()},[]),l.jsxs("main",{className:"mx-auto flex min-h-screen w-full max-w-4xl flex-col gap-6 p-6 pb-20 md:pb-10",children:[l.jsx(Fe,{title:"Barcode Scan",description:"Scan UPCs to log foods"}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-semibold",children:"Barcode Scanner"}),l.jsxs("p",{className:"text-muted-foreground",children:["Align the barcode within the frame. Scanning defaults to region ",_,". Use the torch in low light or enter the code manually."]})]}),l.jsxs(te,{children:[l.jsxs(he,{className:"flex items-center justify-between",children:[l.jsxs(me,{className:"flex items-center gap-2 text-base",children:[l.jsx(Fp,{className:"h-4 w-4"})," Live scanner"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{size:"sm",variant:o?"outline":"default",onClick:o?S:P,disabled:!r,children:o?l.jsxs(l.Fragment,{children:[l.jsx(VJ,{className:"mr-1 h-4 w-4"})," Stop"]}):l.jsxs(l.Fragment,{children:[l.jsx(MJ,{className:"mr-1 h-4 w-4"})," Start"]})}),l.jsx(X,{size:"sm",variant:"ghost",onClick:A,disabled:!s,children:u?l.jsx(EJ,{className:"h-4 w-4"}):l.jsx(TJ,{className:"h-4 w-4"})})]})]}),l.jsxs(ne,{className:"space-y-3",children:[l.jsx("div",{ref:t,className:"relative h-72 w-full overflow-hidden rounded-lg bg-black",children:l.jsx("div",{className:"pointer-events-none absolute inset-0 border-2 border-white/40"})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[o?"Scanning":r?"Tap start to begin scanning":"Loading scanner",f?`  Last detected: ${f}`:""]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Manual entry"})}),l.jsx(ne,{children:l.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(ze,{htmlFor:"manual-code",children:"Barcode"}),l.jsx(Ze,{id:"manual-code",value:e,onChange:k=>n(k.target.value),placeholder:`Enter UPC (${_})`})]}),l.jsx(X,{type:"submit",className:"self-end",disabled:!e.trim(),children:"Lookup"})]})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Result"})}),l.jsxs(ne,{className:"space-y-3",children:[g&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(ZV,{className:"h-4 w-4 animate-spin"})," Looking up food"]}),!g&&!p&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"No food selected yet."}),p&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-foreground",children:p.name}),l.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:p.brand||p.source}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.per_serving.kcal??""," kcal  ",p.per_serving.protein_g??"","g P  ",p.per_serving.carbs_g??"","g C ",p.per_serving.fat_g??"","g F"]})]}),l.jsx(EI,{item:p,entrySource:"barcode",onConfirm:N,busy:x})]})]})]})]})}function lze(){const[t,e]=b.useState(30),[n,r]=b.useState([]),[i,o]=b.useState(!1);b.useEffect(()=>{o(!0),YK(t).then(r).catch(()=>r([])).finally(()=>o(!1))},[t]);const a=n.reduce((d,f)=>(d.calories+=f.totals.calories||0,d.protein+=f.totals.protein||0,d.carbs+=f.totals.carbs||0,d.fat+=f.totals.fat||0,d),{calories:0,protein:0,carbs:0,fat:0}),s=n.length||1,c=Math.max(...n.map(d=>d.totals.calories||0),1),u=n.map(d=>({date:new Date(d.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),calories:d.totals.calories||0,protein:d.totals.protein||0,carbs:d.totals.carbs||0,fat:d.totals.fat||0}));return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Meal History - MyBodyScan",description:"Review your recent nutrition trends"}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex max-w-md flex-col gap-6 p-6",children:[l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx(pJ,{className:"mx-auto h-10 w-10 text-primary"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Nutrition History"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Compare 7-day and 30-day trends with adherence heatmap."})]}),l.jsx("div",{className:"flex justify-center gap-2",children:[7,30].map(d=>l.jsxs(X,{size:"sm",variant:t===d?"default":"outline",onClick:()=>e(d),children:["Last ",d," days"]},d))}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Calories & macros"})}),l.jsx(ne,{children:i?l.jsx("div",{className:"flex h-64 items-center justify-center text-sm text-muted-foreground",children:"Loading chart"}):l.jsx(sG,{data:u})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Averages"})}),l.jsxs(ne,{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Calories"}),l.jsx("div",{className:"text-lg font-semibold",children:Math.round(a.calories/s)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Protein"}),l.jsxs("div",{className:"text-lg font-semibold",children:[Math.round(a.protein/s),"g"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Carbs"}),l.jsxs("div",{className:"text-lg font-semibold",children:[Math.round(a.carbs/s),"g"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Fat"}),l.jsxs("div",{className:"text-lg font-semibold",children:[Math.round(a.fat/s),"g"]})]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Adherence Heatmap"})}),l.jsx(ne,{className:"grid grid-cols-7 gap-2 text-xs",children:n.map(d=>{const f=d.totals.calories||0,p=`rgba(34,197,94,${.2+Math.min(1,f/c)*.6})`;return l.jsxs("div",{className:"flex h-12 flex-col items-center justify-center rounded-md text-foreground",style:{background:p},children:[l.jsx("span",{className:"font-medium",children:new Date(d.date).getDate()}),l.jsx("span",{className:"text-[10px]",children:Math.round(f)})]},d.date)})})]})]}),l.jsx(nr,{})]})}const cze=["Stand on a marker about 8 feet from the camera","Use bright, even lighting with minimal shadows","Wear fitted clothing and remove accessories","Keep arms slightly away from the torso","Frame head to toe with a neutral background"],uze=[{label:"Front",description:"Feet together, arms out"},{label:"Side",description:"Turn 90, head forward"},{label:"Back",description:"Relaxed shoulders"}];function dze(){return l.jsxs("main",{className:"mx-auto flex min-h-screen w-full max-w-3xl flex-col gap-6 p-6",children:[l.jsx(Fe,{title:"Photo Tips",description:"Improve photo scan accuracy"}),l.jsx(fl,{}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-3xl font-semibold",children:"Photo Tips"}),l.jsx("p",{className:"text-muted-foreground",children:"Better lighting, distance, and framing lead to more accurate body-fat estimates. Follow this checklist before each scan."})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(IJ,{className:"h-5 w-5 text-primary"})," Checklist"]})}),l.jsx(ne,{children:l.jsx("ul",{className:"list-disc space-y-2 pl-6 text-sm text-muted-foreground",children:cze.map(t=>l.jsx("li",{children:t},t))})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(UJ,{className:"h-5 w-5 text-primary"})," Lighting & Setup"]})}),l.jsxs(ne,{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Face a window or soft light source. Avoid overhead lights that cast harsh shadows. If possible, ask someone to take the photos or use a tripod at chest height."}),l.jsx("p",{children:"Mark a standing spot with tape so each scan uses the same distance. A consistent setup improves comparisons over time."})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx($J,{className:"h-5 w-5 text-primary"})," Poses"]})}),l.jsx(ne,{className:"grid gap-4 md:grid-cols-3",children:uze.map(t=>l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"flex h-32 w-24 items-end justify-center rounded-lg border bg-muted",children:l.jsx("div",{className:"h-28 w-6 rounded-full bg-gradient-to-t from-primary/70 to-primary/30"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium",children:t.label}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.label))})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsxs(me,{className:"flex items-center gap-2",children:[l.jsx(HJ,{className:"h-5 w-5 text-primary"})," Need help?"]})}),l.jsx(ne,{className:"text-sm text-muted-foreground",children:"Share these tips with whoever is taking your photos. For the best accuracy, retake any photo that fails the gate or looks blurry before submitting your scan."})]})]})}const fze="https://linear.app/mybodyscan/issue/WORKOUTS-SHIM";function hze(t){console.info(`[shim] ${t}()  replace with workout planner service. TODO: ${fze}`)}async function fG(){hze("getTodayPlanMock");const t=new Date,e=[{id:"sq",name:"Back Squat",sets:4,reps:"6-8",focus:"strength"},{id:"bp",name:"Bench Press",sets:4,reps:"6-8",focus:"strength"},{id:"row",name:"Seated Row",sets:3,reps:"10-12",focus:"hypertrophy"},{id:"plk",name:"Plank",sets:3,reps:"45s",focus:"conditioning"}],n=Array.from({length:14},(r,i)=>({date:new Date(t.getTime()-i*864e5).toISOString().slice(0,10),completed:i%3!==0})).reverse();return{today:{day:t.toLocaleDateString(void 0,{weekday:"long"}),summary:"Lower body strength + core finisher",exercises:e},library:[{id:"hypertrophy-1",name:"Upper Pump 45",difficulty:"intermediate",durationMinutes:45,focus:"Chest + Back"},{id:"conditioning-1",name:"MetCon 30",difficulty:"advanced",durationMinutes:30,focus:"Engine + Core"},{id:"mobility-1",name:"Mobility Reset",difficulty:"beginner",durationMinutes:20,focus:"Recovery"}],completionStreak:n}}function pze({data:t}){if(!t.length)return l.jsx("div",{className:"flex h-32 w-full items-center justify-center rounded-md border border-dashed border-muted-foreground/40 text-sm text-muted-foreground",children:"No workouts tracked yet"});const e=t.map(n=>({...n,value:n.completed?1:0}));return l.jsx("div",{className:"h-40 w-full",children:l.jsx($0,{children:l.jsxs(Y6e,{data:e,margin:{top:12,right:16,bottom:8,left:0},children:[l.jsx(t_,{strokeDasharray:"3 3"}),l.jsx(Ya,{dataKey:"date",tick:{fontSize:10},interval:1,angle:-35,textAnchor:"end",height:48}),l.jsx(Vo,{hide:!0,domain:[0,1]}),l.jsx(zr,{formatter:n=>n?"Completed":"Missed",labelFormatter:n=>new Date(n).toLocaleDateString(),contentStyle:{fontSize:"0.75rem"}}),l.jsx(Ga,{dataKey:"value",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})}function mze(){const[t,e]=b.useState(null),[n,r]=b.useState(!1);return b.useEffect(()=>{r(!0),fG().then(e).finally(()=>r(!1))},[]),l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Workout Library - MyBodyScan",description:"Browse your plan and on-demand sessions"}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex max-w-md flex-col gap-6 p-6",children:[l.jsx(If,{}),l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx(NJ,{className:"mx-auto h-10 w-10 text-primary"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Workout Library"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Todays plan plus on-demand sessions to swap in."})]}),n&&l.jsx(te,{children:l.jsxs(ne,{className:"flex items-center justify-center gap-2 py-6 text-sm text-muted-foreground",children:[l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-muted border-t-primary"}),"Loading workouts"]})}),t&&l.jsxs(l.Fragment,{children:[l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Todays focus"})}),l.jsxs(ne,{className:"space-y-3 text-sm",children:[l.jsx("div",{className:"font-medium text-foreground",children:t.today.day}),l.jsx("p",{className:"text-muted-foreground",children:t.today.summary}),l.jsx("ul",{className:"space-y-2",children:t.today.exercises.map(i=>l.jsxs("li",{className:"flex flex-col rounded-md border border-border p-3",children:[l.jsx("div",{className:"text-sm font-semibold text-foreground",children:i.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.sets," sets  ",i.reps,"  ",i.focus]})]},i.id))})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Completion streak"})}),l.jsx(ne,{children:l.jsx(pze,{data:t.completionStreak})})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"On-demand sessions"})}),l.jsx(ne,{className:"space-y-3",children:t.library.map(i=>l.jsxs("div",{className:"rounded-md border border-border p-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:i.name}),l.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:i.focus})]}),l.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.durationMinutes," min  ",i.difficulty]})]}),l.jsx(X,{variant:"outline",size:"sm",className:"mt-2 w-full",children:"Swap into today"})]},i.id))})]})]})]}),l.jsx(nr,{})]})}function gze(){const[t,e]=b.useState(null);b.useEffect(()=>{fG().then(e)},[]);const n=b.useMemo(()=>t?t.completionStreak.filter(r=>r.completed):[],[t]);return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Completed Workouts - MyBodyScan",description:"Celebrate your recent streak"}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex max-w-md flex-col gap-6 p-6",children:[l.jsx(If,{}),l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx(zJ,{className:"mx-auto h-10 w-10 text-primary"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Completed Workouts"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep the streak alive! These were logged over the last 14 days."})]}),n.length===0?l.jsx(te,{children:l.jsx(ne,{className:"py-8 text-center text-sm text-muted-foreground",children:"No workouts logged yet  your next completion will show up here."})}):l.jsx("div",{className:"space-y-3",children:n.map(r=>l.jsx(te,{children:l.jsxs(ne,{className:"flex items-center justify-between py-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-foreground",children:new Date(r.date).toLocaleDateString()}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Strength + conditioning"})]}),l.jsx("div",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:"Completed"})]})},r.date))})]}),l.jsx(nr,{})]})}const yze="https://linear.app/mybodyscan/issue/HEALTH-SHIM";function hG(t){console.info(`[shim] ${t}()  replace with health connector. TODO: ${yze}`)}async function vze(t){return hG("connectMock"),{provider:t,status:"connected",connectedAt:new Date().toISOString()}}async function xze(t){hG("syncDayMock");const e=t==="today"?0:1,n=8e3-e*1200;return{day:t,steps:n,activeCalories:520-e*80,sleepHours:Number((7.2+e*.3).toFixed(1))}}function bze(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,o]=b.useState(!1),a=async c=>{o(!0);try{const u=await vze(c);e(u),se({title:"Connected",description:`${c} linked for demo data.`})}catch(u){se({title:"Connection failed",description:(u==null?void 0:u.message)||"Try again",variant:"destructive"})}finally{o(!1)}},s=async c=>{try{const u=await xze(c);r(u),se({title:`Synced ${c}`,description:`${u.steps} steps imported.`})}catch(u){se({title:"Sync failed",description:(u==null?void 0:u.message)||"Try again",variant:"destructive"})}};return l.jsxs("div",{className:"min-h-screen bg-background pb-16 md:pb-0",children:[l.jsx(Fe,{title:"Health Connect - MyBodyScan",description:"Link HealthKit or Health Connect"}),l.jsx($n,{}),l.jsxs("main",{className:"mx-auto flex max-w-md flex-col gap-6 p-6",children:[l.jsx(If,{}),l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx(PJ,{className:"mx-auto h-10 w-10 text-primary"}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Health integrations"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pull in steps, calories, and sleep to power Todays dashboard."})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Connect a source"})}),l.jsxs(ne,{className:"flex flex-col gap-3",children:[l.jsxs(X,{variant:"outline",disabled:i,onClick:()=>a("apple-health"),className:"flex items-center justify-center gap-2",children:[l.jsx(aE,{className:"h-4 w-4"}),"Connect Apple HealthKit"]}),l.jsxs(X,{variant:"outline",disabled:i,onClick:()=>a("google-health-connect"),className:"flex items-center justify-center gap-2",children:[l.jsx(RJ,{className:"h-4 w-4"}),"Connect Health Connect"]}),l.jsx(X,{variant:"ghost",disabled:i,onClick:()=>a("manual"),children:"Mock web data source"}),t&&l.jsxs("div",{className:"rounded-md bg-muted p-3 text-xs text-muted-foreground",children:["Connected to ",t.provider,"  ",new Date(t.connectedAt).toLocaleTimeString()]})]})]}),l.jsxs(te,{children:[l.jsx(he,{children:l.jsx(me,{children:"Sync a day"})}),l.jsxs(ne,{className:"flex flex-col gap-3",children:[l.jsx(X,{onClick:()=>s("today"),variant:"default",children:"Sync today"}),l.jsx(X,{onClick:()=>s("yesterday"),variant:"outline",children:"Sync yesterday"}),n&&l.jsxs("div",{className:"grid grid-cols-3 gap-3 rounded-md border border-border p-3 text-center text-xs",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Steps"}),l.jsx("div",{className:"text-lg font-semibold",children:n.steps})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Active kcal"}),l.jsx("div",{className:"text-lg font-semibold",children:n.activeCalories})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Sleep"}),l.jsxs("div",{className:"text-lg font-semibold",children:[n.sleepHours,"h"]})]})]})]})]})]}),l.jsx(nr,{})]})}class or extends b.Component{constructor(){super(...arguments);gu(this,"state",{hasError:!1});gu(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n){console.error("[route-boundary]",n),se({title:"Something went wrong",description:n.message,variant:"destructive"})}render(){return this.state.hasError?l.jsxs("div",{className:"flex min-h-[240px] flex-col items-center justify-center gap-3 rounded-lg border border-destructive/40 bg-destructive/5 p-6 text-center",children:[l.jsx("div",{className:"text-sm font-medium text-destructive",children:"We hit a snag loading this view."}),this.state.error&&l.jsx("div",{className:"text-xs text-muted-foreground",children:this.state.error.message}),l.jsx(X,{size:"sm",variant:"outline",onClick:this.handleReset,children:"Try again"})]}):this.props.children}}const wze=b.lazy(()=>Jb(()=>import("./OnboardingMBS-B2cfq_DW.js"),[])),_ze=new gne,Sze=()=>(b.useEffect(()=>{lpe().catch(()=>{})},[]),l.jsx(vne,{client:_ze,children:l.jsxs(zte,{children:[l.jsx(Ere,{}),l.jsx(PZ,{}),l.jsx(oee,{}),l.jsx(ppe,{children:l.jsx(X5e,{children:l.jsx(mre,{children:l.jsx(gpe,{children:l.jsxs(sre,{children:[l.jsx(Se,{path:"/",element:l.jsx(pye,{})}),l.jsx(Se,{path:"/welcome",element:l.jsx(ki,{children:l.jsx(mye,{})})}),l.jsx(Se,{path:"/privacy",element:l.jsx(ki,{children:l.jsx(kve,{})})}),l.jsx(Se,{path:"/terms",element:l.jsx(ki,{children:l.jsx(Ove,{})})}),l.jsx(Se,{path:"/legal/disclaimer",element:l.jsx(ki,{children:l.jsx(Mve,{})})}),l.jsx(Se,{path:"/support",element:l.jsx(ki,{children:l.jsx(Rve,{})})}),l.jsx(Se,{path:"/help",element:l.jsx(ki,{children:l.jsx(Fve,{})})}),l.jsx(Se,{path:"/legal/privacy",element:l.jsx(ki,{children:l.jsx(Dve,{})})}),l.jsx(Se,{path:"/legal/terms",element:l.jsx(ki,{children:l.jsx($ve,{})})}),l.jsx(Se,{path:"/legal/refund",element:l.jsx(ki,{children:l.jsx(Lve,{})})}),l.jsx(Se,{path:"/checkout/success",element:l.jsx(ki,{children:l.jsx(Vve,{})})}),l.jsx(Se,{path:"/checkout/canceled",element:l.jsx(ki,{children:l.jsx(Bve,{})})}),l.jsx(Se,{path:"/auth",element:l.jsx(b.Suspense,{fallback:l.jsx(yy,{}),children:l.jsx(vye,{})})}),l.jsx(Se,{path:"/home",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(wye,{})})})}),l.jsx(Se,{path:"/today",element:l.jsx(Kn,{name:"health",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(S5e,{})})})})})}),l.jsx(Se,{path:"/onboarding",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(j5e,{})})})}),l.jsx(Se,{path:"/scan",element:l.jsx(Kn,{name:"scan",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(N5e,{})})})})})}),l.jsx(Se,{path:"/coach",element:l.jsx(Kn,{name:"coach",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(K5e,{})})})})})}),l.jsx(Se,{path:"/nutrition",element:l.jsx(Kn,{name:"nutrition",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(Y5e,{})})})})})}),l.jsx(Se,{path:"/workouts",element:l.jsx(Kn,{name:"workouts",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(k5e,{})})})})})}),l.jsx(Se,{path:"/workouts/library",element:l.jsx(Kn,{name:"workouts",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(mze,{})})})})})}),l.jsx(Se,{path:"/workouts/completed",element:l.jsx(Kn,{name:"workouts",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(gze,{})})})})})}),l.jsx(Se,{path:"/meals",element:l.jsx(Kn,{name:"nutrition",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(q5e,{})})})})})}),l.jsx(Se,{path:"/meals/search",element:l.jsx(Kn,{name:"nutrition",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(nze,{})})})})})}),l.jsx(Se,{path:"/barcode",element:l.jsx(Kn,{name:"nutrition",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(sze,{})})})})})}),l.jsx(Se,{path:"/meals/barcode",element:l.jsx(Yt,{to:"/barcode",replace:!0})}),l.jsx(Se,{path:"/meals/history",element:l.jsx(Kn,{name:"nutrition",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(lze,{})})})})})}),l.jsx(Se,{path:"/capture",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(wM,{})})})}),l.jsx(Se,{path:"/capture/photos",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(b.Suspense,{fallback:l.jsx(sR,{}),children:l.jsx(_M,{})})})})}),l.jsx(Se,{path:"/capture/video",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(b.Suspense,{fallback:l.jsx(sR,{}),children:l.jsx(TM,{})})})})}),l.jsx(Se,{path:"/capture-picker",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(wM,{})})})}),l.jsx(Se,{path:"/photo-capture",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(_M,{})})})}),l.jsx(Se,{path:"/video-capture",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(TM,{})})})}),l.jsx(Se,{path:"/processing/:uid/:scanId",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(b.Suspense,{fallback:l.jsx(yy,{}),children:l.jsx(AM,{})})})})}),l.jsx(Se,{path:"/processing/:scanId",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(b.Suspense,{fallback:l.jsx(yy,{}),children:l.jsx(AM,{})})})})}),l.jsx(Se,{path:"/results/:scanId",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(b.Suspense,{fallback:l.jsx(yy,{}),children:l.jsx(Mye,{})})})})}),l.jsx(Se,{path:"/history",element:l.jsx(Kn,{name:"scan",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(Bye,{})})})})})}),l.jsx(Se,{path:"/plans",element:l.jsx(Kn,{name:"account",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(Uye,{})})})})})}),l.jsx(Se,{path:"/settings",element:l.jsx(Kn,{name:"account",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(Cve,{})})})})})}),l.jsx(Se,{path:"/health",element:l.jsx(Kn,{name:"health",fallback:l.jsx(Yt,{to:"/home",replace:!0}),children:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(or,{children:l.jsx(bze,{})})})})})}),l.jsx(Se,{path:"/settings/units",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(h5e,{})})})}),l.jsx(Se,{path:"/coach/onboarding",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(Ixe,{})})})}),l.jsx(Se,{path:"/coach/tracker",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(Q6e,{})})})}),l.jsx(Se,{path:"/settings/health",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(f5e,{})})})}),l.jsx(Se,{path:"/scan/new",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(fxe,{})})})}),l.jsx(Se,{path:"/scan/:scanId",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(hxe,{})})})}),l.jsx(Se,{path:"/scan/tips",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(dze,{})})})}),l.jsx(Se,{path:"/report",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(LM,{})})})}),l.jsx(Se,{path:"/report/:scanId",element:l.jsx(Ye,{children:l.jsx(Xe,{children:l.jsx(LM,{})})})}),l.jsx(Se,{path:"/debug/credits",element:l.jsx(Sxe,{})}),l.jsx(Se,{path:"/debug/plan",element:l.jsx(p5e,{})}),l.jsx(Se,{path:"/debug/health",element:l.jsx(m5e,{})}),l.jsx(Se,{path:"/onboarding-mbs",element:l.jsx(D.Suspense,{fallback:l.jsx("div",{className:"p-6 text-slate-500",children:"Loading"}),children:l.jsx(wze,{})})}),l.jsx(Se,{path:"*",element:l.jsx(Nve,{})})]})})})})})]})}));function Eze(){if(!(typeof navigator>"u"||!("serviceWorker"in navigator)))try{navigator.serviceWorker.getRegistrations().then(t=>{for(const e of t)e.unregister()})}catch{}}Eze();SV(document.getElementById("root")).render(l.jsx(Sze,{}));export{cN as H,D as R,Be as a,nt as b,ul as c,Nt as d,ya as g,l as j,$d as k,KC as l,Tf as o,b as r,_l as s};
